webpackJsonp([2],{"+708":function(t,e,i){"use strict";var s={name:"vue-particles",props:{color:{type:String,default:"#dedede"},particleOpacity:{type:Number,default:.7},particlesNumber:{type:Number,default:80},shapeType:{type:String,default:"circle"},particleSize:{type:Number,default:4},linesColor:{type:String,default:"#dedede"},linesWidth:{type:Number,default:1},lineLinked:{type:Boolean,default:!0},lineOpacity:{type:Number,default:.4},linesDistance:{type:Number,default:150},moveSpeed:{type:Number,default:3},hoverEffect:{type:Boolean,default:!0},hoverMode:{type:String,default:"grab"},clickEffect:{type:Boolean,default:!0},clickMode:{type:String,default:"push"},image:{}},data:function(){return{id:"particles-js-"+Math.round(5e3*Math.random())}},mounted:function(){var t=this;i("JAHf"),this.$nextTick(function(){t.initParticleJS(t.color,t.particleOpacity,t.particlesNumber,t.shapeType,t.particleSize,t.linesColor,t.linesWidth,t.lineLinked,t.lineOpacity,t.linesDistance,t.moveSpeed,t.hoverEffect,t.hoverMode,t.clickEffect,t.clickMode,t.image,t.id)})},methods:{initParticleJS:function(t,e,i,s,n,o,a,r,h,l,p,u,c,d,g,m,v){particlesJS(v,{particles:{number:{value:i,density:{enable:!0,value_area:800}},color:{value:t},shape:{type:s,stroke:{width:0,color:"#192231"},polygon:{nb_sides:5},image:m},opacity:{value:e,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:n,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:r,distance:l,color:o,opacity:h,width:a},move:{enable:!0,speed:p,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:u,mode:c},onclick:{enable:d,mode:g},onresize:{enable:!0,density_auto:!0,density_area:400}},modes:{grab:{distance:140,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})}}},n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"particles-js",attrs:{id:t.id,color:t.color,particleOpacity:t.particleOpacity,linesColor:t.linesColor,particlesNumber:t.particlesNumber,shapeType:t.shapeType,particleSize:t.particleSize,linesWidth:t.linesWidth,lineLinked:t.lineLinked,lineOpacity:t.lineOpacity,linesDistance:t.linesDistance,moveSpeed:t.moveSpeed,hoverEffect:t.hoverEffect,hoverMode:t.hoverMode,clickEffect:t.clickEffect,clickMode:t.clickMode,image:t.image}})},o=[];n._withStripped=!0;var a=i("XyMi"),r=Object(a.a)(s,n,o,!1,null,null,null);r.options.__file="node_modules/vue-particles/src/vue-particles/vue-particles.vue";e.a=r.exports},"+7oY":function(t,e){},"+nwc":function(t,e){},0:function(t,e,i){t.exports=i("nplA")},1:function(t,e){},2:function(t,e){},"2ean":function(t,e){},"3Ext":function(t,e){},"3In9":function(t,e){},"3Puz":function(t,e){},"5Sdr":function(t,e){},"6RdA":function(t,e){},"Bj+s":function(t,e){},CBX4:function(t,e){},D4uH:function(t,e,i){"use strict";var s={},n={name:"icon",props:{name:{type:String,validator:function(t){return t?t in s||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+t+'".\nPlease make sure you have imported this icon before using it.'),!1):(console.warn('Invalid prop: prop "name" is required.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?s[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,i=t.height;return Math.max(e,i)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(t,i,s){var n="fa-"+(o++).toString(16);return e[s]=n,' id="'+n+'"'}),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(t,i,s,n){var o=i||n;return o&&e[o]?"#"+e[o]:t}),t}},mounted:function(){var t=this;if(!this.icon){this.$children.forEach(function(e){e.outerScale=t.normalizedScale});var e=0,i=0;this.$children.forEach(function(t){e=Math.max(e,t.width),i=Math.max(i,t.height)}),this.childrenWidth=e,this.childrenHeight=i,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(i-t.height)/2})}},register:function(t){for(var e in t){var i=t[e];i.paths||(i.paths=[]),i.d&&i.paths.push({d:i.d}),i.polygons||(i.polygons=[]),i.points&&i.polygons.push({points:i.points}),s[e]=i}},icons:s},o=870711;var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{class:t.klass,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e,s){return i("path",t._b({key:"path-"+s},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e,s){return i("polygon",t._b({key:"polygon-"+s},"polygon",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.raw?[i("g",{domProps:{innerHTML:t._s(t.raw)}})]:t._e()])],2)},r=[];a._withStripped=!0;var h=i("XyMi"),l=!1;var p=function(t){l||i("vJsI")},u=Object(h.a)(n,a,r,!1,p,null,null);u.options.__file="node_modules/vue-awesome/components/Icon.vue";e.a=u.exports},D65R:function(t,e){},JuT1:function(t,e){},Kuv8:function(t,e){},LNWm:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIHN0eWxlPSJmaWxsOiNEOEQ4RDg7IiBkPSJNMjU2LDI2NC44MjhjLTEyLjM1OSwwLTIzLjgzNC0xLjc2Ni0zNC40MjgtNC40MTRsMTYuNzcyLDIzMy45MzENCglDMjM5LjIyOCw1MDQuMDU1LDI0Ni4yOSw1MTIsMjU2LDUxMmM5LjcxLDAsMTYuNzcyLTcuOTQ1LDE3LjY1NS0xNy42NTVsMTYuNzcyLTIzMy45MzENCglDMjc5LjgzNSwyNjMuOTQ1LDI2OC4zNTksMjY0LjgyOCwyNTYsMjY0LjgyOCIvPg0KPHBhdGggc3R5bGU9ImZpbGw6IzYxQkE3MjsiIGQ9Ik0zODguNDE0LDEzMi40MTRDMzg4LjQxNCw1OS4xNDUsMzI5LjI2OSwwLDI1NiwwUzEyMy41ODYsNTkuMTQ1LDEyMy41ODYsMTMyLjQxNA0KCVMxODIuNzMxLDI2NC44MjgsMjU2LDI2NC44MjhTMzg4LjQxNCwyMDUuNjgzLDM4OC40MTQsMTMyLjQxNCIvPg0KPGc+DQoJPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik0yNTYsMjAzLjAzNGMtNS4yOTcsMC04LjgyOC0zLjUzMS04LjgyOC04LjgyOFY3MC42MjFjMC01LjI5NywzLjUzMS04LjgyOCw4LjgyOC04LjgyOA0KCQljNS4yOTcsMCw4LjgyOCwzLjUzMSw4LjgyOCw4LjgyOHYxMjMuNTg2QzI2NC44MjgsMTk5LjUwMywyNjEuMjk3LDIwMy4wMzQsMjU2LDIwMy4wMzR6Ii8+DQoJPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik0zMTcuNzkzLDE0MS4yNDFIMTk0LjIwN2MtNS4yOTcsMC04LjgyOC0zLjUzMS04LjgyOC04LjgyOGMwLTUuMjk3LDMuNTMxLTguODI4LDguODI4LTguODI4DQoJCWgxMjMuNTg2YzUuMjk3LDAsOC44MjgsMy41MzEsOC44MjgsOC44MjhDMzI2LjYyMSwxMzcuNzEsMzIzLjA5LDE0MS4yNDEsMzE3Ljc5MywxNDEuMjQxeiIvPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo="},LXoh:function(t,e){},N12Q:function(t,e){},N8CD:function(t,e){},"NJ/G":function(t,e){},NSaL:function(t,e){},NhDD:function(t,e){},ORVZ:function(t,e){},OpMJ:function(t,e){},PREp:function(t,e){},R58i:function(t,e){},Uzyo:function(t,e){},XFgn:function(t,e){},XaeM:function(t,e){},Xqri:function(t,e){},ZES2:function(t,e){},bG1P:function(t,e){},f8hW:function(t,e){},fA3p:function(t,e){},hXcS:function(t,e){},jhro:function(t,e){},la8p:function(t,e){},nplA:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),n=i.n(s),o=(i("30VO"),i("/5sW")),a=i("7109");o.a.use(a.default,{components:a,directives:a,plugins:a});i("L4dm"),i("hAPP"),i("3Puz"),i("N12Q");var r={name:"login-small-comp",data:function(){return{entity:this.$store.state.entity,fields:{username:null,password:null},uuid:this._uid,errMsg:null,feedbackMsg:null}},sockets:{connect:function(){console.log("module %s connect vue side",this.$options.name)},giveLogin:function(t){t.success?this.feedbackMsg=t.msg||"successfully logged in":this.errMsg=t.msg||"something went wrong logging in"}},created:function(){},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity}},methods:{login:function(){var t={username:this.fields.username,password:this.fields.password};console.log("emitting"),this.$socket.emit("login",t)},clearFields:function(){for(var t in this.fields)this.fields.hasOwnProperty(t)&&(this.fields[t]=null)}},props:{}},h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return!t.entity||t.entity&&!t.entity.auth?i("div",{staticClass:"login-small"},[i("div",{staticClass:"login-form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.username,expression:"fields.username"}],attrs:{type:"text",placeholder:"username"},domProps:{value:t.fields.username},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.login(e):null},input:function(e){e.target.composing||t.$set(t.fields,"username",e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.password,expression:"fields.password"}],attrs:{placeholder:"password",type:"password"},domProps:{value:t.fields.password},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.login(e):null},input:function(e){e.target.composing||t.$set(t.fields,"password",e.target.value)}}}),i("button",{attrs:{type:"button"},on:{click:t.login}},[t._v("login")]),i("router-link",{attrs:{to:"/register"}},[i("button",[t._v("register")])])],1),t.errMsg||t.feedbackMsg?i("div",{staticClass:"messages-container"},[t.errMsg?i("div",{staticClass:"errMsg"},[t._v(t._s(t.errMsg))]):t._e(),t.feedbackMsg?i("div",{staticClass:"feedbackMsg"},[t._v(t._s(t.feedbackMsg))]):t._e()]):t._e()]):t._e()},l=[];h._withStripped=!0;var p=i("XyMi"),u=!1;var c=function(t){u||i("3Ext")},d=Object(p.a)(r,h,l,!1,c,"data-v-a32cbb7a",null);d.options.__file="src/components/login-small.vue";var g=d.exports,m={data:function(){return{nav:this.$store.state.nav,entity:this.$store.state.entity}},sockets:{connect:function(){},giveNav:function(t){this._uid==t.clientId&&t.nav&&this.$store.commit("navSet",t.nav)}},created:function(){this.getNav({clientId:this._uid,siteTitle:this.siteTitle})},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity}},methods:{getNav:function(t){this.$socket.emit("getNav",t)},toggleSideBar:function(){this.eventHub.$emit("toggleSideBar")},emit:function(t){this.eventHub.$emit(t)}},props:{siteTitle:{}},components:{"login-small-comp":g}},v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav"},[t.nav?i("div",{staticClass:"nav-positioner"},[i("div",{staticClass:"brand-container"},[i("router-link",{staticClass:"brand",attrs:{to:"/home"}},[t._v(t._s(t.nav.siteTitle))])],1),t.entity?i("div",{staticClass:"welcome-message-container"},[i("div",{staticClass:"welcome-message"},[i("div",{staticClass:"text"},[t._v("welcome, "+t._s(" "))]),i("router-link",{staticClass:"text",attrs:{to:"/self"}},[t._v(" "+t._s(t.entity.username||t.entity.identity)+",")]),i("div",{staticClass:"text"},[t._v("have you seen our "+t._s(" "))]),i("router-link",{staticClass:"text",attrs:{to:"/ico"}},[t._v("ICO?")])],1)]):t._e(),i("div",{staticClass:"actions-group-container"},[t._l(t.nav.actionGroups,function(e){return t.nav.actionGroups&&t.nav.actionGroups.length>0?i("div",{staticClass:"actions-container"},t._l(e.actions,function(e){return e.auth.indexOf("user")>=0&&!t.entity.auth||e.auth.indexOf("nouser")>=0&&t.entity.auth?t._e():i("div",{staticClass:"action",attrs:{title:e.text}},["link"==e.type?i("router-link",{attrs:{to:e.link}},["text"==e.render?i("div",{staticClass:"text"},[t._v(t._s(e.text))]):"icon"==e.render?i("icon",{attrs:{name:e.icon}}):"img"==e.render?i("img",{attrs:{src:e.src}}):t._e()],1):"component"!=e.type||t.entity.auth?"dropdown"==e.type?i("div",{staticClass:"dropdown-container",on:{click:function(i){t.emit(e.action)}}},["text"==e.render?i("div",{staticClass:"text"},[t._v(t._s(e.text))]):"icon"==e.render?i("icon",{attrs:{name:e.icon}}):"img"==e.render?i("img",{attrs:{src:e.src}}):t._e()],1):"static"==e.type?i("div",{staticClass:"static"},["text"==e.render?i("div",{staticClass:"text"},[t._v(t._s(e.text))]):"icon"==e.render?i("icon",{attrs:{name:e.icon}}):"img"==e.render?i("img",{attrs:{src:e.src}}):t._e()],1):t._e():i(e.text+"-comp",{tag:"component"})],1)})):t._e()}),t.nav.actions&&t.nav.actions.length>0?i("div",{staticClass:"actions-container"},t._l(t.nav.actions,function(e){return e.auth.indexOf("user")>=0&&!t.entity.auth||e.auth.indexOf("nouser")>=0&&t.entity.auth?t._e():i("div",{staticClass:"action",attrs:{title:e.text}},["link"==e.type?i("router-link",{attrs:{to:e.link}},["text"==e.render?i("div",{staticClass:"text"},[t._v(t._s(e.text))]):"icon"==e.render?i("icon",{attrs:{name:e.icon}}):t._e()],1):"component"!=e.type||t.entity.auth?"dropdown"==e.type?i("div",{staticClass:"dropdown-container"},["text"==e.render?i("div",{staticClass:"text"},[t._v(t._s(e.text))]):"icon"==e.render?i("icon",{attrs:{name:e.icon}}):t._e()],1):t._e():i(e.text+"-comp",{tag:"component"})],1)})):t._e()],2)]):t._e()])},f=[];v._withStripped=!0;var y=!1;var b=function(t){y||i("Kuv8")},M=Object(p.a)(m,v,f,!1,b,"data-v-0276edc3",null);M.options.__file="src/components/nav.vue";var w=M.exports,C=i("ElYn"),I=i.n(C),_={mixins:[I()({vue:{reactiveSetter:!0,vm:this},objList:"this.optionsMutable",stringList:"this.optionsMutable"})],data:function(){return{sidebar:null,uuid:this._uid,entity:this.$store.state.entity,optionsMutable:this.$store.state.sideBarOptions}},sockets:{connect:function(){},giveNav:function(t){this.uuid==t.id&&(this.sidebar=t.sidebar)}},created:function(){var t=this;this.eventHub.$on("toggleSideBar",function(){t.toggleOpt("closed")}),this.optionsMutable=this.options},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity,this.entity.inventory=this.$store.state.entity.inventory},"$store.state.sideBarOptions":function(){this.optionsMutable=this.$store.state.sideBarOptions}},methods:{getNav:function(t){this.$socket.emit("getNav",t)},logout:function(){console.log("logging out"),this.$socket.emit("logout",{})}},props:{siteTitle:{default:"site title",type:String},options:{type:Array,default:function(){return["closed"]}}},components:{"login-small-comp":g}},T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sidebar",class:{closed:t.optIn("closed")}},[i("div",{staticClass:"sidebar-positioner"},[t.entity?i("div",{staticClass:"welcome-message-container"},[i("div",{staticClass:"welcome-message"},[t._v("welcome,"),i("a",{attrs:{href:"/self"}},[t._v(t._s(t.entity.username||t.entity.identity))])])]):t._e(),i("div",{staticClass:"inventory-list"}),t.sidebar?i("div",{staticClass:"actions-group-container"},[t._l(t.sidebar.actionGroups,function(e){return t.sidebar.actionGroups&&t.sidebar.actionGroups.length>0?i("div",{staticClass:"actions-container"},t._l(e.actions,function(e){return e.auth.indexOf("user")>=0&&!t.entity.auth||e.auth.indexOf("nouser")>=0&&t.entity.auth?t._e():i("div",{staticClass:"action"},["link"==e.type?i("a",{attrs:{href:e.link}},["text"==e.render?i("div",{staticClass:"text"},[t._v(t._s(e.text))]):"icon"==e.render?i("icon",{attrs:{name:e.icon}}):t._e()],1):"component"!=e.type||t.entity.auth?"dropdown"==e.type?i("div",{staticClass:"dropdown-container"},["text"==e.render?i("div",{staticClass:"text"},[t._v(t._s(e.text))]):"icon"==e.render?i("icon",{attrs:{name:e.icon}}):t._e()],1):t._e():i(e.text+"-comp",{tag:"component"})],1)})):t._e()}),t.sidebar.actions&&t.sidebar.actions.length>0?i("div",{staticClass:"actions-container"},t._l(t.sidebar.actions,function(e){return e.auth.indexOf("user")>=0&&!t.entity.auth||e.auth.indexOf("nouser")>=0&&t.entity.auth?t._e():i("div",{staticClass:"action"},["link"==e.type?i("a",{attrs:{href:e.link}},["text"==e.render?i("div",{staticClass:"text"},[t._v(t._s(e.text))]):"icon"==e.render?i("icon",{attrs:{name:e.icon}}):t._e()],1):"component"!=e.type||t.entity.auth?"dropdown"==e.type?i("div",{staticClass:"dropdown-container"},["text"==e.render?i("div",{staticClass:"text"},[t._v(t._s(e.text))]):"icon"==e.render?i("icon",{attrs:{name:e.icon}}):t._e()],1):t._e():i(e.text+"-comp",{tag:"component"})],1)})):t._e()],2):t._e(),i("div",{staticClass:"actions-group-container bottom-row"},[i("div",{staticClass:"actions-container"},[t.entity.username?i("div",{staticClass:"action",on:{click:t.logout}},[i("div",{staticClass:"text"},[t._v("logout")])]):t._e(),t.entity.username?t._e():i("div",{staticClass:"action"},[i("router-link",{attrs:{to:"/register"}},[t._v("register")])],1),i("div",{staticClass:"action",on:{click:function(e){t.pushOpt("closed")}}},[i("div",{staticClass:"text"},[t._v("close")])])])])])])},O=[];T._withStripped=!0;var S=!1;var x=function(t){S||i("XFgn")},k=Object(p.a)(_,T,O,!1,x,"data-v-19f8877c",null);k.options.__file="src/components/sidebar.vue";var $=k.exports,j=i("pFYg"),A=i.n(j),N=i("BO1k"),L=i.n(N),q=i("//Fk"),P=i.n(q),D={data:function(){return{}},methods:{setThing:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.option,s=e.list,n=void 0===s?this.thingMutable.things:s,o=e.obj,a=void 0!==o&&o,r=e.key,h=void 0===r?"_id":r,l=e.keymatchtype,p=e.push,u=e.strings,c=e.targets;return new P.a(function(e,s){var o=t.thingIndex({option:i,list:n,obj:a,key:h,keymatchtype:l,strings:u});if(o>=0&&n)if(c)for(var r=0;r<c.length;r++)n[o][c[r]]=i[c[r]];else n.splice(o,1,i);else p&&n&&n.push(i);e()})},setThings:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.options,s=e.list,n=void 0===s?this.thingMutable.things:s,o=e.obj,a=void 0!==o&&o,r=e.key,h=void 0===r?"_id":r,l=e.keymatchtype,p=e.push;return new P.a(function(e,s){if(i&&n){var o=!0,r=!1,u=void 0;try{for(var c,d=L()(i);!(o=(c=d.next()).done);o=!0){var g=c.value;t.setThing({option:g,list:n,obj:a,key:h,keymatchtype:l,push:p})}}catch(t){r=!0,u=t}finally{try{!o&&d.return&&d.return()}finally{if(r)throw u}}}e()})},optIn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id",n=arguments[4];if(!i&&e&&e.indexOf(t)>=0)return!0;if(i&&e)for(var o=0;o<e.length;o++)if("object"==(void 0===s?"undefined":A()(s))){for(var a=0;a<s.length;a++)if("broad"==n){if(e[o]&&this.getsmart(e[o],s[a],void 0)==this.getsmart(t,s[a],void 0)&&void 0!==this.getsmart(e[o],s[a],void 0))return!0;if(e[o]&&"string"==typeof e[o]&&e[o]==this.getsmart(t,s[a],void 0)&&void 0!==this.getsmart(t,s[a],void 0))return!0}else if(e[o]&&this.getsmart(e[o],s[a],void 0)==this.getsmart(t,s[a],void 0)&&void 0!==this.getsmart(e[o],s[a],void 0)){if(a==s.length-1)return!0}else if(e[o]&&"string"==typeof e[o]&&e[o]==this.getsmart(t,s[a],void 0)&&void 0!==this.getsmart(t,s[a],void 0)&&a==s.length-1)return!0}else if(e[o]&&e[o][s]==t[s]&&void 0!==e[o][s])return!0;return!1},thingIn:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.option,i=t.list,s=t.obj,n=void 0!==s&&s,o=t.key,a=void 0===o?"_id":o,r=t.keymatchtype,h=(t.strings,t.retIndex);if(!n&&i&&i.indexOf(e)>=0)return!h||i.indexOf(e);if(n&&i)for(var l=0;l<i.length;l++)if("object"==(void 0===a?"undefined":A()(a))){for(var p=0;p<a.length;p++)if("broad"==r){if(i[l]&&this.getsmart(i[l],a[p],void 0)==this.getsmart(e,a[p],void 0)&&void 0!==this.getsmart(i[l],a[p],void 0))return!h||l;if(i[l]&&"string"==typeof i[l]&&i[l]==this.getsmart(e,a[p],void 0)&&void 0!==this.getsmart(e,a[p],void 0))return!h||l}else if(i[l]&&this.getsmart(i[l],a[p],void 0)==this.getsmart(e,a[p],void 0)&&void 0!==this.getsmart(i[l],a[p],void 0)){if(p==a.length-1)return!h||l}else if(i[l]&&"string"==typeof i[l]&&i[l]==this.getsmart(e,a[p],void 0)&&void 0!==this.getsmart(e,a[p],void 0)&&p==a.length-1)return!h||l}else{if(i[l]&&i[l][a]==e[a]&&void 0!==i[l][a])return!h||l;if(i[l]&&"string"==typeof i[l]&&i[l]==e[a]&&void 0!==e[a])return!h||l}return!!h&&-1},optsIn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id",n=arguments[4],o=!0,a=!1,r=void 0;try{for(var h,l=L()(t);!(o=(h=l.next()).done);o=!0){var p=h.value;if(!i&&e&&e.indexOf(p)>=0);else{if(!i||!e)return!1;for(var u=0;u<e.length;u++)if(!this.optIn(p,e[u],i,s,n))return!1}}}catch(t){a=!0,r=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return!0},thingsIn:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.options,i=t.list,s=void 0===i?this.optionsMutable:i,n=t.obj,o=void 0!==n&&n,a=t.key,r=void 0===a?"_id":a,h=t.keymatchtype,l=!0,p=!1,u=void 0;try{for(var c,d=L()(e);!(l=(c=d.next()).done);l=!0){var g=c.value;if(!o&&s&&s.indexOf(g)>=0);else{if(!o||!s)return!1;for(var m=0;m<s.length;m++)if(!this.optIn(g,s[m],o,r,h))return!1}}}catch(t){p=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(p)throw u}}return!0},anyOptsIn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id",n=arguments[4],o=!0,a=!1,r=void 0;try{for(var h,l=L()(t);!(o=(h=l.next()).done);o=!0){var p=h.value;if(!i&&e&&e.indexOf(p)>=0)return!0;if(i&&e)for(var u=0;u<e.length;u++)if(this.optIn(p,e[u],i,s,n))return!0}}catch(t){a=!0,r=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return!1},anyThingsIn:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.options,i=t.list,s=void 0===i?this.optionsMutable:i,n=t.obj,o=void 0!==n&&n,a=t.key,r=void 0===a?"_id":a,h=t.keymatchtype,l=!0,p=!1,u=void 0;try{for(var c,d=L()(e);!(l=(c=d.next()).done);l=!0){var g=c.value;if(!o&&s&&s.indexOf(g)>=0)return!0;if(o&&s)for(var m=0;m<s.length;m++)if(this.optIn(g,s[m],o,r,h))return!0}}catch(t){p=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(p)throw u}}return!1},optIndex:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id",n=arguments[4];if(i&&e&&s){for(var o=0;o<e.length;o++)if(this.optIn(t,e,i,s,n))return o}else if(e)return e.indexOf(t);return-1},thingIndex:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.option,i=t.list,s=t.obj,n=void 0!==s&&s,o=t.key,a=void 0===o?"_id":o,r=t.keymatchtype,h=t.strings;return n&&i&&a?this.thingIn({option:e,list:i,obj:n,key:a,keymatchtype:r,strings:h,retIndex:!0}):i?i.indexOf(e):-1},pushOpt:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id";"object"!=(void 0===e?"undefined":A()(e))||this.optIn(t,e,i,s)||e.push(t)},pushThing:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.option,i=t.list,s=void 0===i?this.optionsMutable:i,n=t.obj,o=void 0!==n&&n,a=t.key,r=void 0===a?"_id":a;"object"!=(void 0===s?"undefined":A()(s))||this.optIn(e,s,o,r)||s.push(e)},pushOpts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id",n=!0,o=!1,a=void 0;try{for(var r,h=L()(t);!(n=(r=h.next()).done);n=!0){var l=r.value;this.pushOpt(l,e,i,s)}}catch(t){o=!0,a=t}finally{try{!n&&h.return&&h.return()}finally{if(o)throw a}}},pushThings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.options,i=t.list,s=void 0===i?this.optionsMutable:i,n=t.obj,o=void 0!==n&&n,a=t.key,r=void 0===a?"_id":a,h=!0,l=!1,p=void 0;try{for(var u,c=L()(e);!(h=(u=c.next()).done);h=!0){var d=u.value;this.pushOpt(d,s,o,r)}}catch(t){l=!0,p=t}finally{try{!h&&c.return&&c.return()}finally{if(l)throw p}}},popOpt:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id";"object"==(void 0===e?"undefined":A()(e))&&this.optIn(t,e,i,s)&&e.splice(this.optIndex(t,e,i,s),1)},popThing:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.option,i=t.list,s=void 0===i?this.optionsMutable:i,n=t.obj,o=void 0!==n&&n,a=t.key,r=void 0===a?"_id":a;"object"==(void 0===s?"undefined":A()(s))&&this.optIn(e,s,o,r)&&s.splice(this.optIndex(e,s,o,r),1)},popOpts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id",n=!0,o=!1,a=void 0;try{for(var r,h=L()(t);!(n=(r=h.next()).done);n=!0){var l=r.value;this.popOpt(l,e,i,s)}}catch(t){o=!0,a=t}finally{try{!n&&h.return&&h.return()}finally{if(o)throw a}}},popThings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.options,i=t.list,s=void 0===i?this.optionsMutable:i,n=t.obj,o=void 0!==n&&n,a=t.key,r=void 0===a?"_id":a,h=!0,l=!1,p=void 0;try{for(var u,c=L()(e);!(h=(u=c.next()).done);h=!0){var d=u.value;this.popOpt(d,s,o,r)}}catch(t){l=!0,p=t}finally{try{!h&&c.return&&c.return()}finally{if(l)throw p}}},toggleOpt:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id";this.optIn(t,e,i,s)?this.popOpt(t,e,i,s):this.pushOpt(t,e,i,s)},toggleThing:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.option,i=t.list,s=void 0===i?this.optionsMutable:i,n=t.obj,o=void 0!==n&&n,a=t.key,r=void 0===a?"_id":a;this.optIn(e,s,o,r)?this.popOpt(e,s,o,r):this.pushOpt(e,s,o,r)},toggleOpts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,i=arguments[2],s=arguments[3];for(var n in t)this.optIn(n,e,i,s)?this.popOpt(n,e,i,s):this.pushOpt(n,e,i,s)},toggleThings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.options,i=t.list,s=void 0===i?this.optionsMutable:i,n=t.obj,o=t.key;for(var a in e)this.optIn(a,s,n,o)?this.popOpt(a,s,n,o):this.pushOpt(a,s,n,o)},ratchetOpt:function(t,e,i,s){},getsmart:function(t,e,i){"string"==typeof e&&(e=e.split("."));return function t(e,i,s){return void 0===e||null===e?s:0===i.length?e:t(e[i[0]],i.slice(1),s)}(t,e,i)},safestring:function(t){return this.jsmart.stringify(t||"")},safeparse:function(t){return this.jsmart.parse(t||"")}}},F={mixins:[D],name:"app",data:function(){return{siteTitle:"alopu",entity:this.$store.state.entity,uuid:this._uid,pageHistory:this.$store.state.pageHistory,mainDrawer:!1}},sockets:{connect:function(){},giveAuthenticate:function(t){console.log(t),t.entity&&t.auth?(t.entity.auth=!0,this.$store.commit("entitySet",t.entity)):(console.log("resetting entity"),this.$store.commit("entitySet",{type:"temporary",identity:"anonymous",auth:!1,username:void 0}),t.err&&this.$store.commit("newAuthLog",{err:t.err,msg:"something went wrong authorizing the user"}))},giveRealms:function(t){t.id==this.uuid&&this.$store.commit("SetRealms",t.realms)}},created:function(){var t=new i(function(){},0),e=new i(function(){},0);function i(t,e){var i,s,n,o=e;this.start=function(){n=!0,s=new Date,i=setTimeout(t,o)},this.pause=function(){n=!1,clearTimeout(i),o-=new Date-s},this.getTimeLeft=function(){return n&&(this.pause(),this.start()),o},this.getStateRunning=function(){return n},this.start()}document.body.onmousedown=function(){var s=t.getTimeLeft();new i(function(){document.body.classList.add("cursor-pointer")},s),e=new i(function(){},s+200)},document.body.onmouseup=function(){var s=e.getTimeLeft();new i(function(){document.body.classList.remove("cursor-pointer")},s),t=new i(function(){},s+100),0},console.log("%s was created",this.siteTitle),this.$socket.emit("getRealms",{id:this.uuid,find:{},count:1/0})},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity},"$store.state.pageHistory":function(){this.pageHistory=this.$store.state.pageHistory}},components:{navbar:w,sidebar:$}},B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"app",attrs:{id:"q-app"}},[i("q-layout",{attrs:{view:"HHH Lpr FFF"}},[i("q-layout-drawer",{staticClass:"z-top",attrs:{side:"left",overlay:!0},model:{value:t.mainDrawer,callback:function(e){t.mainDrawer=e},expression:"mainDrawer"}},[i("q-list",[i("q-item",[i("q-item-side",[i("q-item-tile",{staticClass:"q-item-tile-profile-picture",attrs:{avatar:"avatar",sparse:"sparse"},on:{click:function(e){t.mainDrawer=!t.mainDrawer}}},[i("img",{attrs:{src:"/assets/astronaut.png"}})])],1),i("q-item-main",[i("q-item-tile",{attrs:{label:"label"}},[t._v("Bowie")]),i("q-item-tile",{attrs:{sublabel:"sublabel",size:".5rem"}},[t._v("Star Man")])],1),i("q-item-side",[i("q-btn",{staticClass:"shadow-0",attrs:{icon:"close"},on:{click:function(e){t.mainDrawer=!t.mainDrawer}}})],1)],1),i("q-item-separator"),i("q-collapsible",{attrs:{label:"Tracking",avatar:"/assets/gps.png"}},[i("q-item",[i("q-item-main",{attrs:{label:"Awaiting Pickup"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"Picked Up"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"En Route"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"Delivered"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"Routes"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"ETA's"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"Your Pilots"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"View Map"}})],1)],1),i("q-item-separator"),i("q-collapsible",{attrs:{label:"Notifications",avatar:"/assets/bell.png"}},[i("q-collapsible",{attrs:{label:"Messages"}}),i("q-item",[i("q-item-main",{attrs:{label:"Picked Up"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"Delivered"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"ETA's"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"Delays"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"Discounts"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"Surges"}})],1),i("q-collapsible",{attrs:{label:"New Jobs",avatar:"/assets/a2b.png"}})],1),i("q-item-separator"),i("q-collapsible",{attrs:{label:"Driver Hub",avatar:"/assets/van.png"}},[i("q-collapsible",{attrs:{avatar:"/assets/next-stop.png",label:"Next Stop"}},[i("q-item-side"),i("q-item-main",{attrs:{label:"23 Conley St, Place Holder, 3174"}})],1),i("q-collapsible",{attrs:{avatar:"/assets/route.png",label:"Current Route"}},[i("q-item",[i("q-item-main",{attrs:{label:"Stop A"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"Stop B"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"Stop C (break)"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"Stop D"}})],1)],1),i("q-collapsible",{attrs:{avatar:"/assets/routes.png",label:"All Routes"}}),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/sleep.png"}}),i("q-item-main",{attrs:{label:"Rests"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/question-yellow.png"}})],1),i("q-collapsible",{attrs:{avatar:"/assets/van.png",label:"Your vehicle"}}),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/box.png"}}),i("q-item-main",{attrs:{label:"Current Inventory"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/question-yellow.png"}})],1),i("q-collapsible",{attrs:{label:"New Jobs",avatar:"/assets/a2b.png"}})],1),i("q-item-separator"),i("q-collapsible",{attrs:{label:"profile",avatar:"/assets/astronaut.png"}},[i("q-collapsible",{attrs:{label:"Current Location",avatar:"/assets/where.png"}},[i("q-list",[i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/devices.png"}}),i("q-item-main",{attrs:{label:"Available Devices",sublabel:"Link a Device"}})],1),i("q-item-separator"),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/smartphone.png"}}),i("q-item-main",{attrs:{label:"Samsung Galaxy S5",sublabel:"23 Conley St, Noble Park, 3174"}}),i("q-item-side",{attrs:{avatar:"/assets/location-yes.png"}})],1),i("q-item-separator"),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/smartphone.png"}}),i("q-item-main",{attrs:{label:"Motorola X Play",sublabel:"40 Highett Rd, Moorabin"}}),i("q-item-side",{attrs:{avatar:"/assets/location-no.png"}})],1),i("q-item-separator"),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/computer-screen.png"}}),i("q-item-main",{attrs:{label:"Macbook Pro"}}),i("q-item-side",{attrs:{avatar:"/assets/location-no.png"}})],1),i("q-item-separator"),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/tablet.png"}}),i("q-item-main",{attrs:{label:"Nexus 7",sublabel:"23 Conley St, Noble Park, 3174"}}),i("q-item-side",{attrs:{avatar:"/assets/location-no.png"}})],1),i("q-item-separator"),i("q-item",[i("q-btn",{attrs:{label:"add a device",wide:"wide"}})],1)],1)],1),i("q-collapsible",{attrs:{label:"Identity",avatar:"/assets/identification.png"}},[i("q-collapsible",{attrs:{avatar:"/assets/license.png",label:"Licenses"}},[i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/license.png"}}),i("q-item-main",{attrs:{label:"Car License"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/license.png"}}),i("q-item-main",{attrs:{label:"Truck License"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/license.png"}}),i("q-item-main",{attrs:{label:"Boat License"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/license.png"}}),i("q-item-main",{attrs:{label:"PWC License"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/license.png"}}),i("q-item-main",{attrs:{label:"Aircraft License"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1)],1),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/birth-certificate.png"}}),i("q-item-main",{attrs:{label:"Birth Certificate"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/passport.png"}}),i("q-item-main",{attrs:{label:"Passport"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1),i("q-collapsible",{attrs:{label:"Documents",avatar:"/assets/documents.png"}},[i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/documents.png"}}),i("q-item-main",{attrs:{label:"Utility Bill 1"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/documents.png"}}),i("q-item-main",{attrs:{label:"Utility Bill 2"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/documents.png"}}),i("q-item-main",{attrs:{label:"Utility Bill 3"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1)],1),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/license-plate.png"}}),i("q-item-main",{attrs:{label:"Registration"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/contract.png"}}),i("q-item-main",{attrs:{label:"Insurance"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/cap.png"}}),i("q-item-main",{attrs:{label:"Police Check"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/group.png"}}),i("q-item-main",{attrs:{label:"Interview"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1),i("q-collapsible",{attrs:{avatar:"/assets/certificate.png",label:"Qualifications"}},[i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/certificate.png"}}),i("q-item-main",{attrs:{label:"Working with Children"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/certificate.png"}}),i("q-item-main",{attrs:{label:"RSA"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/wrong-thick.png"}})],1)],1)],1)],1),i("q-item-separator"),i("q-collapsible",{attrs:{label:"Business Hub",avatar:"/assets/store.png"}},[i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/store.png"}}),i("q-item-main",{attrs:{label:"Your store"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/question-yellow.png"}})],1),i("q-item",[i("q-item-side",{attrs:{avatar:"/assets/box.png"}}),i("q-item-main",{attrs:{label:"Current Inventory"}}),i("q-item-side",{staticClass:"q-verified-status",attrs:{avatar:"/assets/question-yellow.png"}})],1)],1),i("q-item-separator"),i("q-collapsible",{attrs:{label:"Settings"}}),i("q-item-separator"),i("q-collapsible",{attrs:{label:"More"}},[i("q-item",[i("q-item-main",{attrs:{label:"Terms and Conditions"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"Insurance"}})],1),i("q-item",[i("q-item-main",{attrs:{label:"Legal"}})],1)],1)],1)],1),i("q-page-container",{staticClass:"q-pt-none"},[i("router-view",{staticClass:"router-view"})],1),i("q-toolbar",{staticClass:"fixed-top q-nav-toolbar",attrs:{color:"primary",overlay:!0}},[i("q-btn",{staticClass:"shadow-0",attrs:{icon:"menu",size:"1.2rem"},on:{click:function(e){t.mainDrawer=!t.mainDrawer}}}),i("img",{attrs:{src:"/assets/pe-logo.png"},on:{click:function(e){t.mainDrawer=!t.mainDrawer}}})],1),i("q-layout-footer",{staticClass:"fixed-bottom q-nav-footer"},[i("q-item",[i("q-item-main",{staticClass:"text-center text-white text-weight-medium",attrs:{label:"This platform is under active development"}})],1)],1)],1)],1)},E=[];B._withStripped=!0;var G=!1;var z=function(t){G||(i("OpMJ"),i("LXoh"))},H=Object(p.a)(F,B,E,!1,z,null,null);H.options.__file="src/App.vue";var V=H.exports,R=i("/ocq"),U={mixins:[D],name:"search-comp",data:function(){return{optionsMutable:this.options}},sockets:{connect:function(){}},created:function(){},methods:{updateCurrentSearchText:function(t){this.$emit("searchText",t)}},props:{options:{default:function(){return["double","all"]}},label:{}}},W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[i("div",{staticClass:"search-container"},[i("div",{staticClass:"search-form"},[i("v-select",{attrs:{placeholder:"Type in anything that you're looking for",pushTags:!1,inputStore:!0,taggable:!0,searchMessage:"No suggestions",noDropArrow:!0,options:t.options,label:t.label,minResults:2},on:{click:function(e){t.popOpt("all"),t.pushOpt("first")},input:t.updateCurrentSearchText}})],1)])])},Q=[];W._withStripped=!0;var Y=!1;var J=function(t){Y||i("xjXE")},Z=Object(p.a)(U,W,Q,!1,J,null,null);Z.options.__file="src/components/search.vue";var X=Z.exports,K=i("mvHQ"),tt=i.n(K),et={name:"thing",mixins:[I()({vue:{reactiveSetter:!0,vm:"this"},objList:"this.thingMutable.things",stringList:"this.thingMutable.properties.mapped.options.Array of Strings"})],data:function(){return{thingMutable:this.thing,entity:this.$store.state.entity,feedback:null,realms:this.$store.state.realms,thingTypes:this.$store.state.thingTypes,types:this.$store.state.types,thingNames:this.$store.state.thingNames,priceUnits:this.$store.state.priceUnits,currencies:this.$store.state.currencies,urls:["http://agora.dev/forum","http://lopu.com.au","http://agora.lopu.com.au"],err:null,alterEgos:[this.$store.state.entity.username?this.$store.state.entity.username:"anonymous","anonymous"],neighboursMutable:this.neighbours,messages:[],funCounter:0,limitMutable:5,loadLimitMutable:5,propertiesLimitMutable:50,propertiesLoadLimitMutable:5,valueLimitMutable:5,valueLoadLimitMutable:5,savesToMutable:this.savesTo,optionsMutable:[],childOptions:[],parentOptionsMutable:this.parentOptions,defaultThingMutable:this.defaultThing,thingMap:void 0,thingMapGeocoder:void 0,thingMapFeatures:{type:"FeatureCollection",features:[]},invGrid:{width:80,invWidth:void 0,padding:"2px 3px"}}},sockets:{connect:function(){},giveThing:function(t){var e=this;if("hmm"==this.thingMutable.uuid&&console.log("got thing %s",Date.now()),this.sameObj(t.thing,this.thingMutable,t))this.thingMutable=t.thing,(t.giveEvent="save")&&this.$emit("saved"),this.mapProperties().then(function(t){e.reinit(),e.popOpt("editing"),e.pushOpt("fetched")}).catch(function(t){console.error(t)}),this.setFeedback(t.feedback);else if(this.isParent(t))if(this.optIn("a lopu inventory generator",this.getsmart(this.thingMutable,"names",[])))"hmm"==this.thingMutable.uuid&&console.log("where we should be"),t.thing.tag="loading",this.setThing({option:t.thing,list:this.gosmart(this,"thingMutable.things",[]),obj:!0,key:["_id","uuid","tag"],keymatchtype:"broad",push:!0,strings:!0}).then(function(e){delete t.thing.tag}).catch(function(t){t&&console.error(t)}),this.optIn("a lopu map",this.getsmart(this.thingMutable,"names",[]))&&this.pushThingFeature(t.thing,"render");else{for(var i=0;i<t.thing.relatives.length;i++)this.optIn(t.thing._id,this.thingMutable[t.thing.relatives[i].path])||this.optIn(t.thing,this.thingMutable[t.thing.relatives[i].path],!0)||this.optIn(t.thing,this.thingMutable[t.thing.relatives[i].path],!0,"uuid")?this.setThing({option:t.thing,list:this.thingMutable[t.thing.relatives[i].path],obj:!0,key:["_id","uuid"],keymatchtype:"broad",strings:!0}):this.optIn(t.thing,this.thingMutable.things,!0),this.thingMutable._id&&this.thingMutable._id.toString()==t.thing.relatives[i].relative&&this.pushOpt(t.thing,this.thingMutable[t.thing.relatives[i].path],!0);this.entity&&this.entity.inventory&&(this.entity.inventory._id==this.thingMutable._id&&void 0!==this.thingMutable._id||this.entity.inventory.uuid==this.thingMutable.uuid&&void 0!==this.thingMutable.uuid)&&this.$store.commit("entityInventorySet",this.thingMutable)}else t.thing.title&&t.thing.title.indexOf("-comments")},giveThings:function(t){this.isParent(t)&&t.returnPath&&(this.setThings({options:t.things,list:this.thingMutable[t.returnPath],obj:!0,strings:!0}),this.mapList(this.thingMutable[t.returnPath]))},confirmThingDeletion:function(t){console.log("wtf"),console.log(this.sameObj(this.getsmart(t,"thing",void 0),this.getsmart(this,"thingMutable",void 0),t)),console.log(t),this.sameObj(this.getsmart(t,"thing",void 0),this.getsmart(this,"thingMutable",void 0),t)&&(this.getsmart(t,"feedback.success",!1)?(this.$emit("remove"),this.setsmart(this,"thingMutable",void 0)):(this.setFeedback(null),this.pushOpt({text:this.getsmart(t,"feedback.message","There was an error deleting this thing from the database"),from:"lopu"},this.messages)))}},created:function(){},mounted:function(){this.isMounted=!0;var t=this;window.onresize=function(){t.addSlotsToInv()},this.create()},methods:{create:function(){this.thingMutable&&"object"===A()(this.thingMutable)?(this.thingMutable.uuid||!1===this.thingMutable.uuid||(this.thingMutable.uuid=this.$uuid.v4()),this.reinit()):"string"!=typeof this.thingMutable||this.optIn("no-fetch")||(this.getThing({thing:this.thingMutable,parentId:this.parentId,clientId:this._uid,populations:[{path:"properties"}]}),this.thingMutable={_id:this.thingMutable,names:["loading"]});var t=this;setTimeout(function(){t.optIn("loading",t.getsmart(t,"thingMutable.names",[]))},12345),this.setChildOptions()},reinit:function(){var t=this;"hmm"==this.thingMutable.uuid&&console.log("reinitting"),this.parentOptionsMutable=JSON.parse(tt()(this.parentOptions)),this.mapProperties().then(function(e){t.applySchema().then(function(e){t.mapProperties().then(function(e){t.checkPropertiesForOptions(),t.updateOpts(),t.updateThingLocation({loc:"user",overwrite:!1}).then(function(e){if(t.optIn("a lopu inventory generator",t.getsmart(t,"thingMutable.names",[]))&&!t.optIn("gotten")&&!t.getsmart(t,"thingMutable.properties.mapped.dont gen this lopu",!1)){var i=t.generateFind();if(i){for(var s=t.generateFind({piece:"count"}),n=t.generateFind({piece:"options"}),o=(t.getsmart(t,"thingMutable.things.length",0),t.gosmart(t,"thingMutable.things",[])),a=0;a<s;a++){t.pushThing({option:{names:["loading"],uuid:!1,tag:"loading"},list:o})}t.limitMutable=t.limitMutable+s,t.getThings({parentId:t.getsmart(t,"thingMutable._id",t._uid),entity:{_id:t.entity._id},returnPath:"things",find:i,count:s,findOptions:n,stream:!0}),t.pushOpt("gotten"),t.popOpt("regen lopu")}}}).catch(function(t){t&&console.error(t)}),t.optIn("show-comments")&&t.loadComments(),t.optIn("inventory",t.thingMutable.names)&&t.pushOpts(["show inventory","inventory mode"]),t.setChildOptions(),t.resetDefaultThing(),t.addSlotsToInv()}).catch(function(t){t&&console.error(t)})}).catch(function(t){t&&console.error(t)})}).catch(function(t){console.error(t)})},getThing:function(t){this.$socket.emit("getThing",t)},getThings:function(t){console.log("emitting request %s",Date.now()),this.$socket.emit("getThings",t)},addPrice:function(){this.thingMutable.contract?this.thingMutable.contract.push({thing:null,amount:null,multiplier:null,unit:null}):this.$set(this.thingMutable,"contract",[{thing:null,amount:null,multiplier:null,unit:null}])},removePrice:function(t){this.thingMutable.contract.splice(t,1)},updateDescription:function(t){this.setsmart(this,"thingMutable.description",t.api.origElements.innerHTML)},updateTitle:function(t){this.setsmart(this,"thingMutable.title",t.api.origElements.innerHTML)},updateValue:function(t){this.value=t.api.origElements.innerHTML},updateAt:function(t,e,i){console.log(t),console.log(e),console.log(i)},showOptions:function(){this.optIn("icon")||this.optIn("hiding")||this.pushOpt("show options")},showOptionsPerm:function(){this.pushOpts(["show options","focused"]),this.popOpts(["hiding"])},toggleOptions:function(){this.optIn("focused")?this.popOpts(["show options","focused"]):this.optIn("icon")||this.pushOpts(["show options","focused"])},hideOptions:function(){this.popOpts(["show options","focused"]),this.pushOpt("hiding"),setTimeout(this.popOpt("hiding"),4e3)},hideOptionsMaybe:function(){!this.optIn("focused")&&this.optIn("show options")&&this.popOpt("show options")},setFeedback:function(t){this.feedback=t||null},generateFind:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.piece,i=void 0===e?"for":e,s=t.obj,n=void 0===s?this.thingMutable:s;if("object"==(void 0===n?"undefined":A()(n))){if(!i||"for"==i){var o={};if(this.getsmart(n,"properties.mapped.a special lopu regex to match."+this.getsmart(n,"properties.mapped.a special lopu regex to match.type","String"),!1)){var a=this.getsmart(n,"properties.mapped.a special lopu regex to match."+this.getsmart(n,"properties.mapped.a special lopu regex to match.type","String"),void 0),r=a.split(" ");o.realms={$in:r},o.names={$in:r},o.text={regex:!0,value:a,options:"i"},o.description={regex:!0,value:a,options:"i"},o.title={regex:!0,value:a,options:"i"},o.orAllTheThings=!0}else o.realms=this.getsmart(n,"properties.mapped.ignore realms.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.realms to match.Array of Strings.length",0)>0?this.getsmart(n,"properties.mapped.broadly match realms.Boolean",!1)?{$in:this.getsmart(n,"properties.mapped.realms to match.Array of Strings",void 0)}:{$all:this.getsmart(n,"properties.mapped.realms to match.Array of Strings",void 0)}:void 0,o.names=this.getsmart(n,"properties.mapped.ignore names.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.names to match.Array of Strings.length",0)>0?this.getsmart(n,"properties.mapped.broadly match names.Boolean",!1)?{$in:this.getsmart(n,"properties.mapped.names to match.Array of Strings",void 0)}:{$all:this.getsmart(n,"properties.mapped.names to match.Array of Strings",void 0)}:void 0,o.owners=this.getsmart(n,"properties.mapped.ignore owners.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.owners to match.Array of Strings.length",0)>0?this.getsmart(n,"properties.mapped.broadly match owners.Boolean",!1)?{$in:this.getsmart(n,"properties.mapped.owners to match.Array of Strings",void 0)}:{$all:this.getsmart(n,"properties.mapped.owners to match.Array of Strings",void 0)}:void 0,o.text=this.getsmart(n,"properties.mapped.ignore text.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.text to match.String",!1)?this.getsmart(n,"properties.mapped.broadly match text.Boolean",!1)?{regex:!0,value:this.getsmart(n,"properties.mapped.text to match.String",void 0),options:"i"}:this.getsmart(n,"properties.mapped.text to match.String",void 0):void 0,o.description=this.getsmart(n,"properties.mapped.ignore description.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.description to match.String",!1)?this.getsmart(n,"properties.mapped.broadly match description.Boolean",!1)?{regex:!0,value:this.getsmart(n,"properties.mapped.description to match.String",void 0),options:"i"}:this.getsmart(n,"properties.mapped.description to match.String",void 0):void 0,o.title=this.getsmart(n,"properties.mapped.ignore title.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.title to match.String",!1)?this.getsmart(n,"properties.mapped.broadly match title.Boolean",!1)?{regex:!0,value:this.getsmart(n,"properties.mapped.title to match.String",void 0),options:"i"}:this.getsmart(n,"properties.mapped.title to match.String",void 0):void 0,o["geojson.geometry"]=this.getsmart(n,"properties.mapped.ignore location.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.geojson to match.geojson",!1)?{$near:{$maxDistance:this.getsmart(n,"properties.mapped.broadly match location.Boolean",!1)?1e4*this.getsmart(n,"properties.mapped.geojson search radius.Number",12):1e4,$geometry:this.getsmart(n,"geojson.geometry",void 0)}}:this.getsmart(n,"properties.mapped.use this things location.Boolean",!1)?{$near:{$maxDistance:this.getsmart(n,"properties.mapped.broadly match location.Boolean",!1)?1e3*this.getsmart(n,"properties.mapped.geojson search radius.Number",12):1e4,$geometry:this.getsmart(n,"geojson.geometry",void 0)}}:void 0;return o}if("count"==i)return this.getsmart(n,"properties.mapped.limit.Number",!1)||this.getsmart(n,"properties.mapped.count.Number",5);if("options"==i){var h={};return h.sort=this.getsmart(n,"properties.mapped.sort."+this.getsmart(n,"properties.mapped.sort.type","json"),void 0),h}}return!1},getProperty:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"title",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.gosmart(this,"thingMutable.properties",[]),s=0;s>i.length;s++)if(i[s][e]==t)return i[s]},updateRealmsList:function(t,e){this.$set(this.realms,"searched",null),this.realms.push({key:"searched",realm:t})},genDefaultThing:function(){return"slot"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)?{realms:["inventory slots"],title:"debug",names:["inventory slot"],properties:[{title:"options","Array of Strings":["inventory slot","icon"],type:"Array of Strings"}],owners:[this.entity._id],parents:[this.thingMutable.uuid],uuid:this.$uuid.v4()}:this.optIn("a lopu inventory generator",this.thingMutable.names)?{realms:["new"].concat(this.getsmart(this.thingMutable,"properties.mapped.realms to match.Array of Strings",[])),names:this.getsmart(this.thingMutable,"properties.mapped.names to match.Array of Strings",[]),description:void 0,properties:[{title:"options","Array of Strings":["editing","edited","is-default-thing",this.optIn("shallow adders")?"less padding":null],type:"Array of Strings"}],owners:[this.entity._id],parents:[this.thingMutable],uuid:this.$uuid.v4()}:{realms:["new"],description:void 0,properties:[{title:"options","Array of Strings":["editing","edited","is-default-thing",this.optIn("shallow adders")?"less padding":null],type:"Array of Strings"}],owners:[this.entity._id],parents:[this.thingMutable],uuid:this.$uuid.v4()}},resetDefaultThing:function(){this.defaultThingMutable=this.genDefaultThing()},setChildOptions:function(){this.childOptions=[this.optIn("feed")?"wide":"icon",this.optIn("addable")?"addable":null,this.optIn("slotted")?"in slot":null,this.optIn("shrink slot icons")?"shrink slot icon":null,this.optIn("feed")?null:"inventory item",this.optIn("icon")?"no-fetch":null,this.optIn("show inventory")?"fetch":null,this.optIn("dont load childrens children")?"dont load children":null,this.optIn("dont load children children children")?"dont load childrens children":null,this.optIn("show-children-comments")?"show-comments":null,this.optIn("shallow adders")?"shallow adders":null],this.childOptions=this.childOptions.filter(function(t){return t||0==t})},removeMessage:function(t){this.messages.splice(t,1)},sameObj:function(t,e,i){return!(!t||!e)&&(e&&(i&&this._uid&&this._uid==i.clientId&&(e._id&&e._id==t._id||e.uuid&&e.uuid==t.uuid)||e._id&&e._id==t._id||e.uuid&&e.uuid==t.uuid))},isParent:function(t){return void 0!==t.parentId&&(this.getsmart(this,"thingMutable.uuid",void 0)==t.parentId||this._uid==t.parentId||this.getsmart(this,"thingMutable._id",void 0)==t.parentId)||t.thing&&this.getsmart(t,"thing.relatives",[])&&this.getsmart(this,"thingMutable._id",!1)&&this.optIn({path:"parents",relative:this.getsmart(this,"thingMutable._id",{toString:function(){}}).toString()},this.getsmart(t,"thing.relatives",[]),!0,["relative","path"])},thingCleaned:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return{_id:t._id,uuid:t.uuid,title:t.title,description:t.description}},valueToAThing:function(t){if(this.getsmart(t,"constructor",void 0)!==Object){var e={type:this.childType,names:["a lopu value"]};return e[this.childType]=t,e}return this.getsmart(t,"constructor",void 0),Object,t},firstOrLast:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"thing";return!(0!=t&&!t||!e||!i)&&((0!=t||1!=e&&1!=i.length)&&(0==t?"first-"+s:t<=e&&t==i.length-1||t==e-1?"last-"+s:"mid-"+s))},osxTrunc:function(t){if("string"==typeof t){var e=t.replace(/&nbsp;/g," ");if(e.replace(/^\s+|\s+$/g,"").length>26){var i=e.replace(/&nbsp;/g," ").replace(/\s+$/g,"").substr(-8).replace(/^\s+/g,"");return e.replace(/&nbsp;/g," ").substr(0,19).replace(/\s+$/g,"")+"..."+i}return t}},trunc:function(t){if("string"==typeof t){var e=t.replace(/&nbsp;/g," ");return e.replace(/^\s+|\s+$/g,"").length>26?e.replace(/&nbsp;/g," ").substr(0,26).replace(/\s+$/g,"")+"..":t}},updateOpts:function(){var t=this;return new P.a(function(e,i){t.getsmart(t,"thingMutable.properties.mapped.options",!1)?(t.pushOpts(t.parentOptionsMutable.filter(function(e){return t.getsmart(t,"thingMutable.properties.mapped.options.Array of Strings",[]).indexOf("ignore client option "+e)<0&&(e||0==e)})),t.parentOptionsMutable=[],e(!0)):t.mapList(t.gosmart(t,"thingMutable.properties",[]),"title","options").then(function(i){if(i)e(t.updateOpts());else{var s=t.gosmart(t,"thingMutable.properties",[]);t.pushThing({option:{title:"options","Array of Strings":[],type:"Array of Strings"},list:s,obj:!0,key:"title"}),e(t.updateOpts())}}).catch(function(t){console.error(t),i(t)})})},checkPropertiesForOptions:function(){if(this.gosmart(this,"thingMutable.properties",[]).constructor==Array){var t=!0,e=!1,i=void 0;try{for(var s,n=L()(this.thingMutable.properties);!(t=(s=n.next()).done);t=!0){var o=s.value;"things render limit"==o.title&&(this.limitMutable=o[o.type||"Number"]||5),this.pushOpt(o.title)}}catch(t){e=!0,i=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw i}}}},addSlotsToInv:function(t){var e=this,i=Math.floor(this.getsmart(this,"$refs.inventory-list-container.offsetWidth",558))-2,s=93;if(this.invGrid.invWidth==i&&i<93);else if(this.optIn("slotted")){if(i%s>s/3)for(;i%s>7;)s--;else for(;i%s>7;)s++;if(this.invGrid.width=s,this.invGrid.invWidth=Math.floor(i/s)*s,this.optIn("generate slots")){var n=this.gosmart(this,"thingMutable.things",[]),o=4*Math.floor(i/s);if(o=o<this.limitMutable?this.limitMutable:o,n.length<o){for(var a=o-n.length,r=function(){var t=e.genDefaultThing("slot");e.mapList(e.setsmart(t,"properties",e.getsmart(t,"properties",[]))).then(function(e){n.push(t)}).catch(function(t){console.error(t)})},h=0;h<a;h++)r();this.limitMutable=o}else n.length>=o&&(this.limitMutable=o)}}},noValids:function(t){if(t&&t.length){for(var e=0;e<t.length;e++)if(!t[e])return!0;return!1}return!0},applySchema:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getsmart(this,"schema",void 0),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getsmart(this,"thingMutable",void 0);return new P.a(function(s,n){e&&i?"string"==typeof e?s(!1):"string"!=typeof i?e.properties?t.mapList(e.properties,"title",void 0,!0).then(function(n){n?(e.properties.forEach(function(e,s){if("string"==typeof t.getsmart(e,"title","")&&t.getsmart(e,"title","").indexOf(" schema")>=0){var n=t.getsmart(e,e.type,!1);if(n){if(n.constructor==Array)if(!0===t.getsmartvalue(e,"properties","merge",!1))for(var o=0;o<n.length;o++)t.pushThing({option:n[o],list:t.gosmartvalue(i,e.title.replace(" schema",""),[])});t.setsmart(i,e.title.replace(" schema",""),t.jsmart.parse(t.jsmart.stringify(n)))}}}),s(!0)):s(!1)}).catch(function(t){t&&console.error(t)}):s(!0):s(!1):s(!(e||!i))})},pushChildThing:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMutable.things",[]);this.pushOpt(t,e,!0,"_id"),this.mapThings(),this.mapThings("title",t.properties)},saveThing:function(){this.pushOpt(this.entity._id,this.gosmart(this,"thingMutable.owners",[])),this.savesToMutable&&(this.getsmart(this,"savesToMutable.properties.#"),this.pushOpts(this.savesToMutable,this.gosmart(this,"thingMutable.parents",[]))),this.thingMutable.clientId=this._uid;var t={thing:this.thingMutable,clientId:this._uid,entity:this.entity};this.$socket.emit("saveThing",t)},forkThing:function(){},referenceThing:function(){},deleteThing:function(t,e){if(1==t)if("object"!=A()(this.thingMutable)||this.thingMutable._id){var i={thing:this.thingMutable,clientId:this._uid,entity:this.entity};this.$socket.emit("deleteThing",i),this.setFeedback(null)}else this.$emit("remove"),this.setsmart(this,"thingMutable",void 0),this.setFeedback(null);else this.setFeedback({message:"Are you sure you want to delete this?",type:"delete"})},deleteChildThing:function(t,e){(t||0==t)&&e&&this.getsmart(this,"thingMutable."+e,!1)&&this.gosmart(this,"thingMutable."+e,[]).splice(t,1)},savedChildThing:function(t){this.optsIn(["a lopu inventory generator","a lopu map"],this.getsmart(this.thingMutable,"names",[]))&&this.renderThingsOnMap()},addNewChildThing:function(){var t=this.genDefaultThing(),e=this.gosmart(this,"thingMutable.things",[]);this.limitMutable=this.limitMutable+1,e.push(t),this.updateThingLocation({thing:t,loc:"map"})},addNewProperty:function(){var t={names:["property"],owners:[this.entity._id],parents:[this.thingMutable._id],uuid:this.$uuid.v4()};this.propertiesLimitMutable=this.propertiesLimitMutable+1,this.gosmart(this,"thingMutable.properties",[]).push(t)},addNewValue:function(){if(this.getsmart(this,"thingMutable.type",void 0)){if("String"==this.childType)var t="new string";else t={names:["a lopu value"],owners:[this.entity._id],parents:[this.thingMutable._id],uuid:this.$uuid.v4(),type:this.childType};this.valueLimitMutable=this.valueLimitMutable+1,this.gosmart(this,"thingMutable."+this.getsmart(this,"thingMutable.type",void 0),[]).push(t)}},updateType:function(t){this.type=t},mapInventory:function(t,e,i){if("object"==(void 0===t?"undefined":A()(t))&&t.things){var s=!0,n=!1,o=void 0;try{for(var a,r=L()(t.things);!(s=(a=r.next()).done);s=!0){var h=a.value;t.thing&&(e[h.thing]=h,this.mapInventory(h,e[h.thing],i++))}}catch(t){n=!0,o=t}finally{try{!s&&r.return&&r.return()}finally{if(n)throw o}}}},mapList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"title",i=this,s=arguments[2],n=arguments[3];return new P.a(function(o,a){if(e){if(t){t.mapped&&"boolean"!=typeof t.mapped||i.$set(t,"mapped",{}),0==t.length&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o());for(var r=0;r<t.length;r++)if("string"!=typeof t[r])i.$set(t.mapped,t[r][e],t[r]),r==t.length-1&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o());else if(n){var h=i.funCounter;i.funCounter=i.funCounter+1,i.getThing({thing:t[r],clientId:i._uid,funCounter:h}),i.$options.sockets.giveThing=function(n){i._uid==n.clientId&&n.funCounter==h&&(i.$set(t,r.toString(),n.thing),i.$set(t.mapped,t[r][e],t[r])),r==t.length-1&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o())}}else r==t.length-1&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o())}}else a()})},mapThings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"title",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMutable.things",[]);return this.mapList(e,t)},mapProperties:function(){return this.mapList(this.gosmart(this,"thingMutable.properties",[]),"title")},loadComments:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all");this.optIn("comments-loaded")||"all"==e&&this.populateThings({rules:{title:{regex:!0,value:"-comments"}},returnPath:"things"}).then(function(){t.compileComments()})},compileComments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this,"thingMutable.things",[]);t.mapped["all-comments"]||(t.push({title:"all-comments",things:[],parents:[this.thingMutable._id],owners:[],properties:[{title:"things render limit",Number:0,names:["a lopu client option"]},{title:"uniques","Array of Strings":["title"],type:"Array of Strings"}],uuid:this.$uuid.v4()}),this.mapList(t)),t.mapped["this lopus comments"]||(t.push({title:"this lopus comments",things:[],parents:[this.thingMutable._id],owners:[],properties:[{title:"things render limit",Number:5,names:["a lopu client option"]},{title:"uniques","Array of Strings":["title"],type:"Array of Strings"}],uuid:this.$uuid.v4()}),this.mapList(t));var e=!0,i=!1,s=void 0;try{for(var n,o=L()(t);!(e=(n=o.next()).done);e=!0){var a=n.value;a.title&&a.title.indexOf("comments")>=0&&"all-comments"!==a.title&&this.pushOpts(a.things,t.mapped["all-comments"].things)}}catch(t){i=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw s}}this.pushOpt("comments-loaded")},populateThings:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.things,s=void 0===i?this.gosmart(this,"thingMutable.things",[]):i,n=e.returnPath,o=void 0===n?"things":n,a=e.funCounter,r=void 0===a?this.funCounter:a,h=e.rules,l=void 0===h?void 0:h;return this.funCounter++,new P.a(function(e,i){t.$socket.emit("populateThings",{things:s,parentId:t.thingMutable._id||t.thingMutable.uuid||t._uid,returnPath:o,rules:l,funCounter:r,sort:"inception"}),t.$options.sockets.giveThings=function(i){t.isParent(i)&&i.funCounter==r&&t.setThings({options:i.things,list:t.gosmart(t,"thingMutable."+i.returnPath,[]),obj:!0,strings:!0}).then(function(){t.mapList(t.gosmart(t,"thingMutable."+i.returnPath,[])).then(function(){e()})})}})},populate:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.things,s=void 0===i?this.gosmart(this,"thingMutable.things",[]):i,n=e.returnPath,o=void 0===n?"things":n,a=e.funCounter,r=void 0===a?this.funCounter:a,h=e.rules,l=void 0===h?void 0:h;return this.funCounter++,new P.a(function(e,i){t.$socket.emit("populateThings",{things:s,parentId:t.thingMutable._id||t.thingMutable.uuid||t._uid,returnPath:o,rules:l,funCounter:r,sort:"inception"});t.$options.sockets.giveThings=function(s){t.isParent(s)&&s.funCounter==r?t.setThings({options:s.things,list:t.gosmart(t,"thingMutable."+s.returnPath,[]),obj:!0,strings:!0}).then(function(){e()}).catch(function(){i()}):e()}})},locationInitialized:function(t){var e=this;this.$nextTick(function(){if(MapboxGeocoder){var i=new MapboxGeocoder({accessToken:mapboxgl.accessToken});e.thingMapGeocoder=i,t.addControl(i)}e.thingMap=t,t.on("load",function(){t.addSource("things",{type:"geojson",data:e.thingMapFeatures}),e.updateGeoSearchValue(),e.listenForDragEvents(t)})})},listenForDragEvents:function(t){var e,i=this;t.on("move",function(){clearTimeout(e),e=setTimeout(function(){i.updateGeoSearchValue()},500)})},updateThingLocation:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.thing,s=void 0===i?this.thingMutable:i,n=e.loc,o=void 0===n?"user":n,a=e.overwrite,r=void 0===a||a;return new P.a(function(e,i){t.getsmart(s,"geojson",!1)?e(!1):"user"==o?navigator.geolocation&&(r||t.getsmart(s,"geojson",!0))?navigator.geolocation.getCurrentPosition(function(i){t.$set(s,"geojson",t.tryGeojson(i)),e(!0)},function(t){t&&console.error(t),e(!1)}):e(!1):"map"==o&&(r||t.getsmart(s,"geojson",!0))?t.optIn("locationSet")&&t.sameObj(s,t.thingMutable)?(t.popOpt("locationSet"),t.removeMarker(),e(!1)):t.updateGeoSearchValue(s).then(function(i){i?(s.geojson=i,t.pushOpt("locationSet"),t.optsIn(["a lopu inventory generator","a lopu map"],t.gosmart(t.thingMutable,"names",[]))?(t.sameObj(s,t.thingMutable)||t.pushThingFeature(s,"render"),e(!0)):(t.pushThingFeature(s,"render"),e(!0))):e(!1)}).catch(function(t){console.error(t),i(t)}):e(!1)})},thingMapboxCoords:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return[this.findCoord("lng",t),this.findCoord("lat",t)]},thingLCoords:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return[this.findCoord("lat",t),this.findCoord("lng",t)]},findCoord:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.thingMutable;return"lng"==t?this.getsmart(e,"geojson.geometry.coordinates.0",this.getsmart(e,"geojson.coords.longitude",145.1794972)):"lat"==t?this.getsmart(e,"geojson.geometry.coordinates.1",this.getsmart(e,"geojson.coords.latitude",-37.9831522)):void 0},pushThingFeature:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.getsmart(this.thingMapFeatures,"features",void 0);if(s){var n=this.thingToFeature(e);this.setThing({option:n,list:s,obj:!0,key:["properties.thing._id","properties.thing.uuid"],targets:["properties.thing","geometry"],keymatchtype:"broad",push:!0}).then(function(e){t.getsmart(t,"thingMap.getSource",!1)&&t.thingMap.getSource("things")&&t.thingMap.getSource("things").setData(t.thingMapFeatures),i&&t.renderFeatureMarker(e,s)})}},removeMarker:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMapFeatures.features",[]),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.thingMutable;if(t){var s=this.getsmart(e[t],"properties.el",void 0);s&&s.parentNode&&s.parentNode.removeChild(s)}else for(var n=0;n<e.length;n++)if(this.sameObj(this.getsmart(e[n],"properties.thing",void 0),i)){var o=e[n].properties.el;o&&o.parentNode&&o.parentNode.removeChild(o)}},renderFeatureMarker:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMapFeatures.features",[]);if(e&&e[t]&&this.thingMap){this.removeMarker(t,e);var i=document.createElement("div");i.className="marker";var s=document.createElement("img");i.appendChild(s);var n=this.getsmart(e[t],"properties.thing.description",this.getsmart(e[t],"properties.thing.uuid",void 0));if(n){var o=document.createTextNode(n);i.appendChild(o)}s.src="../static/svg/thingMarker.svg",e[t].properties.el=i,new mapboxgl.Marker(i,{offset:[0,-15]}).setLngLat(e[t].geometry.coordinates).addTo(this.thingMap)}},renderFeatureMarkers:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this,"thingMapFeatures.features",[]),e=0;e<t.length;e++)this.renderFeatureMarker(e,t)},thingToFeature:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return{type:"Feature",geometry:{type:"Point",coordinates:this.thingMapboxCoords(t)},properties:{thing:this.thingCleaned(t)}}},updateGeoSearchValue:function(){var t=this;arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return new P.a(function(e,i){t.getMapCentreAddress().then(function(i){i&&MapboxGeocoder&&t.getsmart(t.thingMapGeocoder,"inputEl.value",!1)&&(t.thingMapGeocoder._inputEl.value=i.place_name),e(i)}).catch(function(t){t&&console.error(t)})})},getMapCentreAddress:function(){var t=this;return new P.a(function(e,i){if(t.thingMap){var s=t.thingMap.getCenter().lng,n=t.thingMap.getCenter().lat;t.getAddressFromCoords(s,n).then(function(t){e(t)}).catch(function(t){i(t)})}else i()})},getAddressFromCoords:function(t,e){var i=this;return new P.a(function(s,n){var o="https://api.mapbox.com/geocoding/v5/mapbox.places/"+t+","+e+".json?access_token="+mapboxgl.accessToken+"&types=address";i.$http.get(o).then(function(t){s(t.body.features[0])}).catch(function(t){console.error(t),n(t)})})},autoCompleteAddress:function(t){var e=this;return new P.a(function(i,s){var n="https://api.mapbox.com/geocoding/v5/mapbox.places/"+t+".json?access_token="+mapboxgl.accessToken+"&types=address";e.$http.get(n).then(function(t){i(t.body.features[0])}).catch(function(t){console.error(t),s(t)})})},tryGeojson:function(t){return this.getsmart(t,"coords",void 0)&&this.getsmart(t,"coords.latitude",void 0)&&this.getsmart(t,"coords.longitude",void 0)?{center:[this.getsmart(t,"coords.longitude",145.179286),this.getsmart(t,"coords.latitude",-37.983109)],geometry:{coordinates:[this.getsmart(t,"coords.longitude",145.179286),this.getsmart(t,"coords.latitude",-37.983109)],type:"Point"}}:t},renderThingsOnMap:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this.thingMutable,"things",[]);e&&this.convertListToFeatures(e).then(function(){t.renderFeatureMarkers()})},convertListToFeatures:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this.thingMutable,"things",[]);return new P.a(function(i,s){if(e)for(var n=0;n<e.length;n++)t.pushThingFeature(e[n]),n==e.length-1&&i();else s()})}},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity},"$store.state.realms":function(){this.realms=this.$store.state.realms},"$store.state.thingTypes":function(){this.thingTypes=this.$store.state.thingTypes},"$store.state.thingNames":function(){this.thingNames=this.$store.state.thingNames},"$store.state.priceUnits":function(){this.priceUnits=this.$store.state.priceUnits},"$store.state.currencies":function(){this.currencies=this.$store.state.currencies},thing:function(){this.sameObj(this.thing,this.thingMutable)?this.sameObj(this.thing,this.thingMutable):(this.setsmart(this,"thingMutable",this.thing),this.create())},"thing.properties":function(){console.log("hmm"),this.sameObj(this.thing,this.thingMutable)&&this.getsmart(this.thing,"names",[]).includes("a lopu inventory generator")&&!this.optIn("gotten")&&this.optIn("regen lopu")&&(this.popOpt("regen lopu"),console.log("woo"),this.reinit())},thingMutable:function(){var t=this,e=this;this.thingMutable&&(this.mapThings(),this.resetDefaultThing(),this.mapProperties().then(function(e){t.resetDefaultThing(),t.updateOpts()}),setTimeout(function(){e.optIn("loading",e.getsmart(e,"thingMutable.names",[]))&&e.pushOpt("waiting-hidden",e.getsmart(e,"thingMutable.names",[]))},6e3),this.entity&&this.entity.inventory&&(this.entity.inventory._id==this.thingMutable._id&&void 0!==this.thingMutable._id||this.entity.inventory.uuid==this.thingMutable.uuid&&void 0!==this.thingMutable.uuid)&&this.$store.commit("entityInventorySet",this.thingMutable))},"thingMutable.properties.mapped.options.Array of Strings":function(){this.optIn("show inventory")?(this.popOpt("no-fetch",this.childOptions),this.pushOpt("fetch",this.childOptions),this.optIn("watched-inv")||this.addSlotsToInv(),this.pushOpt("watched-inv")):this.popOpt("watched-inv")},optionsMutable:function(){},parentOptions:function(){this.optIn("no-fetch",this.parentOptionsMutable)||this.optIn("fetched")||!this.optIn("fetch",this.parentOptionsMutable)||(this.popOpt("no-fetch"),this.create())}},props:{thing:{default:function(){return{description:void 0,names:["new"],uuid:this.$uuid.v4()}}},defaultThing:{default:function(){}},neighbours:{default:function(){return[]}},parentId:{},index:{},options:{type:Array,default:function(){return[]}},parentOptions:{type:Array,default:function(){return[]}},theme:{default:"reddit",type:String},fieldsDraft:{default:function(){}},requiredRealms:{default:function(){return[{realm:"all"}]}},limit:{type:Number,default:50},loadLimit:{type:Number,default:5},savesTo:{default:void 0},schema:{}},computed:{thingComputed:{get:function(){return this.thing||{description:"",parents:[this.parentId],names:["new"]}}},fieldsComputed:{get:function(){return this.fieldsDraft||{title:null,description:this.getsmart(this,"thingMutable.description",""),owners:[this.$store.state.entity._id],ownerAlias:this.$store.state.entity.username,realms:null,names:null,url:null,parents:this.getsmart(this,"thingMutable.parents",[])}}},value:{get:function(){var t=void 0;return this.type&&"string"==typeof this.type&&(0==this.type.indexOf("String")?t=this.thingMutable.String:0==this.type.indexOf("Thing")?t=this.thingMutable[this.type]:0==this.type.indexOf("Array")?t=this.thingMutable[this.type]:0==this.type.indexOf("Number")?t=this.thingMutable.Number:0==this.type.indexOf("Boolean")&&(t=this.thingMutable.Boolean)),t},set:function(t){if("string"==typeof t&&"string"==typeof this.type)if(0==this.type.indexOf("String"))this.$set(this.thingMutable,"String",t);else if(0==this.type.indexOf("Thing"))this.$set(this.thingMutable,this.type,t);else if(0==this.type.indexOf("Array"))this.$set(this.thingMutable,this.type,t);else if(0==this.type.indexOf("Number")){var e=parseInt(t);this.$set(this.thingMutable,"Number",e)}else 0==this.type.indexOf("Boolean")&&this.$set(this.thingMutable,"Boolean",t)}},valueString:{get:function(){var t="undefined";this.value;return this.type&&"string"==typeof this.type&&(0==this.type.indexOf("String")?t=this.getsmart(this,"thingMutable.String","undefined"):0==this.type.indexOf("Thing")?t=this.getsmart(this,"thingMutable."+this.type,"undefined").toString():0==this.type.indexOf("Array")?t=this.getsmart(this,"thingMutable."+this.type,"undefined").toString():0==this.type.indexOf("Number")?t=this.getsmart(this,"thingMutable.Number","undefined").toString():0==this.type.indexOf("Boolean")&&(t=this.getsmart(this,"thingMutable.Boolean","undefined").toString())),t}},valueShortRender:{get:function(){var t="undefined";this.value;return this.type&&"string"==typeof this.type&&(0==this.type.indexOf("String")?t=this.trunc(this.thingMutable.String)||"undefined":0==this.type.indexOf("Thing")?t="{"+(this.getsmart(this,"thingMutable."+this.type+".title",!1)||"thing")+"}":0==this.type.indexOf("Array")?t="[ "+this.getsmart(this,"thingMutable."+this.type+".length",0)+" ]":0==this.type.indexOf("Number")?t=this.getsmart(this,"thingMutable.Number","undefined").toString():0==this.type.indexOf("Boolean")&&(t=this.getsmart(this,"thingMutable.Boolean","undefined").toString())),t}},type:{get:function(){return this.thingMutable.type},set:function(t){this.$set(this.thingMutable,"type",t)}},typeString:{get:function(){return this.type}},childType:{get:function(){var t=void 0;return"string"==typeof this.type?this.optIn(0,[this.type.indexOf("Thing"),this.type.indexOf("Array")])&&(this.type.length>"Array".length||this.type.length>"Thing".length)&&(t=(t=this.type.split(" "))[t.length-1].replace(/s$/gi,"")):t=void 0,t}},thingDescriptionInputOptions:{get:function(){return{toolbar:{},placeholder:{text:"Start typing to add a description",hideOnClick:!1},targetBlank:!0}}},thingValueInputOptions:{get:function(){var t={toolbar:{},placeholder:{text:"Start typing to express your self",hideOnClick:!1},targetBlank:!0};return"string"==typeof this.getsmart(this.thingMutable,"type",void 0)&&0==this.getsmart(this.thingMutable,"type","").indexOf("Boolean")?t.placeholder.text="Enter either true or false, 0 or 1, yes or no":"string"==typeof this.getsmart(this.thingMutable,"type",void 0)&&0==this.getsmart(this.thingMutable,"type","").indexOf("Number")?t.placeholder.text='Enter any number you want, "500 million" works, so does "negative 900", as does "four times eight"':"string"==typeof this.getsmart(this.thingMutable,"type",void 0)&&0==this.getsmart(this.thingMutable,"type","").indexOf("String")&&(t.placeholder.text="Start typing to enter the text value"),t}},thingTitleInputOptions:{get:function(){return{toolbar:{},placeholder:{text:"Start typing to add a title",hideOnClick:!1},targetBlank:!0}}},editable:{get:function(){var t=this.getsmart(this,"thingMutable.owners",[]).filter(function(t){});return!(0!=t.length&&!this.optIn(this.getsmart(this,"entity._id",void 0),t))}}},components:{thing:rt}},it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return!t.thingMutable||t.optIn("waiting-hidden",t.gosmart(t.thingMutable,"names",[]))||t.optIn("deleted",t.gosmart(t.thingMutable,"names",[]))?t._e():i("div",{staticClass:"thing",class:{"inventory-mode":t.optIn("inventory mode"),icon:t.optIn("icon"),wide:t.optIn("wide"),feed:t.optIn("feed"),comments:t.optIn("comments"),editing:t.optIn("editing"),"inventory-item":t.optIn("inventory item"),shallow:t.optIn("less padding"),debate:t.optIn("debate",t.gosmart(t.thingMutable,"names",[])),"a-lopu-root":t.optIn("a lopu root",t.gosmart(t.thingMutable,"names",[])),"show-options":t.optIn("show options"),"show-value":t.optIn("show value"),"tight-list-thing":t.optIn("tight list thing"),"inventory-slot":t.optIn("inventory slot"),"show-slots":t.optIn("show slots"),"in-slot":t.optIn("in slot"),"shrink-slot-icon":t.optIn("shrink slot icon"),"holo-mode":t.optIn("holo mode"),"a-lopu-map":t.optIn("a lopu map",t.gosmart(t.thingMutable,"names",[])),"put-inventory-first":t.optIn("put inventory first"),"put-properties-first":t.optIn("put properties first"),"put-value-first":t.optIn("put value first"),"put-options-first":t.optIn("put options first"),"put-inventory-last":t.optIn("put inventory last"),"put-properties-last":t.optIn("put properties last"),"put-value-last":t.optIn("put value last"),"put-options-last":t.optIn("put options last"),property:t.optIn("property",t.gosmart(t.thingMutable,"names",[])),value:t.optIn("a lopu value",t.gosmart(t.thingMutable,"names",[])),"no-options":t.optIn("no options")},style:t.getsmart(t.thingMutable,"properties.mapped.css.json",void 0),on:{click:function(e){if(e.target!==e.currentTarget)return null;t.popOpt("icon")}}},[i("div",{staticClass:"main-container"},[i("div",{staticClass:"main-positioner"},[!t.optIn("loading",t.gosmart(t.thingMutable,"names",[]))&&!t.optIn("hide title")&&(t.anyOptsIn(["show title","inventory mode"])||t.optIn("property",t.gosmart(t.thingMutable,"names",[])))||!t.optIn("hide title when icon")&&t.optIn("icon")?i("b",{staticClass:"vis title-container"}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.optIn("loading",t.gosmart(t.thingMutable,"names",[]))&&!t.optIn("hide title")&&(t.anyOptsIn(["show title","inventory mode"])||t.optIn("property",t.gosmart(t.thingMutable,"names",[])))||!t.optIn("hide title when icon")&&t.optIn("icon"),expression:"\n          (\n            !optIn('loading', gosmart(thingMutable, 'names', [])) \n            && \n            !optIn('hide title')\n          ) \n          &&\n          (\n            anyOptsIn(['show title', 'inventory mode']) \n            || \n            optIn('property', gosmart(thingMutable, 'names', []))\n          )\n          ||\n          (\n            !optIn('hide title when icon')\n            &&\n            optIn('icon')\n          )\n        "}],staticClass:"option-container title-container",on:{click:function(e){t.showOptionsPerm(),t.popOpt("icon")}}},[i("div",{staticClass:"option-positioner title-positioner"},[t.optIn("editing")||t.optIn("loading",t.gosmart(t.thingMutable,"names",[]))?t._e():i("h4",{staticClass:"title option",attrs:{title:"title"},domProps:{innerHTML:t._s(t.thingMutable.title||t.getsmart(t.thingMutable,"names.0","Something")||t.thingMutable.properties&&t.thingMutable.properties.mapped&&t.thingMutable.properties.mapped.fbData&&t.thingMutable.properties.mapped.fbData.story)}}),i("div",{staticClass:"title option"},[t.optIn("edited")||t.optIn("editing")?i("medium-editor",{directives:[{name:"show",rawName:"v-show",value:t.optIn("editing")&&!t.optIn("loading",t.gosmart(t.thingMutable,"names",[])),expression:"\n                optIn('editing') \n                && \n                !optIn('loading', gosmart(thingMutable, 'names', []))\n                "}],attrs:{options:t.thingTitleInputOptions,"custom-tag":"h4",text:t.gosmart(t.thingMutable,"title","")},on:{edit:t.updateTitle}}):t._e()],1),t.optIn("property",this.gosmart(t.thingMutable,"names",[]))||t.optIn("is a typed lopu")?i("div",{staticClass:"type-container"},[i("div",{staticClass:"type-positioner"},[t.optIn("editing")?t._e():i("div",{staticClass:"type"},[t._v(t._s(t.typeString))]),t.anyOptsIn(["edited","editing"])?i("v-select",{directives:[{name:"show",rawName:"v-show",value:t.optIn("editing"),expression:"optIn('editing')"}],staticClass:"type",attrs:{pushTags:!1,value:"undefined"==t.typeString?void 0:t.typeString,inputStore:!0,options:t.types,taggable:!0,placeholder:"type"},on:{input:t.updateType}}):t._e()],1)]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.optIn("icon")&&t.optIn("property",t.gosmart(t.thingMutable,"names",[]))&&!t.optIn("editing")&&!t.optIn("show value"),expression:"\n              !optIn('icon')\n              && \n              optIn('property', gosmart(thingMutable, 'names', []))\n              && \n              !optIn('editing') \n              && \n              !optIn('show value')\n              "}],staticClass:"value-render-container",attrs:{title:"type"}},[i("div",{staticClass:"value-render-positioner"},[i("div",{staticClass:"option value-render",domProps:{innerHTML:t._s(t.valueShortRender)}})])])])]),t.anyOptsIn(["inventory mode","icon"])||t.optIn("loading",t.gosmart(t.thingMutable,"names",[]))||t.optIn("hide name")||!t.optIn("show name")?t._e():i("b",{staticClass:"vis name-container"}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.anyOptsIn(["inventory mode","icon"])&&!t.optIn("loading",t.gosmart(t.thingMutable,"names",[]))&&!t.optIn("hide name")&&t.optIn("show name"),expression:"\n          !anyOptsIn(['inventory mode', 'icon']) \n          && \n          !optIn('loading', gosmart(thingMutable, 'names', [])) \n          && \n          !optIn('hide name') \n          && \n          optIn('show name')\n          "}],staticClass:"option-container name-container",on:{click:function(e){t.showOptionsPerm(),t.popOpt("icon")}}},[i("div",{staticClass:"option-positioner name-positioner"},[t.thingMutable.names&&t.thingMutable.names.length>0&&!t.optIn("inventory mode")?i("div",{staticClass:"name option"},[t._v(t._s("object"==typeof t.thingMutable.names[0]?t.thingMutable.names[0].name:t.thingMutable.names[0]))]):t.thingMutable.title?i("div",{staticClass:"name option",domProps:{innerHTML:t._s(t.thingMutable.title)}}):t.thingMutable.description?i("div",{staticClass:"name option",domProps:{innerHTML:t._s(t.thingMutable.description)}}):"string"==typeof t.thingMutable?i("div",{staticClass:"name option"},[t._v(t._s(t.thingMutable))]):i("div",{staticClass:"name option"},[t._v("Something")])])]),t.anyOptsIn(["loading","property","a lopu value"],t.gosmart(t.thingMutable,"names",[]))&&"Thing"!=t.getsmart(t.thingMutable,"type",void 0)&&!t.optIn("show description")||t.optIn("hide description")||t.optIn("icon")?t._e():i("b",{staticClass:"vis description-container"}),i("div",{directives:[{name:"show",rawName:"v-show",value:(!t.anyOptsIn(["loading","property","a lopu value"],t.gosmart(t.thingMutable,"names",[]))||"Thing"==t.getsmart(t.thingMutable,"type",void 0)||t.optIn("show description"))&&!t.optIn("hide description")&&!t.optIn("icon"),expression:"\n          (\n            (\n              !anyOptsIn(['loading', 'property', 'a lopu value'], gosmart(thingMutable, 'names', []))\n              ||\n              getsmart(thingMutable, 'type', undefined) == 'Thing'\n            )\n            || \n            optIn('show description')\n          ) \n          && \n          !optIn('hide description')\n          &&\n          !optIn('icon')\n        "}],staticClass:"option-container description-container",on:{click:function(e){t.showOptionsPerm(),t.popOpt("icon")}}},[i("div",{staticClass:"option-positioner description-positioner"},[t.optIn("editing")||t.optIn("icon")||t.optIn("loading",t.gosmart(t.thingMutable,"names",[]))?t._e():i("p",{staticClass:"description option",attrs:{title:"description"},domProps:{innerHTML:t._s(t.getsmart(t.thingMutable,"description",void 0)?t.thingMutable.description:t.getsmart(t.thingMutable,"properties.mapped.fbData.story",void 0)||"sup?")}}),t.optIn("edited")||t.optIn("editing")?i("medium-editor",{directives:[{name:"show",rawName:"v-show",value:t.optIn("editing")&&!t.optIn("icon")&&!t.optIn("loading",t.gosmart(t.thingMutable,"names",[])),expression:"optIn('editing') && !optIn('icon') && !optIn('loading', gosmart(thingMutable, 'names', []))"}],staticClass:"option",class:{description:!0},attrs:{options:t.thingDescriptionInputOptions,"custom-tag":"p",text:t.gosmart(t.thingMutable,"description","")},on:{edit:t.updateDescription}}):t._e()],1)]),t.optIn("loading",t.gosmart(t.thingMutable,"names",[]))?i("b",{staticClass:"vis status-container"}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.optIn("loading",t.gosmart(t.thingMutable,"names",[])),expression:"optIn('loading', gosmart(thingMutable, 'names', []))"}],staticClass:"option-container status-container"},[i("div",{staticClass:"option-positioner status-positioner"},[i("div",{staticClass:"status"},[i("icon",{attrs:{name:"spinner",pulse:"pulse"}})],1)])]),t.optIn("realms")?i("b",{staticClass:"vis realms-container"}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.optIn("realms"),expression:"optIn('realms')"}],staticClass:"option-container realms-container",class:{vis:t.optIn("realms")},on:{click:function(e){t.showOptionsPerm(),t.popOpt("icon")}}},[t.optIn("realms")?i("div",{staticClass:"option-positioner"},[i("div",{staticClass:"option pill realms"},[t.optIn("editing")?t._e():i("div",{staticClass:"values"},t._l(t.thingMutable.realms,function(e){return i("div",{staticClass:"value"},[t._v(t._s(e))])})),i("v-select",{directives:[{name:"show",rawName:"v-show",value:t.optIn("editing"),expression:"optIn('editing')"}],attrs:{pushTags:!0,multiple:"multiple",taggable:"taggable",options:t.realms,placeholder:"realms"},on:{click:t.showOptionsPerm},model:{value:t.thingMutable.realms,callback:function(e){t.$set(t.thingMutable,"realms",e)},expression:"thingMutable.realms"}})],1)]):t._e()]),t.optIn("names")?i("b",{staticClass:"vis names-container"}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.optIn("names"),expression:"optIn('names')"}],staticClass:"option-container names-container",class:{vis:t.optIn("names")},on:{click:function(e){t.showOptionsPerm(),t.popOpt("icon")}}},[t.optIn("names")?i("div",{staticClass:"option-positioner"},[i("div",{staticClass:"option pill thingNames"},[t.optIn("editing")?t._e():i("div",{staticClass:"value"},[t._v(t._s(t.thingMutable.thing))]),i("v-select",{directives:[{name:"show",rawName:"v-show",value:t.optIn("editing"),expression:"optIn('editing')"}],attrs:{pushTags:!0,taggable:"taggable",multiple:"multiple",returnLabeledValues:!0,options:t.thingNames,placeholder:"thing names"},on:{click:t.showOptionsPerm},model:{value:t.thingMutable.names,callback:function(e){t.$set(t.thingMutable,"names",e)},expression:"thingMutable.names"}})],1)]):t._e()]),t.optIn("privacy")?i("b",{staticClass:"vis privacy-container"}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.optIn("privacy"),expression:"optIn('privacy')"}],staticClass:"option-container privacy-container",class:{vis:t.optIn("privacy")},on:{click:function(e){t.showOptionsPerm(),t.popOpt("icon")}}},[t.optIn("privacy")?i("div",{staticClass:"option-positioner"},[i("div",{staticClass:"option pill privacy"},[t.optIn("editing")?t._e():i("div",{staticClass:"value"},[t._v(t._s(t.thingMutable.thing))]),i("v-select",{directives:[{name:"show",rawName:"v-show",value:t.optIn("editing"),expression:"optIn('editing')"}],attrs:{pushTags:!0,taggable:"taggable",multiple:"multiple",options:t.thingNames,placeholder:"these eyes only"},on:{click:t.showOptionsPerm},model:{value:t.thingMutable.privacy,callback:function(e){t.$set(t.thingMutable,"privacy",e)},expression:"thingMutable.privacy"}})],1)]):t._e()]),t.optIn("prices")?i("b",{staticClass:"vis contracts-container"}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.optIn("prices"),expression:"optIn('prices')"}],staticClass:"option-container contracts-container",class:{vis:t.optIn("prices")},on:{click:function(e){t.showOptionsPerm(),t.popOpt("icon")}}},[t.optIn("prices")?i("div",{staticClass:"option-positioner",on:{click:t.showOptionsPerm}},[i("div",{staticClass:"option pill contract"},[[i("div",{staticClass:"label-group"},[i("div",{staticClass:"label"},[t._v("costs")]),t.optIn("editing")?i("div",{staticClass:"label price-add",on:{click:t.addPrice}},[t._v("+")]):t._e()]),t.optIn("editing")?t.optIn("editing")?i("div",{staticClass:"contract-list"},t._l(t.thingMutable.contract,function(e,s){return i("div",{staticClass:"price"},[i("v-select",{directives:[{name:"show",rawName:"v-show",value:t.optIn("editing"),expression:"optIn('editing')"}],staticClass:"source-select",attrs:{inputStore:!0,options:t.currencies,placeholder:"payee"},model:{value:e.source,callback:function(i){t.$set(e,"source",i)},expression:"price.source"}}),i("v-select",{directives:[{name:"show",rawName:"v-show",value:t.optIn("editing"),expression:"optIn('editing')"}],staticClass:"currency-select",attrs:{inputStore:!0,options:t.currencies,placeholder:"thing"},model:{value:e.thing,callback:function(i){t.$set(e,"thing",i)},expression:"price.thing"}}),i("div",{staticClass:"denominator"},[t._v("$")]),i("v-select",{directives:[{name:"show",rawName:"v-show",value:t.optIn("editing"),expression:"optIn('editing')"}],staticClass:"ammount-select",attrs:{inputStore:!0,pushTags:!0,taggable:"taggable",options:t.realms,placeholder:"amount"},model:{value:e.amount,callback:function(i){t.$set(e,"amount",i)},expression:"price.amount"}}),i("div",{staticClass:"signifier"},[t._v("per")]),i("v-select",{directives:[{name:"show",rawName:"v-show",value:t.optIn("editing"),expression:"optIn('editing')"}],staticClass:"multiplier-select",attrs:{inputStore:!0,pushTags:!0,taggable:"taggable",options:t.realms,placeholder:"amount"},model:{value:e.multiplier,callback:function(i){t.$set(e,"multiplier",i)},expression:"price.multiplier"}}),i("v-select",{directives:[{name:"show",rawName:"v-show",value:t.optIn("editing"),expression:"optIn('editing')"}],staticClass:"unit-select",attrs:{inputStore:!0,options:t.priceUnits,placeholder:"unit"},model:{value:e.unit,callback:function(i){t.$set(e,"unit",i)},expression:"price.unit"}}),i("v-select",{directives:[{name:"show",rawName:"v-show",value:t.optIn("editing"),expression:"optIn('editing')"}],staticClass:"destination-select",attrs:{inputStore:!0,options:t.currencies,placeholder:"receiver"},model:{value:e.destination,callback:function(i){t.$set(e,"destination",i)},expression:"price.destination"}}),i("div",{staticClass:"action",on:{click:function(e){t.removePrice(s)}}},[i("icon",{attrs:{name:"remove"}})],1)],1)})):t._e():i("div",{staticClass:"values"},t._l(t.thingMutable.contract,function(e){return i("div",{staticClass:"value"},[t._v(t._s(e.fiat)+" per "+t._s(e.multipler)+" "+t._s(e.unit)+"'s")])}))]],2)]):t._e()]),t.anyOptsIn(["show map","location"])?i("b",{staticClass:"vis location-container"}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.anyOptsIn(["show map","location"]),expression:"anyOptsIn(['show map', 'location'])"}],staticClass:"option-container location-container",class:{vis:t.anyOptsIn(["show map","location"])}},[t.anyOptsIn(["show map","location","location rendered"])?i("div",{staticClass:"option-positioner"},[i("div",{staticClass:"option location"},[i("div",{staticClass:"map-container"},[i("div",{staticClass:"map-positioner"},[i("mapbox",{attrs:{"access-token":"pk.eyJ1IjoibG9wdSIsImEiOiJjamFydTVhc3QxNjRtMzNwaHEzNmJ1bW0zIn0.Wm7f-1eyd7K5AT3WN7fRDw","map-options":{style:"mapbox://styles/lopu/cjaru8bau2y1x2rp9ks1fk973",center:t.thingMapboxCoords(),zoom:15.6,container:"map"+t.$uuid.v4()},"geolocate-control":{show:!0,position:"top-left"}},on:{"map-init":t.locationInitialized}}),i("div",{staticClass:"overlay-container"},[i("div",{staticClass:"overlay-positioner"},[t.optIn("locationSet")?t._e():i("div",{staticClass:"custom-pin-container"},[t._m(0)])])])],1)]),i("div",{staticClass:"btn-container",class:{"courier-job":t.optIn("courier job",t.thingMutable.names),"courier-map":t.optIn("courier map",t.thingMutable.names)}},[i("div",{staticClass:"btn-positioner"},[t.optIn("a lopu map",t.gosmart(t.thingMutable,"names",[]))&&!t.optIn("locationSet")?i("div",{staticClass:"wide-btn",on:{click:t.addNewChildThing}},[i("div",{staticClass:"wide-btn-content"},[t._v("Add something here")])]):t.optIn("a lopu map",t.gosmart(t.thingMutable,"names",[]))&&t.optIn("locationSet")?i("div",{staticClass:"wide-btn",on:{click:function(e){t.popOpt("locationSet")}}},[i("div",{staticClass:"wide-btn-content"},[t._v("Add something else")])]):t.optIn("locationSet")?t.optIn("locationSet")?i("div",{staticClass:"wide-btn",on:{click:function(e){t.updateThingLocation({loc:"map"})}}},[i("div",{staticClass:"wide-btn-content"},[t._v("New Location")])]):t._e():i("div",{staticClass:"wide-btn",on:{click:function(e){t.updateThingLocation({loc:"map"})}}},[i("div",{staticClass:"wide-btn-content"},[t._v("Set Location")])])])])])]):t._e()]),t.optIn("postas")?i("b",{staticClass:"vis postas-container"}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.optIn("postas"),expression:"optIn('postas')"}],staticClass:"option-container postas-container",class:{vis:t.optIn("postas")},on:{click:function(e){t.showOptionsPerm(),t.popOpt("icon")}}},[t.optIn("postas")?i("div",{staticClass:"option-positioner"},[i("div",{staticClass:"option pill postas"},[i("v-select",{attrs:{inputStore:!0,placeholder:"post as",taggable:!0,pushTags:!0,options:t.alterEgos,value:t.thingMutable.ownerAlias},model:{value:t.thingMutable.ownerAlias,callback:function(e){t.$set(t.thingMutable,"ownerAlias",e)},expression:"thingMutable.ownerAlias"}})],1)]):t._e()]),t.feedback||t.getsmart(t.messages,"length",0)?i("b",{staticClass:"vis feedback-container"}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.feedback||t.getsmart(t.messages,"length",0),expression:"feedback || getsmart(messages, 'length', 0)"}],staticClass:"option-container feedback-container",class:{vis:t.feedback}},[i("div",{staticClass:"option-positioner"},[t.feedback?i("div",{staticClass:"option feedback"},[i("div",{staticClass:"msg"},[t._v(t._s(t.feedback.message)),"delete"!==t.feedback.type?i("div",{staticClass:"action",on:{click:function(e){t.setFeedback()}}},[t._v("Thank you")]):t._e(),"delete"==t.feedback.type?i("div",{staticClass:"action",on:{click:function(e){t.deleteThing(!0)}}},[t._v("Yes")]):t._e()])]):t._e(),t.messages?i("div",{staticClass:"option feedback-list"},[i("div",{staticClass:"feedback-list-container"},[i("div",{staticClass:"feedback-list-positioner"},[i("div",{staticClass:"feedback-list option-messages inventory-messages"},[t._l(t.messages,function(e,s){return[i("div",{staticClass:"message"},[i("div",{staticClass:"contents"},[i("div",{staticClass:"from"},[t._v(t._s(e.from))]),i("div",{staticClass:"text"},[t._v(t._s(e.text))])]),i("div",{staticClass:"action",on:{click:function(e){t.removeMessage(s)}}},[t._v("read")])])]})],2)])])]):t._e()])]),t.optIn("show inventory")&&!t.optIn("icon")||t.optIn("feed")?i("b",{staticClass:"vis inventory-container"}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.optIn("show inventory")&&!t.optIn("icon")||t.optIn("feed"),expression:"(optIn('show inventory') && !optIn('icon')) || optIn('feed')"}],ref:"inventory-option",staticClass:"option-container inventory-container",class:{vis:t.optIn("show inventory")&&!t.optIn("icon")||t.optIn("feed")},on:{click:function(e){t.showOptionsPerm(),t.popOpt("icon")}}},[i("div",{staticClass:"option-positioner"},[i("div",{staticClass:"option inventory"},[i("div",{ref:"inventory-list-container",staticClass:"thing-list-container inventory-list-container"},[i("div",{ref:"inventory-list",staticClass:"thing-list inventory-list",class:{"show-slots":t.optIn("show slots")},style:{width:t.invGrid.invWidth?t.invGrid.invWidth+"px":void 0}},[t._l(t.getsmart(t.thingMutable,"things",[]),function(e,s){return[s<(t.limitMutable==t.getsmart(t.thingMutable,"things.length",5)+1?t.limitMutable:t.limitMutable-1)?i("b"):t._e(),t.optIn("slotted")?i("div",{directives:[{name:"show",rawName:"v-show",value:s<(t.limitMutable==t.getsmart(t.thingMutable,"things.length",5)+1?t.limitMutable:t.limitMutable-1),expression:"index < ((limitMutable == getsmart(thingMutable, 'things.length', 5)+1) ? limitMutable : limitMutable-1)"}],staticClass:"slot-container inventory-slot-container",style:{width:t.optIn("icon",t.getsmart(e,"properties.mapped.options.Array of Strings",!1))&&t.optIn("slotted",t.getsmart(t.thingMutable,"properties.mapped.options.Array of Strings",!1))?t.invGrid.width+"px":"auto",height:t.optIn("icon",t.getsmart(e,"properties.mapped.options.Array of Strings",!1))&&t.optIn("slotted",t.getsmart(t.thingMutable,"properties.mapped.options.Array of Strings",!1))?t.invGrid.width+"px":"auto",padding:t.optIn("show slots")?t.invGrid.padding:void 0}},[i("div",{staticClass:"slot-positioner",style:{}},["debug"!==e.title&&t.anyOptsIn(["keep inventory loaded","show inventory"])&&!t.optIn("dont load children")&&e&&!t.optIn("inventory slot",e.names)?i("thing",{key:e._id||e.uuid||e,style:{order:t.optIn("put things first")&&!t.optIn("new",e.names)?2:t.optIn("put things last")&&!t.optIn("new",e.names)?4:t.optIn("put new things first")&&t.optIn("new",e.names)?2:t.optIn("put new things last")&&t.optIn("new",e.names)?4:3},attrs:{thing:e,index:s,parentId:t.thingMutable._id||t.thingMutable.uuid||t._uid,schema:t.getsmart(t.thingMutable,"properties.mapped.things schema",void 0),parentOptions:t.childOptions},on:{remove:function(e){t.deleteChildThing(s,"things")},saved:function(e){t.savedChildThing(s)}}}):t._e()],1)]):!t.optIn("slotted")&&"debug"!==e.title&&t.anyOptsIn(["keep inventory loaded","show inventory"])&&!t.optIn("dont load children")&&e&&!t.optIn("inventory slot",e.names)&&s<(t.limitMutable==t.getsmart(t.thingMutable,"things.length",5)+1?t.limitMutable:t.limitMutable-1)?i("thing",{key:e._id||e.uuid||e,style:{order:t.optIn("put things first")&&!t.optIn("new",e.names)?2:t.optIn("put things last")&&!t.optIn("new",e.names)?4:t.optIn("put new things first")&&t.optIn("new",e.names)?2:t.optIn("put new things last")&&t.optIn("new",e.names)?4:3},attrs:{thing:e,index:s,parentId:t.thingMutable._id||t.thingMutable.uuid||t._uid,schema:t.getsmart(t.thingMutable,"properties.mapped.things schema",void 0),parentOptions:t.childOptions},on:{remove:function(e){t.deleteChildThing(s,"things")},saved:function(e){t.savedChildThing(s)}}}):t._e()]}),t.optIn("slotted")?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.optIn("not-addable")&&t.anyOptsIn(["addable with template","template adder"]),expression:"!optIn('not-addable') && anyOptsIn(['addable with template', 'template adder'])"}],staticClass:"slot-container inventory-slot-container",class:{vis:!t.optIn("not-addable")&&t.anyOptsIn(["addable with template","template adder"])},style:{width:t.invGrid.width&&t.optIn("slotted")?t.invGrid.width+"px":"auto",height:t.invGrid.width&&t.optIn("slotted")?t.invGrid.width+"px":"auto",padding:t.optIn("show slots")?t.invGrid.padding:void 0}},[i("div",{staticClass:"slot-positioner"},[!t.optIn("not-addable")&&t.anyOptsIn(["addable with template","template adder"])?i("thing",{staticClass:"in-slot",attrs:{thing:t.defaultThingMutable,savesTo:t.savesToMutable},on:{saved:function(e){t.resetDefaultThing()}}}):t._e()],1)]):!t.optsIn(["not-addable","slotted"])&&t.anyOptsIn(["addable with template","template adder"])?i("thing",{directives:[{name:"show",rawName:"v-show",value:!t.optIn("not-addable")&&t.anyOptsIn(["addable with template","template adder"]),expression:"!optIn('not-addable') && anyOptsIn(['addable with template', 'template adder'])"}],attrs:{thing:t.defaultThingMutable,savesTo:t.savesToMutable},on:{saved:function(e){t.resetDefaultThing()}}}):t._e(),t.optIn("slotted")?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.anyOptsIn(["not-addable","no adder button","hide addable button"]),expression:"!anyOptsIn(['not-addable', 'no adder button', 'hide addable button'])"}],staticClass:"slot-container inventory-slot-container",class:{"put-addable-first":t.optIn("put addable first"),"put-addable-last":t.optIn("put addable last"),wide:t.optIn("wide-adder")||t.optIn("feed"),rounded:t.optIn("rounded"),vis:!t.anyOptsIn(["not-addable","no adder button","hide addable button"])},style:{width:t.invGrid.width&&t.optIn("slotted")?t.invGrid.width+"px":"auto",height:t.invGrid.width&&t.optIn("slotted")?t.invGrid.width+"px":"auto",padding:t.optIn("show slots")?t.invGrid.padding:void 0}},[i("div",{staticClass:"slot-positioner"},[i("div",{staticClass:"thing meta-thing add-new in-slot",class:{"shrink-slot-icon":t.optIn("shrink slot icons"),icon:!t.optIn("wide adder")},on:{click:t.addNewChildThing}},[i("div",{staticClass:"meta-thing-square"},[i("icon",{attrs:{name:"plus"}})],1)])])]):t.optIn("slotted")?t._e():i("div",{directives:[{name:"show",rawName:"v-show",value:!t.anyOptsIn(["not-addable","no adder button","hide addable button"]),expression:"!anyOptsIn(['not-addable', 'no adder button', 'hide addable button'])"}],staticClass:"thing meta-thing add-new",class:{"put-addable-first":t.optIn("put addable first"),"put-addable-last":t.optIn("put addable last"),icon:!t.optIn("wide adder"),wide:t.optIn("wide-adder")||t.optIn("feed"),rounded:t.optIn("rounded"),vis:!t.anyOptsIn(["not-addable","no adder button","hide addable button"])},on:{click:t.addNewChildThing}},[i("div",{staticClass:"meta-thing-square"},[i("icon",{attrs:{name:"plus"}})],1)]),t.optIn("slotted")?i("div",{directives:[{name:"show",rawName:"v-show",value:t.getsmart(t.gosmart(t.thingMutable,"things",[]),"length",0)>t.limitMutable,expression:"getsmart(gosmart(thingMutable, 'things', []), 'length', 0) > limitMutable"}],staticClass:"slot-container",class:{"put-addable-first":t.optIn("put-thing-loader-first"),"put-addable-last":t.optIn("put-thing-loader-last"),wide:(t.optIn("wide")||t.optIn("feed"))&&!t.optIn("normal-loader"),rounded:t.optIn("rounded"),vis:t.thingMutable.things&&t.getsmart(t.thingMutable,"things.length",5)>0&&t.limitMutable<t.getsmart(t.thingMutable,"things.length",5)},style:{width:t.invGrid.width&&t.optIn("slotted")?t.invGrid.width+"px":"auto",height:t.invGrid.width&&t.optIn("slotted")?t.invGrid.width+"px":"auto",padding:t.optIn("show slots")?t.invGrid.padding:void 0},on:{click:function(e){t.limitMutable=t.getsmart(t.thingMutable,"things.length",5)+1}}},[i("div",{staticClass:"slot-positioner"},[i("div",{staticClass:"thing meta-thing load-next in-slot",class:{"shrink-slot-icon":t.optIn("shrink slot icons"),icon:!t.optIn("wide adder")}},[i("div",{staticClass:"meta-thing-square"},[i("div",{staticClass:"name"},[t._v("Load "+t._s(t.getsmart(t.thingMutable,"things.length",5)-t.limitMutable)+" more "+t._s(t.thingMutable.title?t.thingMutable.title.replace(/.*-/,""):""))])])])])]):t.optIn("slotted")?t._e():i("div",{directives:[{name:"show",rawName:"v-show",value:t.getsmart(t.gosmart(t.thingMutable,"things",[]),"length",0)>t.limitMutable,expression:"getsmart(gosmart(thingMutable, 'things', []), 'length', 0) > limitMutable"}],staticClass:"thing meta-thing load-next",class:{"put-addable-first":t.optIn("put-thing-loader-first"),"put-addable-last":t.optIn("put-thing-loader-last"),wide:(t.optIn("wide")||t.optIn("feed"))&&!t.optIn("normal-loader"),rounded:t.optIn("rounded"),vis:t.thingMutable.things&&t.getsmart(t.thingMutable,"things.length",5)>0&&t.limitMutable<t.getsmart(t.thingMutable,"things.length",5),"shrink-slot-icon":t.optIn("shrink slot icons"),icon:!t.optIn("wide adder")},on:{click:function(e){t.limitMutable=t.getsmart(t.thingMutable,"things.length",5)+1}}},[i("div",{staticClass:"meta-thing-square"},[i("div",{staticClass:"name"},[t._v("Load "+t._s(t.getsmart(t.thingMutable,"things.length",5)-t.limitMutable)+" more "+t._s(t.thingMutable.title?t.thingMutable.title.replace(/.*-/,""):""))])])])],2)]),i("div",{staticClass:"option-messages inventory-messages"},[t._l(t.messages,function(e,s){return[i("div",{staticClass:"message"},[i("div",{staticClass:"contents"},[i("div",{staticClass:"from"},[t._v(t._s(e.from))]),i("div",{staticClass:"text"},[t._v(t._s(e.text))])]),i("div",{staticClass:"action",on:{click:function(e){t.removeMessage(s)}}},[t._v("read")])])]})],2)])])]),t.optIn("show-comments")&&!t.optIn("icon")?i("b",{staticClass:"vis comments-container"}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.optIn("show-comments")&&!t.optIn("icon"),expression:"(optIn('show-comments') && !optIn('icon'))"}],staticClass:"option-container comments-container",class:{vis:t.optIn("show-comments")&&!t.optIn("icon")}},[i("div",{staticClass:"option-positioner comments-sizer"},[i("div",{staticClass:"option comments"},[!t.optIn("dont-load-comments")&&t.getsmart(t.thingMutable,"things.mapped.all-comments",!1)?i("thing",{key:t.getsmart(t.thingMutable,"things.mapped.all-comments",void 0),style:{order:t.optIn("put things first")&&!t.optIn("new",t.thing.names)?2:t.optIn("put things last")&&!t.optIn("new",t.thing.names)?4:t.optIn("put new things first")&&t.optIn("new",t.thing.names)?2:t.optIn("put new things last")&&t.optIn("new",t.thing.names)?4:3},attrs:{thing:t.getsmart(t.thingMutable,"things.mapped.all-comments",void 0),index:t.index,parentOptions:["no options","no context","feed","comments","addable","addable with template","shallow adders","dont load children children children"],savesTo:[t.gosmart(t.thingMutable,"things.mapped.this lopus comments",{parents:[t.thingMutable],title:"this lopus comments",properties:[{title:"uniques",list:"title"}],uuid:t.$uuid.v4()})]}}):t._e()],1)])]),!t.optIn("show options")||t.optIn("loading",t.getsmart(t.thingMutable,"names",[]))||t.anyOptsIn(["icon","no options"])?t._e():i("b",{staticClass:"vis icons-container"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.optIn("show options")&&!t.optIn("loading",t.getsmart(t.thingMutable,"names",[]))&&!t.anyOptsIn(["icon","no options"]),expression:"\n          optIn('show options')\n          &&\n          !optIn('loading', getsmart(thingMutable, 'names', []))\n          &&\n          !anyOptsIn(['icon', 'no options'])\n          "}],staticClass:"option-container icons-container",class:{vis:t.optIn("show options")&&!t.optIn("loading",t.getsmart(t.thingMutable,"names",[]))&&!t.anyOptsIn(["icon","no options"])},style:{order:55}},[i("div",{staticClass:"option-positioner"},[t.optIn("show options icons")?i("div",{staticClass:"option delete",attrs:{title:"delete"}},[i("div",{staticClass:"label action",on:{click:function(e){t.deleteThing(!1)}}},[i("icon",{attrs:{name:"trash"}})],1)]):t._e(),t.optIn("show options icons")?i("div",{staticClass:"option realms",attrs:{title:"realms"}},[i("div",{staticClass:"action",on:{click:function(e){t.toggleOpt("realms")}}},[i("icon",{attrs:{name:"connectdevelop"}})],1)]):t._e(),t.optIn("show options icons")?i("div",{staticClass:"option names",attrs:{title:"names"}},[i("div",{staticClass:"action",on:{click:function(e){t.toggleOpt("names")}}},[i("icon",{attrs:{name:"diamond"}})],1)]):t._e(),t.optIn("show options icons")?i("div",{staticClass:"option replies",attrs:{title:"comments"}},[i("div",{staticClass:"action",on:{click:function(e){t.toggleOpt("show-comments"),t.loadComments()}}},[i("icon",{attrs:{name:"comments"}})],1)]):t._e(),t.optIn("show options icons")?i("div",{staticClass:"option fork",attrs:{title:"fork"}},[i("div",{staticClass:"action",on:{click:t.forkThing}},[i("icon",{attrs:{name:"code-fork"}})],1)]):t._e(),t.optIn("show options icons")?i("div",{staticClass:"option reference",attrs:{title:"reference"}},[i("div",{staticClass:"action",on:{click:t.referenceThing}},[i("icon",{attrs:{name:"sitemap"}})],1)]):t._e(),t.optIn("show options icons")?i("div",{staticClass:"option boxup",attrs:{title:"collapse"}},[i("div",{staticClass:"action",on:{click:function(e){t.toggleOpt("icon")}}},[i("icon",{attrs:{name:"cube"}})],1)]):t._e(),t.optIn("show options icons")?i("div",{staticClass:"option showinv",attrs:{title:"inventory"}},[i("div",{staticClass:"action",on:{click:function(e){t.toggleOpt("show inventory"),t.popOpt("dont load children")}}},[i("icon",{attrs:{name:"cubes"}})],1)]):t._e(),t.optIn("show options icons")?i("div",{staticClass:"option showproperties",attrs:{title:"properties"}},[i("div",{staticClass:"action",on:{click:function(e){t.toggleOpt("show properties")}}},[i("icon",{attrs:{name:"flask"}})],1)]):t._e(),t.anyOptsIn(["property","a lopu value"],t.gosmart(t.thingMutable,"names",[]))&&t.optIn("show options icons")?i("div",{staticClass:"option show-value",attrs:{title:"value"}},[i("div",{staticClass:"action",on:{click:function(e){t.toggleOpt("show value")}}},[i("icon",{attrs:{name:"balance-scale"}})],1)]):t._e(),t.optIn("show options icons")?i("div",{staticClass:"option title",attrs:{title:"title"}},[i("div",{staticClass:"action",on:{click:function(e){t.toggleOpt("show title"),t.popOpt("hide title")}}},[i("icon",{attrs:{name:"envira"}})],1)]):t._e(),t.optIn("show options icons")?i("div",{staticClass:"option description",attrs:{title:"description"}},[i("div",{staticClass:"action",on:{click:function(e){t.toggleOpt("show description"),t.popOpt("hide description")}}},[i("icon",{attrs:{name:"book"}})],1)]):t._e(),t.optIn("show options icons")&&!t.optIn("editing")&&t.thingMutable.realms&&t.thingMutable.realms.indexOf("statement")>=0?i("div",{staticClass:"option statement",attrs:{title:"vote"}},[i("div",{staticClass:"action",attrs:{title:"up vote"}},[i("icon",{attrs:{name:"level-up",flip:"horizontal"}})],1),i("div",{staticClass:"action",attrs:{title:"down vote"}},[i("icon",{attrs:{name:"level-down"}})],1)]):t._e(),t.optIn("show options icons")?i("div",{staticClass:"option url",attrs:{title:"link"}},[i("div",{staticClass:"action link"},[i("div",{staticClass:"icon-wrapper"},[i("icon",{attrs:{name:"paperclip",flip:"vertical"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.optIn("editing"),expression:"optIn('editing')"}],staticClass:"input-popup-positioner"},[t._m(1),t._m(2)])])]):t._e(),t.optIn("show options icons")?i("div",{staticClass:"option commerce",attrs:{title:"price"}},[(t.optIn("editing"),i("div",{staticClass:"action",on:{click:function(e){t.toggleOpt("prices")}}},[i("icon",{attrs:{name:"credit-card"}})],1))]):t._e(),t.optIn("show options icons")?i("div",{staticClass:"option close-options",attrs:{title:"hide options"}},[i("div",{staticClass:"label action",on:{click:t.hideOptions}},[i("icon",{attrs:{name:"angle-double-up"}})],1)]):t._e(),t.optIn("show options icons")?i("div",{staticClass:"option map",attrs:{title:"location"}},[i("div",{staticClass:"label action",on:{click:function(e){t.toggleOpt("location"),t.pushOpt("location rendered")}}},[i("icon",{attrs:{name:"map-o"}})],1)]):t._e(),t.optIn("show options icons")&&t.editable?i("div",{staticClass:"option edit",attrs:{title:"edit"}},[i("div",{staticClass:"label action",on:{click:function(e){t.toggleOpt("editing"),t.pushOpt("edited")}}},[t.optIn("editing")?t._e():i("icon",{attrs:{name:"envelope"}}),t.optIn("editing")?i("icon",{attrs:{name:"envelope-open"}}):t._e()],1)]):t._e(),t.optIn("show options icons")&&t.editable?i("div",{staticClass:"option submit",attrs:{title:"save"}},[i("div",{staticClass:"label action",on:{click:t.saveThing}},[i("icon",{attrs:{name:"magic"}})],1),t.err?i("div",{staticClass:"err"},[t._v(t._s(t.err))]):t._e()]):t._e(),i("div",{staticClass:"option meta",attrs:{title:"more options"}},[i("div",{staticClass:"action",on:{click:function(e){t.toggleOpt("show options icons")}}},[i("icon",{attrs:{name:"cog"}})],1)])])])])])])},st=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"custom-pin-positioner"},[e("img",{staticClass:"pin-svg",attrs:{src:i("LNWm")}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-popup"},[e("div",{staticClass:"input",attrs:{contenteditable:"true",placeholder:"paste a link"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-diamond-positioner"},[e("div",{staticClass:"input-diamond"})])}];it._withStripped=!0;var nt=!1;var ot=function(t){nt||(i("ZES2"),i("CBX4"))},at=Object(p.a)(et,it,st,!1,ot,"data-v-4dc72a0e",null);at.options.__file="src/components/thing.vue";var rt=at.exports,ht={mixins:[I()({vue:{reactiveSetter:!0,vm:"this"}})],name:"home",data:function(){return{entity:this.$store.state.entity,pageHistory:this.$store.state.pageHistory,frontPageThing:{title:"The Collective Inventory",names:["a lopu inventory generator"],uuid:"hngg",properties:[{title:"a saveable lopu?",Boolean:!1,type:"Boolean"},{title:"things schema",properties:[{title:"properties schema",type:"Array",Array:[{title:"options",type:"Array of Strings","Array of Strings":["show title"]}]}]},{title:"things render limit",type:"Number",Number:20},{title:"count",Number:20,type:"Number"},{title:"sort",type:"json",json:{created:-1}},{title:"options",type:"Array of Strings","Array of Strings":["no options","addable","put new things first","dont load childrens children","show inventory","hide description","put addable first","template adder","holo mode","feed"]}]}}},sockets:{connect:function(){}},created:function(){this.$store.commit("addPage",this.$options.name)},methods:{spinLogo:function(){this.$refs.logo.classList.add("spin");var t=this;this.$refs.logo.movingTimer=this.$refs.logo.movingTimer||1e3,this.$refs.logo.movingTimer=setTimeout(function(){t.$refs.logo.classList.remove("spin")},this.$refs.logo.movingTimer)},queryNewThings:function(t){this.setThing({option:{title:"a special lopu regex to match",type:"String",String:t.title},list:this.gosmart(this,"frontPageThing.properties",[]),key:["title"],push:!0}),this.popOpt("gotten",this.getsmart(this,"frontPageThing.properties.mapped.options.Array of Strings",[])),this.pushOpt("regen lopu",this.getsmart(this,"frontPageThing.properties.mapped.options.Array of Strings",[]))}},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity,this.entity.inventory=this.$store.state.entity.inventory},"$store.state.pageHistory":function(){this.pageHistory=this.$store.state.pageHistory}},props:["siteTitle"],components:{search:X,thing:rt}},lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("img",{staticClass:"noselect",staticStyle:{transform:"rotate(180deg)","max-width":"100%"},attrs:{src:"assets/logo.png",title:"yes, this is the vue logo upside down"}}),t._m(0),i("search",{attrs:{options:t.frontPageThing.things,label:"title"},on:{go:function(e){t.createNewGetter(t.data)},searchText:t.queryNewThings}}),i("div",{staticClass:"inventories-container stream-container maps-inventory-container"},[i("thing",{attrs:{thing:t.frontPageThing}})],1),i("div",{staticClass:"inventories-container vertical"}),i("div",{staticClass:"inventories-container vertical"})],1)},pt=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"intro-text-container"},[e("div",{staticClass:"intro-text"},[this._v("Welcome to "),e("div",{staticClass:"inline"},[this._v("alopu, a social platform for trading anything. Even ideas")])])])}];lt._withStripped=!0;var ut=!1;var ct=function(t){ut||i("ORVZ")},dt=Object(p.a)(ht,lt,pt,!1,ct,null,null);dt.options.__file="src/components/home.vue";dt.exports;var gt={name:"realm",data:function(){return{realm:$route.params.realm,realms:$route.params.realms}},socket:{connect:function(){this.isConnected=!0},disconnect:function(){this.isConnected=!1},updatePosts:function(t){this.user&&this.user.wantsLive}},created:function(){getPosts({count:25,realm:this.realm})},methods:{getPosts:function(t){this.$socket.emit("getPosts",t)}}},mt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"realm"},[e("div",{staticClass:"posts-container"},[e("div",{staticClass:"posts-list"},[this._v("posts in a realm "+this._s(this.realm)+" or multiple realms "+this._s(this.realms))])])])},vt=[];mt._withStripped=!0;var ft=!1;var yt=function(t){ft||i("D65R")},bt=Object(p.a)(gt,mt,vt,!1,yt,"data-v-4353c72f",null);bt.options.__file="src/components/realm.vue";bt.exports;var Mt={name:"realms",data:function(){return{}},socket:{connect:function(){this.isConnected=!0},disconnect:function(){this.isConnected=!1},giveRealms:function(t){this.user&&this.user.wantsLive,console.log(t),this.realms=t}},created:function(){this.getRealms({count:100,sort:"alphabetical",sortDirection:"ascending"})},methods:{getRealms:function(t){this.$socket.emit("getRealms",t)}},props:["realms"]},wt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"realm"},[e("div",{staticClass:"posts-container"},[e("div",{staticClass:"posts-list"},[e("thing",{attrs:{thing:"5a4fb5ccc2f5ef485345f8d4"}})],1)])])},Ct=[];wt._withStripped=!0;var It=!1;var _t=function(t){It||i("hXcS")},Tt=Object(p.a)(Mt,wt,Ct,!1,_t,"data-v-2ad0bfd4",null);Tt.options.__file="src/components/realms.vue";Tt.exports;var Ot={name:"register-comp",data:function(){return{entity:this.$store.state.entity,pageHistory:this.$store.state.pageHistory,fields:{username:null,password:null,passwordConfirm:null},errMsg:null,feedbackMsg:null,uuid:this._uid}},sockets:{connect:function(){},giveRegister:function(t){console.log(t),t.success?(this.feedbackMsg=t.msg||"succesfully registered",this.clearFields()):(this.errMsg=t.msg||"there was an error",console.log(t.err))}},created:function(){},methods:{register:function(){if(this.fields.password&&this.fields.password==this.fields.passwordConfirm){var t={username:this.fields.username,password:this.fields.password};console.log("sent register emit"),this.$socket.emit("register",t),this.errMsg=null}else this.errMsg="the passwords do not match"},clearFields:function(){for(var t in this.fields)this.fields.hasOwnProperty(t)&&(this.fields[t]=null)}},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity},"$store.state.pageHistory":function(){this.pageHistory=this.$store.state.pageHistory}},props:{}},St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return!t.entity||t.entity&&!t.entity.auth?i("div",{staticClass:"register"},[i("div",{staticClass:"register-sizer"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.username,expression:"fields.username"}],attrs:{placeholder:"username"},domProps:{value:t.fields.username},on:{input:function(e){e.target.composing||t.$set(t.fields,"username",e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.password,expression:"fields.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.fields.password},on:{input:function(e){e.target.composing||t.$set(t.fields,"password",e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.passwordConfirm,expression:"fields.passwordConfirm"}],attrs:{type:"password",placeholder:"confirm password"},domProps:{value:t.fields.passwordConfirm},on:{input:function(e){e.target.composing||t.$set(t.fields,"passwordConfirm",e.target.value)}}}),i("button",{attrs:{type:"button"},on:{click:t.register}},[t._v("register")]),t.errMsg?i("div",{staticClass:"errMsg"},[t._v(t._s(t.errMsg))]):t._e(),t.feedbackMsg&&t.entity.username?i("div",{staticClass:"feedbackMsg"},[t._v(t._s(t.feedbackMsg))]):t._e()])]):t.entity.username?i("div",{staticClass:"register"},[i("div",{staticClass:"msg thanks"},[t._v(t._s(t.feedbackMsg))])]):t._e()},xt=[];St._withStripped=!0;var kt=!1;var $t=function(t){kt||i("f8hW")},jt=Object(p.a)(Ot,St,xt,!1,$t,"data-v-8f8a1d9a",null);jt.options.__file="src/components/register.vue";jt.exports;var At={data:function(){return{uuid:this._uid,entity:this.$store.state.entity}},sockets:{connect:function(){console.log("socket connect vue side")}},created:function(){},methods:{},props:{},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity,this.entity.inventory=this.$store.state.entity.inventory}},components:{},route:{canActivate:function(){return!0}}},Nt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"self"},[e("div",{staticClass:"entity-container"}),e("div",{staticClass:"entity-inventories"},[e("thing",{attrs:{thing:this.entity.inventory,parentOptions:["options","inventory","inventory mode","addable","put-options-last"]}})],1)])},Lt=[];Nt._withStripped=!0;var qt=!1;var Pt=function(t){qt||i("t9i0")},Dt=Object(p.a)(At,Nt,Lt,!1,Pt,"data-v-1949915c",null);Dt.options.__file="src/components/self.vue";Dt.exports;var Ft={data:function(){return{uuid:this._uid,entity:this.$store.state.entity}},sockets:{connect:function(){console.log("socket connect vue side")}},created:function(){},methods:{},props:{},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity}},components:{},route:{canActivate:function(){return!0}}},Bt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"trade"},[e("div",{staticClass:"entity-container"}),e("div",{staticClass:"inventories"},[e("div",{staticClass:"trader-container"},[e("div",{staticClass:"trader-positioner"},[e("thing",{attrs:{thing:{title:"Your Offerings",names:["inventory"],uuid:this.$uuid.v4()},parentOptions:["options","slotted","generate slots","show slots","show inventory","inventory mode","addable","put-options-last"]}}),this._m(0)],1)]),e("div",{staticClass:"trader-container"},[e("div",{staticClass:"trader-positioner"},[e("thing",{attrs:{thing:{title:"Their Offerings",names:["inventory"],uuid:this.$uuid.v4()},parentOptions:["options","show inventory","slotted","generate slots","show slots","inventory mode","addable","put-options-last"]}}),this._m(1)],1)])])])},Et=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"accept-trade-button-container"},[e("div",{staticClass:"accept-trade-button-positioner"},[e("div",{staticClass:"accept-trade-button accept"},[e("div",{staticClass:"accept-trade-button-content"},[this._v("Accept")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"accept-trade-button-container"},[e("div",{staticClass:"accept-trade-button-positioner"},[e("div",{staticClass:"accept-trade-button reject"},[e("div",{staticClass:"accept-trade-button-content"},[this._v("Reject")])])])])}];Bt._withStripped=!0;var Gt=!1;var zt=function(t){Gt||i("5Sdr")},Ht=Object(p.a)(Ft,Bt,Et,!1,zt,"data-v-b79728f8",null);Ht.options.__file="src/components/trade.vue";Ht.exports;var Vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return!t.entity||t.entity&&!t.entity.auth?i("div",{staticClass:"logout"},[i("div",{staticClass:"logout-sizer"},[t.errMsg?i("div",{staticClass:"errMsg"},[t._v(t._s(t.errMsg))]):t._e(),t.feedbackMsg&&t.entity.username?i("div",{staticClass:"feedbackMsg"},[t._v(t._s(t.feedbackMsg))]):t._e()])]):t.entity.username?i("div",{staticClass:"logout"},[i("div",{staticClass:"msg thanks"},[t._v(t._s(t.feedbackMsg))])]):t._e()},Rt=[];Vt._withStripped=!0;var Ut=!1;var Wt=function(t){Ut||i("XaeM")},Qt=Object(p.a)({name:"logout-comp",data:function(){return{entity:this.$store.state.entity,errMsg:"thanks for logging out",feedbackMsg:"thanks for logging out",uuid:this._uid}},sockets:{connect:function(){}},created:function(){this.logout()},methods:{logout:function(){this.$socket.emit("logout",{})}},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity}},props:{}},Vt,Rt,!1,Wt,"data-v-57730a9a",null);Qt.options.__file="src/components/logout.vue";Qt.exports;var Yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ico"},[t._m(0),i("div",{staticClass:"contents-container"},[i("div",{staticClass:"contents-positioner"},[i("div",{staticClass:"content-container"},[i("div",{staticClass:"content-positioner"},[i("div",{staticClass:"content-title-container"},[i("div",{staticClass:"content-title-positioner"},[i("router-link",{staticClass:"content-title",attrs:{to:"/ico/things"}},[t._v("things")])],1)]),i("div",{staticClass:"content"})])]),i("div",{staticClass:"content-container"},[i("div",{staticClass:"content-positioner"},[i("div",{staticClass:"content-title-container"},[i("div",{staticClass:"content-title-positioner"},[i("router-link",{staticClass:"content-title",attrs:{to:"/ico/things/manifest"}},[t._v("manifest")])],1)]),i("div",{staticClass:"content"})])]),i("div",{staticClass:"content-container"},[i("div",{staticClass:"content-positioner"},[i("div",{staticClass:"content-title-container"},[i("div",{staticClass:"content-title-positioner"},[i("router-link",{staticClass:"content-title",attrs:{to:"/ico/things/sandbox"}},[t._v("sandbox")])],1)]),i("div",{staticClass:"content"})])]),i("div",{staticClass:"content-container"},[i("div",{staticClass:"content-positioner"},[i("div",{staticClass:"content-title-container"},[i("div",{staticClass:"content-title-positioner"},[i("router-link",{staticClass:"content-title",attrs:{to:"/ico/things/styles"}},[t._v("styles")])],1)]),i("div",{staticClass:"content"})])]),i("div",{staticClass:"content-container"},[i("div",{staticClass:"content-positioner"},[i("div",{staticClass:"content-title-container"},[i("div",{staticClass:"content-title-positioner"},[i("router-link",{staticClass:"content-title",attrs:{to:"/ico/things/styles/inventories"}},[t._v("inventories")])],1)]),i("div",{staticClass:"content"})])]),i("div",{staticClass:"content-container"},[i("div",{staticClass:"content-positioner"},[i("div",{staticClass:"content-title-container"},[i("div",{staticClass:"content-title-positioner"},[i("router-link",{staticClass:"content-title",attrs:{to:"/ico/things/options"}},[t._v("options")])],1)]),i("div",{staticClass:"content"})])]),i("div",{staticClass:"content-container"},[i("div",{staticClass:"content-positioner"},[i("div",{staticClass:"content-title-container"},[i("div",{staticClass:"content-title-positioner"},[i("router-link",{staticClass:"content-title",attrs:{to:"/ico/things/options/etc"}},[t._v("etc")])],1)]),i("div",{staticClass:"content"})])]),i("div",{staticClass:"content-container"},[i("div",{staticClass:"content-positioner"},[i("div",{staticClass:"content-title-container"},[i("div",{staticClass:"content-title-positioner"},[i("router-link",{staticClass:"content-title",attrs:{to:"/ico/things"}},[t._v("things")])],1)]),i("div",{staticClass:"content"})])]),i("div",{staticClass:"content-container"},[i("div",{staticClass:"content-positioner"},[i("div",{staticClass:"content-title-container"},[i("div",{staticClass:"content-title-positioner"},[i("router-link",{staticClass:"content-title",attrs:{to:"/ico/things"}},[t._v("things")])],1)]),i("div",{staticClass:"content"})])]),i("div",{staticClass:"content-container"},[i("div",{staticClass:"content-positioner"},[i("div",{staticClass:"content-title-container"},[i("div",{staticClass:"content-title-positioner"},[i("router-link",{staticClass:"content-title",attrs:{to:"/ico/things"}},[t._v("things")])],1)]),i("div",{staticClass:"content"})])]),i("div",{staticClass:"content-container"},[i("div",{staticClass:"content-positioner"},[i("div",{staticClass:"content-title-container"},[i("div",{staticClass:"content-title-positioner"},[i("router-link",{staticClass:"content-title",attrs:{to:"/ico/status"}},[t._v("status")])],1)]),i("div",{staticClass:"content"})])]),i("div",{staticClass:"content-container"},[i("div",{staticClass:"content-positioner"},[i("div",{staticClass:"content-title-container"},[i("div",{staticClass:"content-title-positioner"},[i("router-link",{staticClass:"content-title",attrs:{to:"/ico/source"}},[t._v("source")])],1)]),i("div",{staticClass:"content"})])])])])])},Jt=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"banner-container"},[e("div",{staticClass:"banner-position-helper"},[e("div",{staticClass:"banner-sizer"})])])}];Yt._withStripped=!0;var Zt=!1;var Xt=function(t){Zt||i("jhro")},Kt=Object(p.a)({name:"ico-comp",data:function(){return{uuid:this._uid}},sockets:{connect:function(){}},created:function(){},methods:{},props:{},components:{},watch:{},route:{canActivate:function(){return!0}}},Yt,Jt,!1,Xt,"data-v-7a4d3cbb",null);Kt.options.__file="src/components/ico/ico.vue";Kt.exports;var te=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icoThings"},[e("div",{staticClass:"icoThings-container"},[e("div",{staticClass:"icoThings-positioner"},[e("img",{staticClass:"noselect",staticStyle:{transform:"rotate(180deg)","max-width":"100%"},attrs:{src:"src/assets/logo.png",title:"yes, this is the vue logo upside down"}}),this._m(0),e("div",{staticClass:"inventories-container maps-inventory-container"},[e("thing",{attrs:{thing:{title:"The local inventory",description:"Is there anything around you?",names:["a lopu inventory generator","a lopu map"],uuid:"woo",properties:[{title:"a saveable lopu?",boolean:!1},{title:"realms to match",list:["posts"]},{title:"broadly match realms",boolean:!0},{title:"use this things location",boolean:!0},{title:"broadly match location",boolean:!0},{title:"how broad?",Number:12,json:{unit:{title:"unit",text:"km"}}},{title:"limit",Number:50},{title:"options",list:["no options","addable","put-first","put new things first","dont load childrens children","inventory mode","show inventory","show-map-inventory","put addable last","show-active-options","location"]}]}}})],1),e("div",{staticClass:"inventories-container vertical"},[e("thing",{attrs:{thing:{names:["a lopu root"],properties:[{title:"options",names:["property"],list:["show inventory","feed","addable","dont load childrens children","put addable last","hide description"]}],things:[{title:"test thing",description:"test thing description",properties:[{title:"options",names:["property"],list:["show options","show properties","focused","addable","put-first","put new things first","dont load childrens children","put addable last","hide title"],type:Array,properties:[{title:"options",names:["property"],list:[]}]},{title:"some number",names:["property"],Number:5,type:Number,properties:[{title:"options",names:["property"],list:[]}]},{title:"some boolean",names:["property"],boolean:!0,type:Boolean,properties:[{title:"options",names:["property"],list:[]}]},{title:"some text",names:["property"],text:"fill me",type:String,properties:[{title:"options",names:["property"],list:[]}]},{title:"some thing",names:["property"],thing:{},type:Object,properties:[{title:"options",names:["property"],list:[]}]}]}]}}}),e("thing",{attrs:{thing:{title:"A thing",description:"this is a modern, technologically advanced, thing",properties:[{title:"options",names:["property"],list:["show options","focused","put new things first","dont load childrens children","put addable last","hide title","properties not addable"],type:Array,properties:[{title:"options",names:["property"],list:[]}]},{title:"some number",names:["property"],Number:5,type:Number,properties:[{title:"options",names:["property"],list:[]}]},{title:"some boolean",names:["property"],boolean:!0,type:Boolean,properties:[{title:"options",names:["property"],list:[]}]},{title:"some text",names:["property"],text:"fill me",type:String,properties:[{title:"options",names:["property"],list:[]}]},{title:"some thing",names:["property"],thing:{},type:Object,properties:[{title:"options",names:["property"],list:[]}]}],things:[{title:"a child thing"}]}}}),e("thing",{attrs:{thing:{title:"The Collective Inventory",description:"test thing description",properties:[{title:"options",names:["property"],list:["show options","focused","inventory mode","show inventory","put new things first","dont load childrens children","put addable last","properties not addable"],type:Array,properties:[{title:"options",names:["property"],list:["show value"]}]},{title:"some number",names:["property"],Number:5,type:Number,properties:[{title:"options",names:["property"],list:[]}]},{title:"some boolean",names:["property"],boolean:!0,type:Boolean,properties:[{title:"options",names:["property"],list:[]}]},{title:"some text",names:["property"],text:"fill me",type:String,properties:[{title:"options",names:["property"],list:[]}]},{title:"some thing",names:["property"],thing:{},type:Object,properties:[{title:"options",names:["property"],list:[]}]}]}}}),e("div",{staticClass:"inventories-container no-padding"},[e("thing",{attrs:{thing:this.entity.inventory,count:40,parentOptions:["inventory mode","show inventory","addable","put addable last","owner-root","owner-only","put-options-last"]}}),e("thing",{attrs:{thing:{owner:this.entity._id,title:"Add to your wishlist",description:"this is your wishlist, any things you put in here will be sent out to your peers",stateType:"unlinked"},parentOptions:["inventory mode","show inventory","addable","put addable last","owner-root","owner-only","put-options-last"]}})],1),e("thing",{attrs:{thing:{names:["a lopu inventory generator"],properties:[{title:"realms to match",list:["tests"]},{title:"limit",Number:5},{title:"broadly match realms",boolean:!0},{title:"options",list:["no options","addable","no context","put-first","feed","show-children-comments","put new things first","addable with template","dont load childrens children","wide-adder","put addable last","put-options-last"]}]}}})],1)])])])},ee=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"intro-text-container"},[e("div",{staticClass:"intro-text"},[this._v("Welcome")])])}];te._withStripped=!0;var ie=!1;var se=function(t){ie||i("NJ/G")},ne=Object(p.a)({name:"icoThings-comp",data:function(){return{entity:this.$store.state.entity,uuid:this._uid}},sockets:{connect:function(){}},created:function(){},methods:{},props:{siteTitle:{}},components:{},watch:{},route:{canActivate:function(){return!0}}},te,ee,!1,se,"data-v-417ea160",null);ne.options.__file="src/components/ico/icoThings.vue";ne.exports;var oe=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icoThings"},[e("div",{staticClass:"icoThings-container"},[e("div",{staticClass:"icoThings-positioner"},[e("img",{staticClass:"noselect",staticStyle:{transform:"rotate(180deg)","max-width":"100%"},attrs:{src:"src/assets/logo.png",title:"yes, this is the vue logo upside down"}}),this._m(0),e("div",{staticClass:"inventories-container vertical"},[e("thing",{attrs:{thing:{title:"Some thing",description:"Somethings description..",properties:[{title:"options",names:["property"],"Array of Strings":["inventory mode","slotted","show slots","shrink slot icons","generate slots","put new things first","dont load childrens children","put addable last","properties not addable","show properties"],type:"Array of Strings",properties:[{title:"options",names:["property"],"Array of Strings":[],type:"Array of Strings"},{title:"array type",type:"String"}]}],things:[]}}})],1)])])])},ae=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"intro-text-container"},[e("div",{staticClass:"intro-text"},[this._v("Welcome")])])}];oe._withStripped=!0;var re=!1;var he=function(t){re||i("PREp")},le=Object(p.a)({name:"icoThings-comp",data:function(){return{entity:this.$store.state.entity,uuid:this._uid}},sockets:{connect:function(){}},created:function(){},methods:{},props:{siteTitle:{}},components:{},watch:{},route:{canActivate:function(){return!0}}},oe,ae,!1,he,"data-v-37419f62",null);le.options.__file="src/components/ico/icoThingsStyles.vue";le.exports;var pe=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icoThings"},[e("div",{staticClass:"icoThings-container"},[e("div",{staticClass:"icoThings-positioner"},[e("img",{staticClass:"noselect",staticStyle:{transform:"rotate(180deg)","max-width":"100%"},attrs:{src:"src/assets/logo.png",title:"yes, this is the vue logo upside down"}}),this._m(0),e("div",{staticClass:"inventories-container vertical"},[e("thing",{attrs:{thing:{title:"Your Inventory",description:"Somethings description..",properties:[{title:"options",names:["property"],list:["inventory mode","show inventory","put new things first","dont load childrens children","put addable last","properties not addable","show properties"],type:Array,properties:[{title:"options",names:["property"],list:["show value"]},{title:"array type",type:String}]}],things:[]}}}),e("thing",{attrs:{thing:{title:"Your Inventory",description:"Somethings description..",properties:[{title:"options",names:["property"],list:["inventory mode","show inventory","slotted","put new things first","dont load childrens children","put addable last","properties not addable","show properties"],type:Array,properties:[{title:"options",names:["property"],list:["show value"]},{title:"array type",type:String}]}],things:[]}}}),e("thing",{attrs:{thing:{title:"Your Inventory",description:"Somethings description..",properties:[{title:"options",names:["property"],list:["inventory mode","show inventory","slotted","show slots","put new things first","dont load childrens children","put addable last","properties not addable","show properties"],type:Array,properties:[{title:"options",names:["property"],list:["show value"]},{title:"array type",type:String}]}],things:[]}}}),e("thing",{attrs:{thing:{title:"Your Inventory",description:"Somethings description..",properties:[{title:"options",names:["property"],list:["inventory mode","show inventory","slotted","show slots","shrink slot icons","put new things first","dont load childrens children","put addable last","properties not addable","show properties"],type:Array,properties:[{title:"options",names:["property"],list:["show value"]},{title:"array type",type:String}]}],things:[]}}}),e("thing",{attrs:{thing:{title:"Your Inventory",description:"Somethings description..",properties:[{title:"options",names:["property"],list:["inventory mode","show inventory","slotted","show slots","shrink slot icons","generate slots","put new things first","dont load childrens children","put addable last","properties not addable","show properties"],type:Array,properties:[{title:"options",names:["property"],list:["show value"]},{title:"array type",type:String}]}],things:[]}}})],1)])])])},ue=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"intro-text-container"},[e("div",{staticClass:"intro-text"},[this._v("Welcome")])])}];pe._withStripped=!0;var ce=!1;var de=function(t){ce||i("+7oY")},ge=Object(p.a)({name:"icoThings-comp",data:function(){return{entity:this.$store.state.entity,uuid:this._uid}},sockets:{connect:function(){}},created:function(){},methods:{},props:{siteTitle:{}},components:{},watch:{},route:{canActivate:function(){return!0}}},pe,ue,!1,de,"data-v-69089e04",null);ge.options.__file="src/components/ico/inventoryStyles.vue";ge.exports;var me=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icoThings"},[e("div",{staticClass:"icoThings-container"},[e("div",{staticClass:"icoThings-positioner"},[e("img",{staticClass:"noselect",staticStyle:{transform:"rotate(180deg)","max-width":"100%"},attrs:{src:"src/assets/logo.png",title:"yes, this is the vue logo upside down"}}),this._m(0),e("div",{staticClass:"inventories-container vertical"},[e("thing",{attrs:{thing:{title:"Something",description:"Somethings description..",properties:[{title:"options",names:["property"],"Array of Strings":["show title","hide description"],type:"Array of Strings",properties:[{title:"options",names:["property"],"Array of Strings":["show value"],type:"Array of Strings"},{title:"array type",type:String}]}],things:[]}}}),e("thing",{attrs:{thing:{title:"Something",description:"Somethings description..",properties:[{title:"options",names:["property"],"Array of Strings":[],type:"Array of Strings",properties:[{title:"options",names:["property"],"Array of Strings":["show value"],type:"Array of Strings"},{title:"array type",type:String}]}],things:[]}}}),e("thing",{attrs:{thing:{title:"Something",description:"Somethings description..",properties:[{title:"options",names:["property"],"Array of Strings":["show title"],type:"Array of Strings",properties:[{title:"options",names:["property"],"Array of Strings":["show value"],type:"Array of Strings"},{title:"array type",type:String}]}],things:[]}}}),e("thing",{attrs:{thing:{title:"Something",description:"Somethings description..",properties:[{title:"options",names:["property"],"Array of Strings":["show title","hide description","show options"],type:"Array of Strings",properties:[{title:"options",names:["property"],"Array of Strings":["show value"],type:"Array of Strings"},{title:"array type",type:String}]}],things:[]}}}),e("thing",{attrs:{thing:{title:"Something",description:"Somethings description..",properties:[{title:"options",names:["property"],"Array of Strings":["hide title","show options"],type:"Array of Strings",properties:[{title:"options",names:["property"],"Array of Strings":["show value"],type:"Array of Strings"},{title:"array type",type:String}]}],things:[]}}}),e("thing",{attrs:{thing:{title:"Something",description:"Somethings description..",properties:[{title:"options",names:["property"],"Array of Strings":["show title","show options"],type:"Array of Strings",properties:[{title:"options",names:["property"],"Array of Strings":["show value"],type:"Array of Strings"},{title:"array type",type:String}]}],things:[]}}}),e("thing",{attrs:{thing:{title:"Something",description:"Somethings description..",properties:[{title:"options",names:["property"],"Array of Strings":["show title","hide description","show inventory","show options"],type:"Array of Strings",properties:[{title:"options",names:["property"],"Array of Strings":["show value"],type:"Array of Strings"},{title:"array type",type:String}]}],things:[]}}}),e("thing",{attrs:{thing:{title:"Something",description:"Somethings description..",properties:[{title:"options",names:["property"],"Array of Strings":["hide title","show inventory","show options"],type:"Array of Strings",properties:[{title:"options",names:["property"],"Array of Strings":["show value"],type:"Array of Strings"},{title:"array type",type:String}]}],things:[]}}}),e("thing",{attrs:{thing:{title:"Something",description:"Somethings description..",properties:[{title:"options",names:["property"],"Array of Strings":["icon"],type:"Array of Strings",properties:[{title:"options",names:["property"],"Array of Strings":["show value"],type:"Array of Strings"},{title:"array type",type:String}]}],things:[]}}}),e("thing",{attrs:{thing:{title:"Something",description:"Somethings description..",properties:[{title:"options",names:["property"],"Array of Strings":["icon","editing"],type:"Array of Strings",properties:[{title:"options",names:["property"],"Array of Strings":["show value"],type:"Array of Strings"},{title:"array type",type:String}]}],things:[]}}}),e("thing",{attrs:{thing:{title:"Something",description:"Somethings description..",properties:[{title:"options",names:["property"],"Array of Strings":["inventory mode","show inventory","slotted","show slots","shrink slot icons","generate slots","put new things first","dont load childrens children","put addable last","properties not addable","show properties"],type:"Array of Strings",properties:[{title:"options",names:["property"],"Array of Strings":["show value"],type:"Array of Strings"},{title:"array type",type:String}]}],things:[]}}})],1)])])])},ve=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"intro-text-container"},[e("div",{staticClass:"intro-text"},[this._v("Welcome")])])}];me._withStripped=!0;var fe=!1;var ye=function(t){fe||i("bG1P")},be=Object(p.a)({name:"icoThings-comp",data:function(){return{entity:this.$store.state.entity,uuid:this._uid}},sockets:{connect:function(){}},created:function(){},methods:{},props:{siteTitle:{}},components:{},watch:{},route:{canActivate:function(){return!0}}},me,ve,!1,ye,"data-v-7b61c24e",null);be.options.__file="src/components/ico/icoThingsOptions.vue";be.exports;var Me=i("NYxO"),we={mixins:[I()({vue:{reactiveSetter:!0,vm:this}})],name:"icoThings-comp",data:function(){return{entity:this.$store.state.entity,uuid:this._uid,wait:2e3}},sockets:{connect:function(){}},created:function(){var t=this;this.wait=setInterval(function(){t.$store.commit("sandboxThingSet",t.sandboxThing)},1e3)},methods:{commit:function(){},setRandomText:function(){console.log(Math.random(1e3).toString()),this.$set(this.sandboxThing,"description",Math.random(1e3).toString())},setRandomNum:function(){this.$set(this.sandboxThing,"description",Math.random(1e3).toString())},makeProperty:function(){this.pushOpt("property",this.sandboxThing.names)},resetThing:function(){this.sandboxThing=this.jsmart.parse(this.jsmart.stringify(this.$store.state.ico.sandboxThingSchema))}},props:{siteTitle:{}},components:{},watch:{},computed:{sandboxThing:{get:function(){return this.$store.state.ico.sandboxThing},set:function(){clearInterval(this.wait);var t=this;this.wait=setInterval(function(){t.$store.commit("sandboxThingSet",t.sandboxThing)},2e3),this.$store.commit("resetSandboxThing",!0)}}},route:{canActivate:function(){return!0}}},Ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"icoThings"},[i("div",{staticClass:"icoThings-container"},[i("div",{staticClass:"icoThings-positioner"},[i("img",{staticClass:"noselect",staticStyle:{transform:"rotate(180deg)","max-width":"100%"},attrs:{src:"src/assets/logo.png",title:"yes, this is the vue logo upside down"}}),t._m(0),i("div",{staticClass:"inventories-container vertical"},[i("thing",{attrs:{thing:t.sandboxThing}})],1),i("div",{staticClass:"buttons-container"},[i("div",{staticClass:"button-container",on:{click:t.makeProperty}},[i("div",{staticClass:"button"},[t._v("make property")])]),i("div",{staticClass:"button-container",on:{click:t.commit}},[i("div",{staticClass:"button"},[t._v("commit")])]),i("div",{staticClass:"button-container",on:{click:t.resetThing}},[i("div",{staticClass:"button"},[t._v("reset")])])])])])])},Ie=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"intro-text-container"},[e("div",{staticClass:"intro-text"},[this._v("Welcome")])])}];Ce._withStripped=!0;var _e=!1;var Te=function(t){_e||i("Uzyo")},Oe=Object(p.a)(we,Ce,Ie,!1,Te,"data-v-6212597c",null);Oe.options.__file="src/components/ico/icoSandboxThing.vue";Oe.exports;var Se={mixins:[I()({vue:!0,objList:"this.thingMutable.things",stringList:"this.thingMutable.properties.mapped.options.list"})],name:"icoThings-comp",data:function(){return{entity:this.$store.state.entity,uuid:this._uid}},sockets:{connect:function(){}},created:function(){},methods:{},props:{siteTitle:{}},components:{},watch:{},route:{canActivate:function(){return!0}}},xe=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icoThings"},[e("div",{staticClass:"icoThings-container"},[e("div",{staticClass:"icoThings-positioner"},[e("img",{staticClass:"noselect",staticStyle:{transform:"rotate(180deg)","max-width":"100%"},attrs:{src:"src/assets/logo.png",title:"yes, this is the vue logo upside down"}}),this._m(0),e("div",{staticClass:"inventories-container vertical"},[e("thing",{attrs:{thing:{}}})],1)])])])},ke=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"intro-text-container"},[e("div",{staticClass:"intro-text"},[this._v("Welcome")])])}];xe._withStripped=!0;var $e=!1;var je=function(t){$e||i("zQNB")},Ae=Object(p.a)(Se,xe,ke,!1,je,"data-v-a769e498",null);Ae.options.__file="src/components/ico/icoManifestThing.vue";Ae.exports;var Ne=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icoThings"},[e("div",{staticClass:"icoThings-container"},[e("div",{staticClass:"icoThings-positioner"},[e("img",{staticClass:"noselect",staticStyle:{transform:"rotate(180deg)","max-width":"100%"},attrs:{src:"src/assets/logo.png",title:"yes, this is the vue logo upside down"}}),this._m(0),e("div",{staticClass:"inventories-container vertical"},[e("thing",{attrs:{thing:"5a4e3eb47c0fdc593d0992ea"}})],1)])])])},Le=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"intro-text-container"},[e("div",{staticClass:"intro-text"},[this._v("Welcome")])])}];Ne._withStripped=!0;var qe=!1;var Pe=function(t){qe||i("la8p")},De=Object(p.a)({name:"icoThings-comp",data:function(){return{entity:this.$store.state.entity,uuid:this._uid}},sockets:{connect:function(){}},created:function(){},methods:{},props:{siteTitle:{}},components:{},watch:{},route:{canActivate:function(){return!0}}},Ne,Le,!1,Pe,"data-v-e758de88",null);De.options.__file="src/components/ico/status.vue";De.exports;var Fe={mixins:[I()({vue:{reactiveSetter:!0,vm:"this"},objList:"this.thingMutable.things",stringList:"this.thingMutable.properties.mapped.options.Array of Strings"})],data:function(){return{thingMutable:this.thing,entity:this.$store.state.entity,feedback:null,realms:this.$store.state.realms,thingTypes:this.$store.state.thingTypes,types:this.$store.state.types,thingNames:this.$store.state.thingNames,priceUnits:this.$store.state.priceUnits,currencies:this.$store.state.currencies,urls:["http://agora.dev/forum","http://lopu.com.au","http://agora.lopu.com.au"],err:null,alterEgos:[this.$store.state.entity.username?this.$store.state.entity.username:"anonymous","anonymous"],neighboursMutable:this.neighbours,messages:[],funCounter:0,limitMutable:5,loadLimitMutable:5,propertiesLimitMutable:50,propertiesLoadLimitMutable:5,valueLimitMutable:5,valueLoadLimitMutable:5,savesToMutable:this.savesTo,optionsMutable:[],childOptions:[],parentOptionsMutable:this.parentOptions,defaultThingMutable:this.defaultThing,thingMap:void 0,thingMapGeocoder:void 0,thingMapFeatures:{type:"FeatureCollection",features:[]},invGrid:{width:80,invWidth:void 0,padding:"2px 3px"}}},sockets:{connect:function(){},giveThing:function(t){var e=this;if("hmm"==this.thingMutable.uuid&&console.log("got thing %s",Date.now()),this.sameObj(t.thing,this.thingMutable,t))this.thingMutable=t.thing,(t.giveEvent="save")&&this.$emit("saved"),this.mapProperties().then(function(t){e.reinit(),e.popOpt("editing"),e.pushOpt("fetched")}).catch(function(t){console.error(t)}),this.setFeedback(t.feedback);else if(this.isParent(t))if(this.optIn("a lopu inventory generator",this.getsmart(this.thingMutable,"names",[])))"hmm"==this.thingMutable.uuid&&console.log("where we should be"),t.thing.tag="loading",this.setThing({option:t.thing,list:this.gosmart(this,"thingMutable.things",[]),obj:!0,key:["_id","uuid","tag"],keymatchtype:"broad",push:!0,strings:!0}).then(function(e){delete t.thing.tag}).catch(function(t){t&&console.error(t)}),this.optIn("a lopu map",this.getsmart(this.thingMutable,"names",[]))&&this.pushThingFeature(t.thing,"render");else{for(var i=0;i<t.thing.relatives.length;i++)this.optIn(t.thing._id,this.thingMutable[t.thing.relatives[i].path])||this.optIn(t.thing,this.thingMutable[t.thing.relatives[i].path],!0)||this.optIn(t.thing,this.thingMutable[t.thing.relatives[i].path],!0,"uuid")?this.setThing({option:t.thing,list:this.thingMutable[t.thing.relatives[i].path],obj:!0,key:["_id","uuid"],keymatchtype:"broad",strings:!0}):this.optIn(t.thing,this.thingMutable.things,!0),this.thingMutable._id&&this.thingMutable._id.toString()==t.thing.relatives[i].relative&&this.pushOpt(t.thing,this.thingMutable[t.thing.relatives[i].path],!0);this.entity&&this.entity.inventory&&(this.entity.inventory._id==this.thingMutable._id&&void 0!==this.thingMutable._id||this.entity.inventory.uuid==this.thingMutable.uuid&&void 0!==this.thingMutable.uuid)&&this.$store.commit("entityInventorySet",this.thingMutable)}else t.thing.title&&t.thing.title.indexOf("-comments")},giveThings:function(t){this.isParent(t)&&t.returnPath&&(this.setThings({options:t.things,list:this.thingMutable[t.returnPath],obj:!0,strings:!0}),this.mapList(this.thingMutable[t.returnPath]))},confirmThingDeletion:function(t){console.log("wtf"),console.log(this.sameObj(this.getsmart(t,"thing",void 0),this.getsmart(this,"thingMutable",void 0),t)),console.log(t),this.sameObj(this.getsmart(t,"thing",void 0),this.getsmart(this,"thingMutable",void 0),t)&&(this.getsmart(t,"feedback.success",!1)?(this.$emit("remove"),this.setsmart(this,"thingMutable",void 0)):(this.setFeedback(null),this.pushOpt({text:this.getsmart(t,"feedback.message","There was an error deleting this thing from the database"),from:"lopu"},this.messages)))}},created:function(){},mounted:function(){this.isMounted=!0;var t=this;window.onresize=function(){t.addSlotsToInv()},this.create()},methods:{create:function(){this.thingMutable&&"object"===A()(this.thingMutable)?this.reinit():"string"!=typeof this.thingMutable||this.optIn("no-fetch")||(this.getThing({thing:this.thingMutable,parentId:this.parentId,clientId:this._uid,populations:[{path:"properties"}]}),this.thingMutable={_id:this.thingMutable,names:["loading"]});var t=this;setTimeout(function(){t.optIn("loading",t.getsmart(t,"thingMutable.names",[]))},12345),this.setChildOptions()},reinit:function(){var t=this;"hmm"==this.thingMutable.uuid&&console.log("reinitting"),this.parentOptionsMutable=JSON.parse(tt()(this.parentOptions)),this.mapProperties().then(function(e){t.applySchema().then(function(e){t.mapProperties().then(function(e){t.checkPropertiesForOptions(),t.updateOpts(),t.updateThingLocation({loc:"user",overwrite:!1}).then(function(e){if(t.optIn("a lopu inventory generator",t.getsmart(t,"thingMutable.names",[]))&&!t.optIn("gotten")&&!t.getsmart(t,"thingMutable.properties.mapped.dont gen this lopu",!1)){var i=t.generateFind();if(i){for(var s=t.generateFind({piece:"count"}),n=t.generateFind({piece:"options"}),o=(t.getsmart(t,"thingMutable.things.length",0),t.gosmart(t,"thingMutable.things",[])),a=0;a<s;a++){t.pushThing({option:{names:["loading"],uuid:!1,tag:"loading"},list:o})}t.limitMutable=t.limitMutable+s,t.getThings({parentId:t.getsmart(t,"thingMutable._id",t._uid),entity:{_id:t.entity._id},returnPath:"things",find:i,count:s,findOptions:n,stream:!0}),t.pushOpt("gotten"),t.popOpt("regen lopu")}}}).catch(function(t){t&&console.error(t)}),t.optIn("show-comments")&&t.loadComments(),t.optIn("inventory",t.thingMutable.names)&&t.pushOpts(["show inventory","inventory mode"]),t.setChildOptions(),t.resetDefaultThing(),t.addSlotsToInv()}).catch(function(t){t&&console.error(t)})}).catch(function(t){t&&console.error(t)})}).catch(function(t){console.error(t)})},getThing:function(t){this.$socket.emit("getThing",t)},getThings:function(t){console.log("emitting request %s",Date.now()),this.$socket.emit("getThings",t)},addPrice:function(){this.thingMutable.contract?this.thingMutable.contract.push({thing:null,amount:null,multiplier:null,unit:null}):this.$set(this.thingMutable,"contract",[{thing:null,amount:null,multiplier:null,unit:null}])},removePrice:function(t){this.thingMutable.contract.splice(t,1)},updateDescription:function(t){this.setsmart(this,"thingMutable.description",t.api.origElements.innerHTML)},updateTitle:function(t){this.setsmart(this,"thingMutable.title",t.api.origElements.innerHTML)},updateValue:function(t){this.value=t.api.origElements.innerHTML},updateAt:function(t,e,i){console.log(t),console.log(e),console.log(i)},showOptions:function(){this.optIn("icon")||this.optIn("hiding")||this.pushOpt("show options")},showOptionsPerm:function(){this.pushOpts(["show options","focused"]),this.popOpts(["hiding"])},toggleOptions:function(){this.optIn("focused")?this.popOpts(["show options","focused"]):this.optIn("icon")||this.pushOpts(["show options","focused"])},hideOptions:function(){this.popOpts(["show options","focused"]),this.pushOpt("hiding"),setTimeout(this.popOpt("hiding"),4e3)},hideOptionsMaybe:function(){!this.optIn("focused")&&this.optIn("show options")&&this.popOpt("show options")},setFeedback:function(t){this.feedback=t||null},generateFind:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.piece,i=void 0===e?"for":e,s=t.obj,n=void 0===s?this.thingMutable:s;if("object"==(void 0===n?"undefined":A()(n))){if(!i||"for"==i){var o={};if(this.getsmart(n,"properties.mapped.a special lopu regex to match."+this.getsmart(n,"properties.mapped.a special lopu regex to match.type","String"),!1)){var a=this.getsmart(n,"properties.mapped.a special lopu regex to match."+this.getsmart(n,"properties.mapped.a special lopu regex to match.type","String"),void 0),r=a.split(" ");o.realms={$in:r},o.names={$in:r},o.text={regex:!0,value:a,options:"i"},o.description={regex:!0,value:a,options:"i"},o.title={regex:!0,value:a,options:"i"},o.orAllTheThings=!0}else o.realms=this.getsmart(n,"properties.mapped.ignore realms.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.realms to match.Array of Strings.length",0)>0?this.getsmart(n,"properties.mapped.broadly match realms.Boolean",!1)?{$in:this.getsmart(n,"properties.mapped.realms to match.Array of Strings",void 0)}:{$all:this.getsmart(n,"properties.mapped.realms to match.Array of Strings",void 0)}:void 0,o.names=this.getsmart(n,"properties.mapped.ignore names.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.names to match.Array of Strings.length",0)>0?this.getsmart(n,"properties.mapped.broadly match names.Boolean",!1)?{$in:this.getsmart(n,"properties.mapped.names to match.Array of Strings",void 0)}:{$all:this.getsmart(n,"properties.mapped.names to match.Array of Strings",void 0)}:void 0,o.owners=this.getsmart(n,"properties.mapped.ignore owners.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.owners to match.Array of Strings.length",0)>0?this.getsmart(n,"properties.mapped.broadly match owners.Boolean",!1)?{$in:this.getsmart(n,"properties.mapped.owners to match.Array of Strings",void 0)}:{$all:this.getsmart(n,"properties.mapped.owners to match.Array of Strings",void 0)}:void 0,o.text=this.getsmart(n,"properties.mapped.ignore text.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.text to match.String",!1)?this.getsmart(n,"properties.mapped.broadly match text.Boolean",!1)?{regex:!0,value:this.getsmart(n,"properties.mapped.text to match.String",void 0),options:"i"}:this.getsmart(n,"properties.mapped.text to match.String",void 0):void 0,o.description=this.getsmart(n,"properties.mapped.ignore description.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.description to match.String",!1)?this.getsmart(n,"properties.mapped.broadly match description.Boolean",!1)?{regex:!0,value:this.getsmart(n,"properties.mapped.description to match.String",void 0),options:"i"}:this.getsmart(n,"properties.mapped.description to match.String",void 0):void 0,o.title=this.getsmart(n,"properties.mapped.ignore title.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.title to match.String",!1)?this.getsmart(n,"properties.mapped.broadly match title.Boolean",!1)?{regex:!0,value:this.getsmart(n,"properties.mapped.title to match.String",void 0),options:"i"}:this.getsmart(n,"properties.mapped.title to match.String",void 0):void 0,o["geojson.geometry"]=this.getsmart(n,"properties.mapped.ignore location.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.geojson to match.geojson",!1)?{$near:{$maxDistance:this.getsmart(n,"properties.mapped.broadly match location.Boolean",!1)?1e4*this.getsmart(n,"properties.mapped.geojson search radius.Number",12):1e4,$geometry:this.getsmart(n,"geojson.geometry",void 0)}}:this.getsmart(n,"properties.mapped.use this things location.Boolean",!1)?{$near:{$maxDistance:this.getsmart(n,"properties.mapped.broadly match location.Boolean",!1)?1e3*this.getsmart(n,"properties.mapped.geojson search radius.Number",12):1e4,$geometry:this.getsmart(n,"geojson.geometry",void 0)}}:void 0;return o}if("count"==i)return this.getsmart(n,"properties.mapped.limit.Number",!1)||this.getsmart(n,"properties.mapped.count.Number",5);if("options"==i){var h={};return h.sort=this.getsmart(n,"properties.mapped.sort."+this.getsmart(n,"properties.mapped.sort.type","json"),void 0),h}}return!1},getProperty:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"title",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.gosmart(this,"thingMutable.properties",[]),s=0;s>i.length;s++)if(i[s][e]==t)return i[s]},updateRealmsList:function(t,e){this.$set(this.realms,"searched",null),this.realms.push({key:"searched",realm:t})},genDefaultThing:function(){return"slot"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)?{realms:["inventory slots"],title:"debug",names:["inventory slot"],properties:[{title:"options","Array of Strings":["inventory slot","icon"],type:"Array of Strings"}],owners:[this.entity._id],parents:[this.thingMutable.uuid],uuid:this.$uuid.v4()}:this.optIn("a lopu inventory generator",this.thingMutable.names)?{realms:["new"].concat(this.getsmart(this.thingMutable,"properties.mapped.realms to match.Array of Strings",[])),names:this.getsmart(this.thingMutable,"properties.mapped.names to match.Array of Strings",[]),description:void 0,properties:[{title:"options","Array of Strings":["editing","edited","is-default-thing",this.optIn("shallow adders")?"less padding":null],type:"Array of Strings"}],owners:[this.entity._id],parents:[this.thingMutable],uuid:this.$uuid.v4()}:{realms:["new"],description:void 0,properties:[{title:"options","Array of Strings":["editing","edited","is-default-thing",this.optIn("shallow adders")?"less padding":null],type:"Array of Strings"}],owners:[this.entity._id],parents:[this.thingMutable],uuid:this.$uuid.v4()}},resetDefaultThing:function(){this.defaultThingMutable=this.genDefaultThing()},setChildOptions:function(){this.childOptions=[this.optIn("feed")?"wide":"icon",this.optIn("addable")?"addable":null,this.optIn("slotted")?"in slot":null,this.optIn("shrink slot icons")?"shrink slot icon":null,this.optIn("feed")?null:"inventory item",this.optIn("icon")?"no-fetch":null,this.optIn("show inventory")?"fetch":null,this.optIn("dont load childrens children")?"dont load children":null,this.optIn("dont load children children children")?"dont load childrens children":null,this.optIn("show-children-comments")?"show-comments":null,this.optIn("shallow adders")?"shallow adders":null],this.childOptions=this.childOptions.filter(function(t){return t||0==t})},removeMessage:function(t){this.messages.splice(t,1)},sameObj:function(t,e,i){return!(!t||!e)&&(e&&(i&&this._uid&&this._uid==i.clientId&&(e._id&&e._id==t._id||e.uuid&&e.uuid==t.uuid)||e._id&&e._id==t._id||e.uuid&&e.uuid==t.uuid))},isParent:function(t){return void 0!==t.parentId&&(this.getsmart(this,"thingMutable.uuid",void 0)==t.parentId||this._uid==t.parentId||this.getsmart(this,"thingMutable._id",void 0)==t.parentId)||t.thing&&this.getsmart(t,"thing.relatives",[])&&this.getsmart(this,"thingMutable._id",!1)&&this.optIn({path:"parents",relative:this.getsmart(this,"thingMutable._id",{toString:function(){}}).toString()},this.getsmart(t,"thing.relatives",[]),!0,["relative","path"])},thingCleaned:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return{_id:t._id,uuid:t.uuid,title:t.title,description:t.description}},valueToAThing:function(t){if(this.getsmart(t,"constructor",void 0)!==Object){var e={type:this.childType,names:["a lopu value"]};return e[this.childType]=t,e}return this.getsmart(t,"constructor",void 0),Object,t},firstOrLast:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"thing";return!(0!=t&&!t||!e||!i)&&((0!=t||1!=e&&1!=i.length)&&(0==t?"first-"+s:t<=e&&t==i.length-1||t==e-1?"last-"+s:"mid-"+s))},osxTrunc:function(t){if("string"==typeof t){var e=t.replace(/&nbsp;/g," ");if(e.replace(/^\s+|\s+$/g,"").length>26){var i=e.replace(/&nbsp;/g," ").replace(/\s+$/g,"").substr(-8).replace(/^\s+/g,"");return e.replace(/&nbsp;/g," ").substr(0,19).replace(/\s+$/g,"")+"..."+i}return t}},trunc:function(t){if("string"==typeof t){var e=t.replace(/&nbsp;/g," ");return e.replace(/^\s+|\s+$/g,"").length>26?e.replace(/&nbsp;/g," ").substr(0,26).replace(/\s+$/g,"")+"..":t}},updateOpts:function(){var t=this;return new P.a(function(e,i){t.getsmart(t,"thingMutable.properties.mapped.options",!1)?(t.pushOpts(t.parentOptionsMutable.filter(function(e){return t.getsmart(t,"thingMutable.properties.mapped.options.Array of Strings",[]).indexOf("ignore client option "+e)<0&&(e||0==e)})),t.parentOptionsMutable=[],e(!0)):t.mapList(t.gosmart(t,"thingMutable.properties",[]),"title","options").then(function(i){if(i)e(t.updateOpts());else{var s=t.gosmart(t,"thingMutable.properties",[]);t.pushThing({option:{title:"options","Array of Strings":[],type:"Array of Strings"},list:s,obj:!0,key:"title"}),e(t.updateOpts())}}).catch(function(t){console.error(t),i(t)})})},checkPropertiesForOptions:function(){if(this.gosmart(this,"thingMutable.properties",[]).constructor==Array){var t=!0,e=!1,i=void 0;try{for(var s,n=L()(this.thingMutable.properties);!(t=(s=n.next()).done);t=!0){var o=s.value;"things render limit"==o.title&&(this.limitMutable=o[o.type||"Number"]||5),this.pushOpt(o.title)}}catch(t){e=!0,i=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw i}}}},addSlotsToInv:function(t){var e=this,i=Math.floor(this.getsmart(this,"$refs.inventory-list-container.offsetWidth",558))-2,s=93;if(this.invGrid.invWidth==i&&i<93);else if(this.optIn("slotted")){if(i%s>s/3)for(;i%s>7;)s--;else for(;i%s>7;)s++;if(this.invGrid.width=s,this.invGrid.invWidth=Math.floor(i/s)*s,this.optIn("generate slots")){var n=this.gosmart(this,"thingMutable.things",[]),o=4*Math.floor(i/s);if(o=o<this.limitMutable?this.limitMutable:o,n.length<o){for(var a=o-n.length,r=function(){var t=e.genDefaultThing("slot");e.mapList(e.setsmart(t,"properties",e.getsmart(t,"properties",[]))).then(function(e){n.push(t)}).catch(function(t){console.error(t)})},h=0;h<a;h++)r();this.limitMutable=o}else n.length>=o&&(this.limitMutable=o)}}},noValids:function(t){if(t&&t.length){for(var e=0;e<t.length;e++)if(!t[e])return!0;return!1}return!0},applySchema:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getsmart(this,"schema",void 0),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getsmart(this,"thingMutable",void 0);return new P.a(function(s,n){e&&i?"string"==typeof e?s(!1):"string"!=typeof i?e.properties?t.mapList(e.properties,"title",void 0,!0).then(function(n){n?(e.properties.forEach(function(e,s){if("string"==typeof t.getsmart(e,"title","")&&t.getsmart(e,"title","").indexOf(" schema")>=0){var n=t.getsmart(e,e.type,!1);if(n){if(n.constructor==Array)if(!0===t.getsmartvalue(e,"properties","merge",!1))for(var o=0;o<n.length;o++)t.pushThing({option:n[o],list:t.gosmartvalue(i,e.title.replace(" schema",""),[])});t.setsmart(i,e.title.replace(" schema",""),t.jsmart.parse(t.jsmart.stringify(n)))}}}),s(!0)):s(!1)}).catch(function(t){t&&console.error(t)}):s(!0):s(!1):s(!(e||!i))})},pushChildThing:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMutable.things",[]);this.pushOpt(t,e,!0,"_id"),this.mapThings(),this.mapThings("title",t.properties)},saveThing:function(){this.pushOpt(this.entity._id,this.gosmart(this,"thingMutable.owners",[])),this.savesToMutable&&(this.getsmart(this,"savesToMutable.properties.#"),this.pushOpts(this.savesToMutable,this.gosmart(this,"thingMutable.parents",[]))),this.thingMutable.clientId=this._uid;var t={thing:this.thingMutable,clientId:this._uid,entity:this.entity};this.$socket.emit("saveThing",t)},forkThing:function(){},referenceThing:function(){},deleteThing:function(t,e){if(1==t)if("object"!=A()(this.thingMutable)||this.thingMutable._id){var i={thing:this.thingMutable,clientId:this._uid,entity:this.entity};this.$socket.emit("deleteThing",i),this.setFeedback(null)}else this.$emit("remove"),this.setsmart(this,"thingMutable",void 0),this.setFeedback(null);else this.setFeedback({message:"Are you sure you want to delete this?",type:"delete"})},deleteChildThing:function(t,e){(t||0==t)&&e&&this.getsmart(this,"thingMutable."+e,!1)&&this.gosmart(this,"thingMutable."+e,[]).splice(t,1)},savedChildThing:function(t){this.optsIn(["a lopu inventory generator","a lopu map"],this.getsmart(this.thingMutable,"names",[]))&&this.renderThingsOnMap()},addNewChildThing:function(){var t=this.genDefaultThing(),e=this.gosmart(this,"thingMutable.things",[]);this.limitMutable=this.limitMutable+1,e.push(t),this.updateThingLocation({thing:t,loc:"map"})},addNewProperty:function(){var t={names:["property"],owners:[this.entity._id],parents:[this.thingMutable._id],uuid:this.$uuid.v4()};this.propertiesLimitMutable=this.propertiesLimitMutable+1,this.gosmart(this,"thingMutable.properties",[]).push(t)},addNewValue:function(){if(this.getsmart(this,"thingMutable.type",void 0)){if("String"==this.childType)var t="new string";else t={names:["a lopu value"],owners:[this.entity._id],parents:[this.thingMutable._id],uuid:this.$uuid.v4(),type:this.childType};this.valueLimitMutable=this.valueLimitMutable+1,this.gosmart(this,"thingMutable."+this.getsmart(this,"thingMutable.type",void 0),[]).push(t)}},updateType:function(t){this.type=t},mapInventory:function(t,e,i){if("object"==(void 0===t?"undefined":A()(t))&&t.things){var s=!0,n=!1,o=void 0;try{for(var a,r=L()(t.things);!(s=(a=r.next()).done);s=!0){var h=a.value;t.thing&&(e[h.thing]=h,this.mapInventory(h,e[h.thing],i++))}}catch(t){n=!0,o=t}finally{try{!s&&r.return&&r.return()}finally{if(n)throw o}}}},mapList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"title",i=this,s=arguments[2],n=arguments[3];return new P.a(function(o,a){if(e){if(t){t.mapped&&"boolean"!=typeof t.mapped||i.$set(t,"mapped",{}),0==t.length&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o());for(var r=0;r<t.length;r++)if("string"!=typeof t[r])i.$set(t.mapped,t[r][e],t[r]),r==t.length-1&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o());else if(n){var h=i.funCounter;i.funCounter=i.funCounter+1,i.getThing({thing:t[r],clientId:i._uid,funCounter:h}),i.$options.sockets.giveThing=function(n){i._uid==n.clientId&&n.funCounter==h&&(i.$set(t,r.toString(),n.thing),i.$set(t.mapped,t[r][e],t[r])),r==t.length-1&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o())}}else r==t.length-1&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o())}}else a()})},mapThings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"title",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMutable.things",[]);return this.mapList(e,t)},mapProperties:function(){return this.mapList(this.gosmart(this,"thingMutable.properties",[]),"title")},loadComments:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all");this.optIn("comments-loaded")||"all"==e&&this.populateThings({rules:{title:{regex:!0,value:"-comments"}},returnPath:"things"}).then(function(){t.compileComments()})},compileComments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this,"thingMutable.things",[]);t.mapped["all-comments"]||(t.push({title:"all-comments",things:[],parents:[this.thingMutable._id],owners:[],properties:[{title:"things render limit",Number:0,names:["a lopu client option"]},{title:"uniques","Array of Strings":["title"],type:"Array of Strings"}],uuid:this.$uuid.v4()}),this.mapList(t)),t.mapped["this lopus comments"]||(t.push({title:"this lopus comments",things:[],parents:[this.thingMutable._id],owners:[],properties:[{title:"things render limit",Number:5,names:["a lopu client option"]},{title:"uniques","Array of Strings":["title"],type:"Array of Strings"}],uuid:this.$uuid.v4()}),this.mapList(t));var e=!0,i=!1,s=void 0;try{for(var n,o=L()(t);!(e=(n=o.next()).done);e=!0){var a=n.value;a.title&&a.title.indexOf("comments")>=0&&"all-comments"!==a.title&&this.pushOpts(a.things,t.mapped["all-comments"].things)}}catch(t){i=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw s}}this.pushOpt("comments-loaded")},populateThings:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.things,s=void 0===i?this.gosmart(this,"thingMutable.things",[]):i,n=e.returnPath,o=void 0===n?"things":n,a=e.funCounter,r=void 0===a?this.funCounter:a,h=e.rules,l=void 0===h?void 0:h;return this.funCounter++,new P.a(function(e,i){t.$socket.emit("populateThings",{things:s,parentId:t.thingMutable._id||t.thingMutable.uuid||t._uid,returnPath:o,rules:l,funCounter:r,sort:"inception"}),t.$options.sockets.giveThings=function(i){t.isParent(i)&&i.funCounter==r&&t.setThings({options:i.things,list:t.gosmart(t,"thingMutable."+i.returnPath,[]),obj:!0,strings:!0}).then(function(){t.mapList(t.gosmart(t,"thingMutable."+i.returnPath,[])).then(function(){e()})})}})},populate:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.things,s=void 0===i?this.gosmart(this,"thingMutable.things",[]):i,n=e.returnPath,o=void 0===n?"things":n,a=e.funCounter,r=void 0===a?this.funCounter:a,h=e.rules,l=void 0===h?void 0:h;return this.funCounter++,new P.a(function(e,i){t.$socket.emit("populateThings",{things:s,parentId:t.thingMutable._id||t.thingMutable.uuid||t._uid,returnPath:o,rules:l,funCounter:r,sort:"inception"});t.$options.sockets.giveThings=function(s){t.isParent(s)&&s.funCounter==r?t.setThings({options:s.things,list:t.gosmart(t,"thingMutable."+s.returnPath,[]),obj:!0,strings:!0}).then(function(){e()}).catch(function(){i()}):e()}})},locationInitialized:function(t){var e=this,i=new MapboxGeocoder({accessToken:mapboxgl.accessToken});this.thingMapGeocoder=i,t.addControl(i),this.thingMap=t,t.on("load",function(){t.addSource("things",{type:"geojson",data:e.thingMapFeatures}),e.updateGeoSearchValue(),e.listenForDragEvents(t)})},listenForDragEvents:function(t){var e,i=this;t.on("move",function(){clearTimeout(e),e=setTimeout(function(){i.updateGeoSearchValue()},500)})},updateThingLocation:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.thing,s=void 0===i?this.thingMutable:i,n=e.loc,o=void 0===n?"user":n,a=e.overwrite,r=void 0===a||a;return new P.a(function(e,i){t.getsmart(s,"geojson",!1)?e(!1):"user"==o?navigator.geolocation&&(r||t.getsmart(s,"geojson",!0))?navigator.geolocation.getCurrentPosition(function(i){t.$set(s,"geojson",t.tryGeojson(i)),e(!0)},function(t){t&&console.error(t),e(!1)}):e(!1):"map"==o&&(r||t.getsmart(s,"geojson",!0))?t.optIn("locationSet")&&t.sameObj(s,t.thingMutable)?(t.popOpt("locationSet"),t.removeMarker(),e(!1)):t.updateGeoSearchValue(s).then(function(i){i?(s.geojson=i,t.pushOpt("locationSet"),t.optsIn(["a lopu inventory generator","a lopu map"],t.gosmart(t.thingMutable,"names",[]))?(t.sameObj(s,t.thingMutable)||t.pushThingFeature(s,"render"),e(!0)):(t.pushThingFeature(s,"render"),e(!0))):e(!1)}).catch(function(t){console.error(t),i(t)}):e(!1)})},thingMapboxCoords:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return[this.findCoord("lng",t),this.findCoord("lat",t)]},thingLCoords:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return[this.findCoord("lat",t),this.findCoord("lng",t)]},findCoord:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.thingMutable;return"lng"==t?this.getsmart(e,"geojson.geometry.coordinates.0",this.getsmart(e,"geojson.coords.longitude",145.1794972)):"lat"==t?this.getsmart(e,"geojson.geometry.coordinates.1",this.getsmart(e,"geojson.coords.latitude",-37.9831522)):void 0},pushThingFeature:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.getsmart(this.thingMapFeatures,"features",void 0);if(s){var n=this.thingToFeature(e);this.setThing({option:n,list:s,obj:!0,key:["properties.thing._id","properties.thing.uuid"],targets:["properties.thing","geometry"],keymatchtype:"broad",push:!0}).then(function(e){t.getsmart(t,"thingMap.getSource",!1)&&t.thingMap.getSource("things")&&t.thingMap.getSource("things").setData(t.thingMapFeatures),i&&t.renderFeatureMarker(e,s)})}},removeMarker:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMapFeatures.features",[]),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.thingMutable;if(t){var s=this.getsmart(e[t],"properties.el",void 0);s&&s.parentNode&&s.parentNode.removeChild(s)}else for(var n=0;n<e.length;n++)if(this.sameObj(this.getsmart(e[n],"properties.thing",void 0),i)){var o=e[n].properties.el;o&&o.parentNode&&o.parentNode.removeChild(o)}},renderFeatureMarker:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMapFeatures.features",[]);if(e&&e[t]&&this.thingMap){this.removeMarker(t,e);var i=document.createElement("div");i.className="marker";var s=document.createElement("img");i.appendChild(s);var n=this.getsmart(e[t],"properties.thing.description",this.getsmart(e[t],"properties.thing.uuid",void 0));if(n){var o=document.createTextNode(n);i.appendChild(o)}s.src="../static/svg/thingMarker.svg",e[t].properties.el=i,new mapboxgl.Marker(i,{offset:[0,-15]}).setLngLat(e[t].geometry.coordinates).addTo(this.thingMap)}},renderFeatureMarkers:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this,"thingMapFeatures.features",[]),e=0;e<t.length;e++)this.renderFeatureMarker(e,t)},thingToFeature:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return{type:"Feature",geometry:{type:"Point",coordinates:this.thingMapboxCoords(t)},properties:{thing:this.thingCleaned(t)}}},updateGeoSearchValue:function(){var t=this;arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return new P.a(function(e,i){t.getMapCentreAddress().then(function(i){i&&(t.thingMapGeocoder._inputEl.value=i.place_name),e(i)}).catch(function(t){t&&console.error(t)})})},getMapCentreAddress:function(){var t=this;return new P.a(function(e,i){if(t.thingMap){var s="https://api.mapbox.com/geocoding/v5/mapbox.places/"+t.thingMap.getCenter().lng+","+t.thingMap.getCenter().lat+".json?access_token="+mapboxgl.accessToken+"&types=address";t.$http.get(s).then(function(t){e(t.body.features[0])}).catch(function(t){console.error(t),i(t)})}else i()})},tryGeojson:function(t){return this.getsmart(t,"coords",void 0)&&this.getsmart(t,"coords.latitude",void 0)&&this.getsmart(t,"coords.longitude",void 0)?{center:[this.getsmart(t,"coords.longitude",145.179286),this.getsmart(t,"coords.latitude",-37.983109)],geometry:{coordinates:[this.getsmart(t,"coords.longitude",145.179286),this.getsmart(t,"coords.latitude",-37.983109)],type:"Point"}}:t},renderThingsOnMap:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this.thingMutable,"things",[]);e&&this.convertListToFeatures(e).then(function(){t.renderFeatureMarkers()})},convertListToFeatures:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this.thingMutable,"things",[]);return new P.a(function(i,s){if(e)for(var n=0;n<e.length;n++)t.pushThingFeature(e[n]),n==e.length-1&&i();else s()})}},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity},"$store.state.realms":function(){this.realms=this.$store.state.realms},"$store.state.thingTypes":function(){this.thingTypes=this.$store.state.thingTypes},"$store.state.thingNames":function(){this.thingNames=this.$store.state.thingNames},"$store.state.priceUnits":function(){this.priceUnits=this.$store.state.priceUnits},"$store.state.currencies":function(){this.currencies=this.$store.state.currencies},thing:function(){this.sameObj(this.thing,this.thingMutable)?this.sameObj(this.thing,this.thingMutable):(this.setsmart(this,"thingMutable",this.thing),this.create())},"thing.properties":function(){console.log("hmm"),this.sameObj(this.thing,this.thingMutable)&&this.getsmart(this.thing,"names",[]).includes("a lopu inventory generator")&&!this.optIn("gotten")&&this.optIn("regen lopu")&&(this.popOpt("regen lopu"),console.log("woo"),this.reinit())},thingMutable:function(){var t=this,e=this;this.thingMutable&&(this.mapThings(),this.resetDefaultThing(),this.mapProperties().then(function(e){t.resetDefaultThing(),t.updateOpts()}),setTimeout(function(){e.optIn("loading",e.getsmart(e,"thingMutable.names",[]))&&e.pushOpt("waiting-hidden",e.getsmart(e,"thingMutable.names",[]))},6e3),this.entity&&this.entity.inventory&&(this.entity.inventory._id==this.thingMutable._id&&void 0!==this.thingMutable._id||this.entity.inventory.uuid==this.thingMutable.uuid&&void 0!==this.thingMutable.uuid)&&this.$store.commit("entityInventorySet",this.thingMutable))},"thingMutable.properties.mapped.options.Array of Strings":function(){this.optIn("show inventory")?(this.popOpt("no-fetch",this.childOptions),this.pushOpt("fetch",this.childOptions),this.optIn("watched-inv")||this.addSlotsToInv(),this.pushOpt("watched-inv")):this.popOpt("watched-inv")},optionsMutable:function(){},parentOptions:function(){this.optIn("no-fetch",this.parentOptionsMutable)||this.optIn("fetched")||!this.optIn("fetch",this.parentOptionsMutable)||(this.popOpt("no-fetch"),this.create())}},props:{thing:{default:function(){return{properties:{title:"my trip to wonderland",names:["a lopu"],description:"It was a hot summers night, awh awh awhoooooo",uuid:this.$uuid.v4()}}}},title:String,source:{},defaultThing:{default:function(){}},neighbours:{default:function(){return[]}},parentId:{},index:{},options:{type:Array,default:function(){return[]}},parentOptions:{type:Array,default:function(){return[]}},theme:{default:"reddit",type:String},fieldsDraft:{default:function(){}},requiredRealms:{default:function(){return[{realm:"all"}]}},limit:{type:Number,default:50},loadLimit:{type:Number,default:5},savesTo:{default:void 0},schema:{}},computed:{thingComputed:{get:function(){return this.thing||{description:"",parents:[this.parentId],names:["new"]}}},fieldsComputed:{get:function(){return this.fieldsDraft||{title:null,description:this.getsmart(this,"thingMutable.description",""),owners:[this.$store.state.entity._id],ownerAlias:this.$store.state.entity.username,realms:null,names:null,url:null,parents:this.getsmart(this,"thingMutable.parents",[])}}},value:{get:function(){var t=void 0;return this.type&&"string"==typeof this.type&&(0==this.type.indexOf("String")?t=this.thingMutable.String:0==this.type.indexOf("Thing")?t=this.thingMutable[this.type]:0==this.type.indexOf("Array")?t=this.thingMutable[this.type]:0==this.type.indexOf("Number")?t=this.thingMutable.Number:0==this.type.indexOf("Boolean")&&(t=this.thingMutable.Boolean)),t},set:function(t){if("string"==typeof t&&"string"==typeof this.type)if(0==this.type.indexOf("String"))this.$set(this.thingMutable,"String",t);else if(0==this.type.indexOf("Thing"))this.$set(this.thingMutable,this.type,t);else if(0==this.type.indexOf("Array"))this.$set(this.thingMutable,this.type,t);else if(0==this.type.indexOf("Number")){var e=parseInt(t);this.$set(this.thingMutable,"Number",e)}else 0==this.type.indexOf("Boolean")&&this.$set(this.thingMutable,"Boolean",t)}},valueString:{get:function(){var t="undefined";this.value;return this.type&&"string"==typeof this.type&&(0==this.type.indexOf("String")?t=this.getsmart(this,"thingMutable.String","undefined"):0==this.type.indexOf("Thing")?t=this.getsmart(this,"thingMutable."+this.type,"undefined").toString():0==this.type.indexOf("Array")?t=this.getsmart(this,"thingMutable."+this.type,"undefined").toString():0==this.type.indexOf("Number")?t=this.getsmart(this,"thingMutable.Number","undefined").toString():0==this.type.indexOf("Boolean")&&(t=this.getsmart(this,"thingMutable.Boolean","undefined").toString())),t}},valueShortRender:{get:function(){var t="undefined";this.value;return this.type&&"string"==typeof this.type&&(0==this.type.indexOf("String")?t=this.trunc(this.thingMutable.String)||"undefined":0==this.type.indexOf("Thing")?t="{"+(this.getsmart(this,"thingMutable."+this.type+".title",!1)||"thing")+"}":0==this.type.indexOf("Array")?t="[ "+this.getsmart(this,"thingMutable."+this.type+".length",0)+" ]":0==this.type.indexOf("Number")?t=this.getsmart(this,"thingMutable.Number","undefined").toString():0==this.type.indexOf("Boolean")&&(t=this.getsmart(this,"thingMutable.Boolean","undefined").toString())),t}},type:{get:function(){return this.thingMutable.type},set:function(t){this.$set(this.thingMutable,"type",t)}},typeString:{get:function(){return this.type}},childType:{get:function(){var t=void 0;return"string"==typeof this.type?this.optIn(0,[this.type.indexOf("Thing"),this.type.indexOf("Array")])&&(this.type.length>"Array".length||this.type.length>"Thing".length)&&(t=(t=this.type.split(" "))[t.length-1].replace(/s$/gi,"")):t=void 0,t}},thingDescriptionInputOptions:{get:function(){return{toolbar:{},placeholder:{text:"Start typing to add a description",hideOnClick:!1},targetBlank:!0}}},thingValueInputOptions:{get:function(){var t={toolbar:{},placeholder:{text:"Start typing to express your self",hideOnClick:!1},targetBlank:!0};return"string"==typeof this.getsmart(this.thingMutable,"type",void 0)&&0==this.getsmart(this.thingMutable,"type","").indexOf("Boolean")?t.placeholder.text="Enter either true or false, 0 or 1, yes or no":"string"==typeof this.getsmart(this.thingMutable,"type",void 0)&&0==this.getsmart(this.thingMutable,"type","").indexOf("Number")?t.placeholder.text='Enter any number you want, "500 million" works, so does "negative 900", as does "four times eight"':"string"==typeof this.getsmart(this.thingMutable,"type",void 0)&&0==this.getsmart(this.thingMutable,"type","").indexOf("String")&&(t.placeholder.text="Start typing to enter the text value"),t}},thingTitleInputOptions:{get:function(){return{toolbar:{},placeholder:{text:"Start typing to add a title",hideOnClick:!1},targetBlank:!0}}},editable:{get:function(){var t=this.getsmart(this,"thingMutable.owners",[]).filter(function(t){});return!(0!=t.length&&!this.optIn(this.getsmart(this,"entity._id",void 0),t))}}},components:{}},Be=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"thing-container"},[t._v(t._s(t.optIn("a lopu dom node",t.getsmartval(t.thing,"properties.names",[]))?t.domval(t.thing):"")),i("div",{staticClass:"thing-positioner"},[i("div",{staticClass:"thing"},[t._l(t.thing.properties,function(e,s){return t.thing.properties&&!t.optIn("a lopu dom node",t.getsmartval(t.thing,"properties.names",[]))&&t.thing.constructor==Object?["title"==s?[i("div",{staticClass:"title-container"},[i("div",{staticClass:"title-positioner"},[i("div",{staticClass:"title"},[t._v(t._s(e))])])])]:t._e()]:t._e()})],2)])])},Ee=[];Be._withStripped=!0;var Ge=!1;var ze=function(t){Ge||(i("Bj+s"),i("JuT1"))},He=Object(p.a)(Fe,Be,Ee,!1,ze,"data-v-2dcbfe49",null);He.options.__file="src/components/alopu.vue";He.exports;var Ve={mixins:[I()({vue:{reactiveSetter:!0,vm:"this"},objList:"this.thingMutable.things",stringList:"this.thingMutable.properties.mapped.options.Array of Strings"})],data:function(){return{thingMutable:this.thing,entity:this.$store.state.entity,feedback:null,realms:this.$store.state.realms,thingTypes:this.$store.state.thingTypes,types:this.$store.state.types,thingNames:this.$store.state.thingNames,priceUnits:this.$store.state.priceUnits,currencies:this.$store.state.currencies,urls:["http://agora.dev/forum","http://lopu.com.au","http://agora.lopu.com.au"],err:null,alterEgos:[this.$store.state.entity.username?this.$store.state.entity.username:"anonymous","anonymous"],neighboursMutable:this.neighbours,messages:[],funCounter:0,limitMutable:5,loadLimitMutable:5,propertiesLimitMutable:50,propertiesLoadLimitMutable:5,valueLimitMutable:5,valueLoadLimitMutable:5,savesToMutable:this.savesTo,optionsMutable:[],childOptions:[],parentOptionsMutable:this.parentOptions,defaultThingMutable:this.defaultThing,thingMap:void 0,thingMapGeocoder:void 0,thingMapFeatures:{type:"FeatureCollection",features:[]},invGrid:{width:80,invWidth:void 0,padding:"2px 3px"}}},sockets:{connect:function(){},giveThing:function(t){var e=this;if("hmm"==this.thingMutable.uuid&&console.log("got thing %s",Date.now()),this.sameObj(t.thing,this.thingMutable,t))this.thingMutable=t.thing,(t.giveEvent="save")&&this.$emit("saved"),this.mapProperties().then(function(t){e.reinit(),e.popOpt("editing"),e.pushOpt("fetched")}).catch(function(t){console.error(t)}),this.setFeedback(t.feedback);else if(this.isParent(t))if(this.optIn("a lopu inventory generator",this.getsmart(this.thingMutable,"names",[])))"hmm"==this.thingMutable.uuid&&console.log("where we should be"),t.thing.tag="loading",this.setThing({option:t.thing,list:this.gosmart(this,"thingMutable.things",[]),obj:!0,key:["_id","uuid","tag"],keymatchtype:"broad",push:!0,strings:!0}).then(function(e){delete t.thing.tag}).catch(function(t){t&&console.error(t)}),this.optIn("a lopu map",this.getsmart(this.thingMutable,"names",[]))&&this.pushThingFeature(t.thing,"render");else{for(var i=0;i<t.thing.relatives.length;i++)this.optIn(t.thing._id,this.thingMutable[t.thing.relatives[i].path])||this.optIn(t.thing,this.thingMutable[t.thing.relatives[i].path],!0)||this.optIn(t.thing,this.thingMutable[t.thing.relatives[i].path],!0,"uuid")?this.setThing({option:t.thing,list:this.thingMutable[t.thing.relatives[i].path],obj:!0,key:["_id","uuid"],keymatchtype:"broad",strings:!0}):this.optIn(t.thing,this.thingMutable.things,!0),this.thingMutable._id&&this.thingMutable._id.toString()==t.thing.relatives[i].relative&&this.pushOpt(t.thing,this.thingMutable[t.thing.relatives[i].path],!0);this.entity&&this.entity.inventory&&(this.entity.inventory._id==this.thingMutable._id&&void 0!==this.thingMutable._id||this.entity.inventory.uuid==this.thingMutable.uuid&&void 0!==this.thingMutable.uuid)&&this.$store.commit("entityInventorySet",this.thingMutable)}else t.thing.title&&t.thing.title.indexOf("-comments")},giveThings:function(t){this.isParent(t)&&t.returnPath&&(this.setThings({options:t.things,list:this.thingMutable[t.returnPath],obj:!0,strings:!0}),this.mapList(this.thingMutable[t.returnPath]))},confirmThingDeletion:function(t){console.log("wtf"),console.log(this.sameObj(this.getsmart(t,"thing",void 0),this.getsmart(this,"thingMutable",void 0),t)),console.log(t),this.sameObj(this.getsmart(t,"thing",void 0),this.getsmart(this,"thingMutable",void 0),t)&&(this.getsmart(t,"feedback.success",!1)?(this.$emit("remove"),this.setsmart(this,"thingMutable",void 0)):(this.setFeedback(null),this.pushOpt({text:this.getsmart(t,"feedback.message","There was an error deleting this thing from the database"),from:"lopu"},this.messages)))}},created:function(){},mounted:function(){this.isMounted=!0;var t=this;window.onresize=function(){t.addSlotsToInv()},this.create()},methods:{create:function(){this.thingMutable&&"object"===A()(this.thingMutable)?this.reinit():"string"!=typeof this.thingMutable||this.optIn("no-fetch")||(this.getThing({thing:this.thingMutable,parentId:this.parentId,clientId:this._uid,populations:[{path:"properties"}]}),this.thingMutable={_id:this.thingMutable,names:["loading"]});var t=this;setTimeout(function(){t.optIn("loading",t.getsmart(t,"thingMutable.names",[]))},12345),this.setChildOptions()},reinit:function(){var t=this;"hmm"==this.thingMutable.uuid&&console.log("reinitting"),this.parentOptionsMutable=JSON.parse(tt()(this.parentOptions)),this.mapProperties().then(function(e){t.applySchema().then(function(e){t.mapProperties().then(function(e){t.checkPropertiesForOptions(),t.updateOpts(),t.updateThingLocation({loc:"user",overwrite:!1}).then(function(e){if(t.optIn("a lopu inventory generator",t.getsmart(t,"thingMutable.names",[]))&&!t.optIn("gotten")&&!t.getsmart(t,"thingMutable.properties.mapped.dont gen this lopu",!1)){var i=t.generateFind();if(i){for(var s=t.generateFind({piece:"count"}),n=t.generateFind({piece:"options"}),o=(t.getsmart(t,"thingMutable.things.length",0),t.gosmart(t,"thingMutable.things",[])),a=0;a<s;a++){t.pushThing({option:{names:["loading"],uuid:!1,tag:"loading"},list:o})}t.limitMutable=t.limitMutable+s,t.getThings({parentId:t.getsmart(t,"thingMutable._id",t._uid),entity:{_id:t.entity._id},returnPath:"things",find:i,count:s,findOptions:n,stream:!0}),t.pushOpt("gotten"),t.popOpt("regen lopu")}}}).catch(function(t){t&&console.error(t)}),t.optIn("show-comments")&&t.loadComments(),t.optIn("inventory",t.thingMutable.names)&&t.pushOpts(["show inventory","inventory mode"]),t.setChildOptions(),t.resetDefaultThing(),t.addSlotsToInv()}).catch(function(t){t&&console.error(t)})}).catch(function(t){t&&console.error(t)})}).catch(function(t){console.error(t)})},getThing:function(t){this.$socket.emit("getThing",t)},getThings:function(t){console.log("emitting request %s",Date.now()),this.$socket.emit("getThings",t)},addPrice:function(){this.thingMutable.contract?this.thingMutable.contract.push({thing:null,amount:null,multiplier:null,unit:null}):this.$set(this.thingMutable,"contract",[{thing:null,amount:null,multiplier:null,unit:null}])},removePrice:function(t){this.thingMutable.contract.splice(t,1)},updateDescription:function(t){this.setsmart(this,"thingMutable.description",t.api.origElements.innerHTML)},updateTitle:function(t){this.setsmart(this,"thingMutable.title",t.api.origElements.innerHTML)},updateValue:function(t){this.value=t.api.origElements.innerHTML},updateAt:function(t,e,i){console.log(t),console.log(e),console.log(i)},showOptions:function(){this.optIn("icon")||this.optIn("hiding")||this.pushOpt("show options")},showOptionsPerm:function(){this.pushOpts(["show options","focused"]),this.popOpts(["hiding"])},toggleOptions:function(){this.optIn("focused")?this.popOpts(["show options","focused"]):this.optIn("icon")||this.pushOpts(["show options","focused"])},hideOptions:function(){this.popOpts(["show options","focused"]),this.pushOpt("hiding"),setTimeout(this.popOpt("hiding"),4e3)},hideOptionsMaybe:function(){!this.optIn("focused")&&this.optIn("show options")&&this.popOpt("show options")},setFeedback:function(t){this.feedback=t||null},generateFind:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.piece,i=void 0===e?"for":e,s=t.obj,n=void 0===s?this.thingMutable:s;if("object"==(void 0===n?"undefined":A()(n))){if(!i||"for"==i){var o={};if(this.getsmart(n,"properties.mapped.a special lopu regex to match."+this.getsmart(n,"properties.mapped.a special lopu regex to match.type","String"),!1)){var a=this.getsmart(n,"properties.mapped.a special lopu regex to match."+this.getsmart(n,"properties.mapped.a special lopu regex to match.type","String"),void 0),r=a.split(" ");o.realms={$in:r},o.names={$in:r},o.text={regex:!0,value:a,options:"i"},o.description={regex:!0,value:a,options:"i"},o.title={regex:!0,value:a,options:"i"},o.orAllTheThings=!0}else o.realms=this.getsmart(n,"properties.mapped.ignore realms.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.realms to match.Array of Strings.length",0)>0?this.getsmart(n,"properties.mapped.broadly match realms.Boolean",!1)?{$in:this.getsmart(n,"properties.mapped.realms to match.Array of Strings",void 0)}:{$all:this.getsmart(n,"properties.mapped.realms to match.Array of Strings",void 0)}:void 0,o.names=this.getsmart(n,"properties.mapped.ignore names.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.names to match.Array of Strings.length",0)>0?this.getsmart(n,"properties.mapped.broadly match names.Boolean",!1)?{$in:this.getsmart(n,"properties.mapped.names to match.Array of Strings",void 0)}:{$all:this.getsmart(n,"properties.mapped.names to match.Array of Strings",void 0)}:void 0,o.owners=this.getsmart(n,"properties.mapped.ignore owners.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.owners to match.Array of Strings.length",0)>0?this.getsmart(n,"properties.mapped.broadly match owners.Boolean",!1)?{$in:this.getsmart(n,"properties.mapped.owners to match.Array of Strings",void 0)}:{$all:this.getsmart(n,"properties.mapped.owners to match.Array of Strings",void 0)}:void 0,o.text=this.getsmart(n,"properties.mapped.ignore text.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.text to match.String",!1)?this.getsmart(n,"properties.mapped.broadly match text.Boolean",!1)?{regex:!0,value:this.getsmart(n,"properties.mapped.text to match.String",void 0),options:"i"}:this.getsmart(n,"properties.mapped.text to match.String",void 0):void 0,o.description=this.getsmart(n,"properties.mapped.ignore description.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.description to match.String",!1)?this.getsmart(n,"properties.mapped.broadly match description.Boolean",!1)?{regex:!0,value:this.getsmart(n,"properties.mapped.description to match.String",void 0),options:"i"}:this.getsmart(n,"properties.mapped.description to match.String",void 0):void 0,o.title=this.getsmart(n,"properties.mapped.ignore title.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.title to match.String",!1)?this.getsmart(n,"properties.mapped.broadly match title.Boolean",!1)?{regex:!0,value:this.getsmart(n,"properties.mapped.title to match.String",void 0),options:"i"}:this.getsmart(n,"properties.mapped.title to match.String",void 0):void 0,o["geojson.geometry"]=this.getsmart(n,"properties.mapped.ignore location.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.geojson to match.geojson",!1)?{$near:{$maxDistance:this.getsmart(n,"properties.mapped.broadly match location.Boolean",!1)?1e4*this.getsmart(n,"properties.mapped.geojson search radius.Number",12):1e4,$geometry:this.getsmart(n,"geojson.geometry",void 0)}}:this.getsmart(n,"properties.mapped.use this things location.Boolean",!1)?{$near:{$maxDistance:this.getsmart(n,"properties.mapped.broadly match location.Boolean",!1)?1e3*this.getsmart(n,"properties.mapped.geojson search radius.Number",12):1e4,$geometry:this.getsmart(n,"geojson.geometry",void 0)}}:void 0;return o}if("count"==i)return this.getsmart(n,"properties.mapped.limit.Number",!1)||this.getsmart(n,"properties.mapped.count.Number",5);if("options"==i){var h={};return h.sort=this.getsmart(n,"properties.mapped.sort."+this.getsmart(n,"properties.mapped.sort.type","json"),void 0),h}}return!1},getProperty:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"title",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.gosmart(this,"thingMutable.properties",[]),s=0;s>i.length;s++)if(i[s][e]==t)return i[s]},updateRealmsList:function(t,e){this.$set(this.realms,"searched",null),this.realms.push({key:"searched",realm:t})},genDefaultThing:function(){return"slot"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)?{realms:["inventory slots"],title:"debug",names:["inventory slot"],properties:[{title:"options","Array of Strings":["inventory slot","icon"],type:"Array of Strings"}],owners:[this.entity._id],parents:[this.thingMutable.uuid],uuid:this.$uuid.v4()}:this.optIn("a lopu inventory generator",this.thingMutable.names)?{realms:["new"].concat(this.getsmart(this.thingMutable,"properties.mapped.realms to match.Array of Strings",[])),names:this.getsmart(this.thingMutable,"properties.mapped.names to match.Array of Strings",[]),description:void 0,properties:[{title:"options","Array of Strings":["editing","edited","is-default-thing",this.optIn("shallow adders")?"less padding":null],type:"Array of Strings"}],owners:[this.entity._id],parents:[this.thingMutable],uuid:this.$uuid.v4()}:{realms:["new"],description:void 0,properties:[{title:"options","Array of Strings":["editing","edited","is-default-thing",this.optIn("shallow adders")?"less padding":null],type:"Array of Strings"}],owners:[this.entity._id],parents:[this.thingMutable],uuid:this.$uuid.v4()}},resetDefaultThing:function(){this.defaultThingMutable=this.genDefaultThing()},setChildOptions:function(){this.childOptions=[this.optIn("feed")?"wide":"icon",this.optIn("addable")?"addable":null,this.optIn("slotted")?"in slot":null,this.optIn("shrink slot icons")?"shrink slot icon":null,this.optIn("feed")?null:"inventory item",this.optIn("icon")?"no-fetch":null,this.optIn("show inventory")?"fetch":null,this.optIn("dont load childrens children")?"dont load children":null,this.optIn("dont load children children children")?"dont load childrens children":null,this.optIn("show-children-comments")?"show-comments":null,this.optIn("shallow adders")?"shallow adders":null],this.childOptions=this.childOptions.filter(function(t){return t||0==t})},removeMessage:function(t){this.messages.splice(t,1)},sameObj:function(t,e,i){return!(!t||!e)&&(e&&(i&&this._uid&&this._uid==i.clientId&&(e._id&&e._id==t._id||e.uuid&&e.uuid==t.uuid)||e._id&&e._id==t._id||e.uuid&&e.uuid==t.uuid))},isParent:function(t){return void 0!==t.parentId&&(this.getsmart(this,"thingMutable.uuid",void 0)==t.parentId||this._uid==t.parentId||this.getsmart(this,"thingMutable._id",void 0)==t.parentId)||t.thing&&this.getsmart(t,"thing.relatives",[])&&this.getsmart(this,"thingMutable._id",!1)&&this.optIn({path:"parents",relative:this.getsmart(this,"thingMutable._id",{toString:function(){}}).toString()},this.getsmart(t,"thing.relatives",[]),!0,["relative","path"])},thingCleaned:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return{_id:t._id,uuid:t.uuid,title:t.title,description:t.description}},valueToAThing:function(t){if(this.getsmart(t,"constructor",void 0)!==Object){var e={type:this.childType,names:["a lopu value"]};return e[this.childType]=t,e}return this.getsmart(t,"constructor",void 0),Object,t},firstOrLast:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"thing";return!(0!=t&&!t||!e||!i)&&((0!=t||1!=e&&1!=i.length)&&(0==t?"first-"+s:t<=e&&t==i.length-1||t==e-1?"last-"+s:"mid-"+s))},osxTrunc:function(t){if("string"==typeof t){var e=t.replace(/&nbsp;/g," ");if(e.replace(/^\s+|\s+$/g,"").length>26){var i=e.replace(/&nbsp;/g," ").replace(/\s+$/g,"").substr(-8).replace(/^\s+/g,"");return e.replace(/&nbsp;/g," ").substr(0,19).replace(/\s+$/g,"")+"..."+i}return t}},trunc:function(t){if("string"==typeof t){var e=t.replace(/&nbsp;/g," ");return e.replace(/^\s+|\s+$/g,"").length>26?e.replace(/&nbsp;/g," ").substr(0,26).replace(/\s+$/g,"")+"..":t}},updateOpts:function(){var t=this;return new P.a(function(e,i){t.getsmart(t,"thingMutable.properties.mapped.options",!1)?(t.pushOpts(t.parentOptionsMutable.filter(function(e){return t.getsmart(t,"thingMutable.properties.mapped.options.Array of Strings",[]).indexOf("ignore client option "+e)<0&&(e||0==e)})),t.parentOptionsMutable=[],e(!0)):t.mapList(t.gosmart(t,"thingMutable.properties",[]),"title","options").then(function(i){if(i)e(t.updateOpts());else{var s=t.gosmart(t,"thingMutable.properties",[]);t.pushThing({option:{title:"options","Array of Strings":[],type:"Array of Strings"},list:s,obj:!0,key:"title"}),e(t.updateOpts())}}).catch(function(t){console.error(t),i(t)})})},checkPropertiesForOptions:function(){if(this.gosmart(this,"thingMutable.properties",[]).constructor==Array){var t=!0,e=!1,i=void 0;try{for(var s,n=L()(this.thingMutable.properties);!(t=(s=n.next()).done);t=!0){var o=s.value;"things render limit"==o.title&&(this.limitMutable=o[o.type||"Number"]||5),this.pushOpt(o.title)}}catch(t){e=!0,i=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw i}}}},addSlotsToInv:function(t){var e=this,i=Math.floor(this.getsmart(this,"$refs.inventory-list-container.offsetWidth",558))-2,s=93;if(this.invGrid.invWidth==i&&i<93);else if(this.optIn("slotted")){if(i%s>s/3)for(;i%s>7;)s--;else for(;i%s>7;)s++;if(this.invGrid.width=s,this.invGrid.invWidth=Math.floor(i/s)*s,this.optIn("generate slots")){var n=this.gosmart(this,"thingMutable.things",[]),o=4*Math.floor(i/s);if(o=o<this.limitMutable?this.limitMutable:o,n.length<o){for(var a=o-n.length,r=function(){var t=e.genDefaultThing("slot");e.mapList(e.setsmart(t,"properties",e.getsmart(t,"properties",[]))).then(function(e){n.push(t)}).catch(function(t){console.error(t)})},h=0;h<a;h++)r();this.limitMutable=o}else n.length>=o&&(this.limitMutable=o)}}},noValids:function(t){if(t&&t.length){for(var e=0;e<t.length;e++)if(!t[e])return!0;return!1}return!0},applySchema:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getsmart(this,"schema",void 0),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getsmart(this,"thingMutable",void 0);return new P.a(function(s,n){e&&i?"string"==typeof e?s(!1):"string"!=typeof i?e.properties?t.mapList(e.properties,"title",void 0,!0).then(function(n){n?(e.properties.forEach(function(e,s){if("string"==typeof t.getsmart(e,"title","")&&t.getsmart(e,"title","").indexOf(" schema")>=0){var n=t.getsmart(e,e.type,!1);if(n){if(n.constructor==Array)if(!0===t.getsmartvalue(e,"properties","merge",!1))for(var o=0;o<n.length;o++)t.pushThing({option:n[o],list:t.gosmartvalue(i,e.title.replace(" schema",""),[])});t.setsmart(i,e.title.replace(" schema",""),t.jsmart.parse(t.jsmart.stringify(n)))}}}),s(!0)):s(!1)}).catch(function(t){t&&console.error(t)}):s(!0):s(!1):s(!(e||!i))})},pushChildThing:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMutable.things",[]);this.pushOpt(t,e,!0,"_id"),this.mapThings(),this.mapThings("title",t.properties)},saveThing:function(){this.pushOpt(this.entity._id,this.gosmart(this,"thingMutable.owners",[])),this.savesToMutable&&(this.getsmart(this,"savesToMutable.properties.#"),this.pushOpts(this.savesToMutable,this.gosmart(this,"thingMutable.parents",[]))),this.thingMutable.clientId=this._uid;var t={thing:this.thingMutable,clientId:this._uid,entity:this.entity};this.$socket.emit("saveThing",t)},forkThing:function(){},referenceThing:function(){},deleteThing:function(t,e){if(1==t)if("object"!=A()(this.thingMutable)||this.thingMutable._id){var i={thing:this.thingMutable,clientId:this._uid,entity:this.entity};this.$socket.emit("deleteThing",i),this.setFeedback(null)}else this.$emit("remove"),this.setsmart(this,"thingMutable",void 0),this.setFeedback(null);else this.setFeedback({message:"Are you sure you want to delete this?",type:"delete"})},deleteChildThing:function(t,e){(t||0==t)&&e&&this.getsmart(this,"thingMutable."+e,!1)&&this.gosmart(this,"thingMutable."+e,[]).splice(t,1)},savedChildThing:function(t){this.optsIn(["a lopu inventory generator","a lopu map"],this.getsmart(this.thingMutable,"names",[]))&&this.renderThingsOnMap()},addNewChildThing:function(){var t=this.genDefaultThing(),e=this.gosmart(this,"thingMutable.things",[]);this.limitMutable=this.limitMutable+1,e.push(t),this.updateThingLocation({thing:t,loc:"map"})},addNewProperty:function(){var t={names:["property"],owners:[this.entity._id],parents:[this.thingMutable._id],uuid:this.$uuid.v4()};this.propertiesLimitMutable=this.propertiesLimitMutable+1,this.gosmart(this,"thingMutable.properties",[]).push(t)},addNewValue:function(){if(this.getsmart(this,"thingMutable.type",void 0)){if("String"==this.childType)var t="new string";else t={names:["a lopu value"],owners:[this.entity._id],parents:[this.thingMutable._id],uuid:this.$uuid.v4(),type:this.childType};this.valueLimitMutable=this.valueLimitMutable+1,this.gosmart(this,"thingMutable."+this.getsmart(this,"thingMutable.type",void 0),[]).push(t)}},updateType:function(t){this.type=t},mapInventory:function(t,e,i){if("object"==(void 0===t?"undefined":A()(t))&&t.things){var s=!0,n=!1,o=void 0;try{for(var a,r=L()(t.things);!(s=(a=r.next()).done);s=!0){var h=a.value;t.thing&&(e[h.thing]=h,this.mapInventory(h,e[h.thing],i++))}}catch(t){n=!0,o=t}finally{try{!s&&r.return&&r.return()}finally{if(n)throw o}}}},mapList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"title",i=this,s=arguments[2],n=arguments[3];return new P.a(function(o,a){if(e){if(t){t.mapped&&"boolean"!=typeof t.mapped||i.$set(t,"mapped",{}),0==t.length&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o());for(var r=0;r<t.length;r++)if("string"!=typeof t[r])i.$set(t.mapped,t[r][e],t[r]),r==t.length-1&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o());else if(n){var h=i.funCounter;i.funCounter=i.funCounter+1,i.getThing({thing:t[r],clientId:i._uid,funCounter:h}),i.$options.sockets.giveThing=function(n){i._uid==n.clientId&&n.funCounter==h&&(i.$set(t,r.toString(),n.thing),i.$set(t.mapped,t[r][e],t[r])),r==t.length-1&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o())}}else r==t.length-1&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o())}}else a()})},mapThings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"title",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMutable.things",[]);return this.mapList(e,t)},mapProperties:function(){return this.mapList(this.gosmart(this,"thingMutable.properties",[]),"title")},loadComments:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all");this.optIn("comments-loaded")||"all"==e&&this.populateThings({rules:{title:{regex:!0,value:"-comments"}},returnPath:"things"}).then(function(){t.compileComments()})},compileComments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this,"thingMutable.things",[]);t.mapped["all-comments"]||(t.push({title:"all-comments",things:[],parents:[this.thingMutable._id],owners:[],properties:[{title:"things render limit",Number:0,names:["a lopu client option"]},{title:"uniques","Array of Strings":["title"],type:"Array of Strings"}],uuid:this.$uuid.v4()}),this.mapList(t)),t.mapped["this lopus comments"]||(t.push({title:"this lopus comments",things:[],parents:[this.thingMutable._id],owners:[],properties:[{title:"things render limit",Number:5,names:["a lopu client option"]},{title:"uniques","Array of Strings":["title"],type:"Array of Strings"}],uuid:this.$uuid.v4()}),this.mapList(t));var e=!0,i=!1,s=void 0;try{for(var n,o=L()(t);!(e=(n=o.next()).done);e=!0){var a=n.value;a.title&&a.title.indexOf("comments")>=0&&"all-comments"!==a.title&&this.pushOpts(a.things,t.mapped["all-comments"].things)}}catch(t){i=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw s}}this.pushOpt("comments-loaded")},populateThings:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.things,s=void 0===i?this.gosmart(this,"thingMutable.things",[]):i,n=e.returnPath,o=void 0===n?"things":n,a=e.funCounter,r=void 0===a?this.funCounter:a,h=e.rules,l=void 0===h?void 0:h;return this.funCounter++,new P.a(function(e,i){t.$socket.emit("populateThings",{things:s,parentId:t.thingMutable._id||t.thingMutable.uuid||t._uid,returnPath:o,rules:l,funCounter:r,sort:"inception"}),t.$options.sockets.giveThings=function(i){t.isParent(i)&&i.funCounter==r&&t.setThings({options:i.things,list:t.gosmart(t,"thingMutable."+i.returnPath,[]),obj:!0,strings:!0}).then(function(){t.mapList(t.gosmart(t,"thingMutable."+i.returnPath,[])).then(function(){e()})})}})},populate:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.things,s=void 0===i?this.gosmart(this,"thingMutable.things",[]):i,n=e.returnPath,o=void 0===n?"things":n,a=e.funCounter,r=void 0===a?this.funCounter:a,h=e.rules,l=void 0===h?void 0:h;return this.funCounter++,new P.a(function(e,i){t.$socket.emit("populateThings",{things:s,parentId:t.thingMutable._id||t.thingMutable.uuid||t._uid,returnPath:o,rules:l,funCounter:r,sort:"inception"});t.$options.sockets.giveThings=function(s){t.isParent(s)&&s.funCounter==r?t.setThings({options:s.things,list:t.gosmart(t,"thingMutable."+s.returnPath,[]),obj:!0,strings:!0}).then(function(){e()}).catch(function(){i()}):e()}})},locationInitialized:function(t){var e=this,i=new MapboxGeocoder({accessToken:mapboxgl.accessToken});this.thingMapGeocoder=i,t.addControl(i),this.thingMap=t,t.on("load",function(){t.addSource("things",{type:"geojson",data:e.thingMapFeatures}),e.updateGeoSearchValue(),e.listenForDragEvents(t)})},listenForDragEvents:function(t){var e,i=this;t.on("move",function(){clearTimeout(e),e=setTimeout(function(){i.updateGeoSearchValue()},500)})},updateThingLocation:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.thing,s=void 0===i?this.thingMutable:i,n=e.loc,o=void 0===n?"user":n,a=e.overwrite,r=void 0===a||a;return new P.a(function(e,i){t.getsmart(s,"geojson",!1)?e(!1):"user"==o?navigator.geolocation&&(r||t.getsmart(s,"geojson",!0))?navigator.geolocation.getCurrentPosition(function(i){t.$set(s,"geojson",t.tryGeojson(i)),e(!0)},function(t){t&&console.error(t),e(!1)}):e(!1):"map"==o&&(r||t.getsmart(s,"geojson",!0))?t.optIn("locationSet")&&t.sameObj(s,t.thingMutable)?(t.popOpt("locationSet"),t.removeMarker(),e(!1)):t.updateGeoSearchValue(s).then(function(i){i?(s.geojson=i,t.pushOpt("locationSet"),t.optsIn(["a lopu inventory generator","a lopu map"],t.gosmart(t.thingMutable,"names",[]))?(t.sameObj(s,t.thingMutable)||t.pushThingFeature(s,"render"),e(!0)):(t.pushThingFeature(s,"render"),e(!0))):e(!1)}).catch(function(t){console.error(t),i(t)}):e(!1)})},thingMapboxCoords:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return[this.findCoord("lng",t),this.findCoord("lat",t)]},thingLCoords:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return[this.findCoord("lat",t),this.findCoord("lng",t)]},findCoord:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.thingMutable;return"lng"==t?this.getsmart(e,"geojson.geometry.coordinates.0",this.getsmart(e,"geojson.coords.longitude",145.1794972)):"lat"==t?this.getsmart(e,"geojson.geometry.coordinates.1",this.getsmart(e,"geojson.coords.latitude",-37.9831522)):void 0},pushThingFeature:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.getsmart(this.thingMapFeatures,"features",void 0);if(s){var n=this.thingToFeature(e);this.setThing({option:n,list:s,obj:!0,key:["properties.thing._id","properties.thing.uuid"],targets:["properties.thing","geometry"],keymatchtype:"broad",push:!0}).then(function(e){t.getsmart(t,"thingMap.getSource",!1)&&t.thingMap.getSource("things")&&t.thingMap.getSource("things").setData(t.thingMapFeatures),i&&t.renderFeatureMarker(e,s)})}},removeMarker:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMapFeatures.features",[]),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.thingMutable;if(t){var s=this.getsmart(e[t],"properties.el",void 0);s&&s.parentNode&&s.parentNode.removeChild(s)}else for(var n=0;n<e.length;n++)if(this.sameObj(this.getsmart(e[n],"properties.thing",void 0),i)){var o=e[n].properties.el;o&&o.parentNode&&o.parentNode.removeChild(o)}},renderFeatureMarker:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMapFeatures.features",[]);if(e&&e[t]&&this.thingMap){this.removeMarker(t,e);var i=document.createElement("div");i.className="marker";var s=document.createElement("img");i.appendChild(s);var n=this.getsmart(e[t],"properties.thing.description",this.getsmart(e[t],"properties.thing.uuid",void 0));if(n){var o=document.createTextNode(n);i.appendChild(o)}s.src="../static/svg/thingMarker.svg",e[t].properties.el=i,new mapboxgl.Marker(i,{offset:[0,-15]}).setLngLat(e[t].geometry.coordinates).addTo(this.thingMap)}},renderFeatureMarkers:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this,"thingMapFeatures.features",[]),e=0;e<t.length;e++)this.renderFeatureMarker(e,t)},thingToFeature:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return{type:"Feature",geometry:{type:"Point",coordinates:this.thingMapboxCoords(t)},properties:{thing:this.thingCleaned(t)}}},updateGeoSearchValue:function(){var t=this;arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return new P.a(function(e,i){t.getMapCentreAddress().then(function(i){i&&(t.thingMapGeocoder._inputEl.value=i.place_name),e(i)}).catch(function(t){t&&console.error(t)})})},getMapCentreAddress:function(){var t=this;return new P.a(function(e,i){if(t.thingMap){var s="https://api.mapbox.com/geocoding/v5/mapbox.places/"+t.thingMap.getCenter().lng+","+t.thingMap.getCenter().lat+".json?access_token="+mapboxgl.accessToken+"&types=address";t.$http.get(s).then(function(t){e(t.body.features[0])}).catch(function(t){console.error(t),i(t)})}else i()})},tryGeojson:function(t){return this.getsmart(t,"coords",void 0)&&this.getsmart(t,"coords.latitude",void 0)&&this.getsmart(t,"coords.longitude",void 0)?{center:[this.getsmart(t,"coords.longitude",145.179286),this.getsmart(t,"coords.latitude",-37.983109)],geometry:{coordinates:[this.getsmart(t,"coords.longitude",145.179286),this.getsmart(t,"coords.latitude",-37.983109)],type:"Point"}}:t},renderThingsOnMap:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this.thingMutable,"things",[]);e&&this.convertListToFeatures(e).then(function(){t.renderFeatureMarkers()})},convertListToFeatures:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this.thingMutable,"things",[]);return new P.a(function(i,s){if(e)for(var n=0;n<e.length;n++)t.pushThingFeature(e[n]),n==e.length-1&&i();else s()})}},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity},"$store.state.realms":function(){this.realms=this.$store.state.realms},"$store.state.thingTypes":function(){this.thingTypes=this.$store.state.thingTypes},"$store.state.thingNames":function(){this.thingNames=this.$store.state.thingNames},"$store.state.priceUnits":function(){this.priceUnits=this.$store.state.priceUnits},"$store.state.currencies":function(){this.currencies=this.$store.state.currencies},thing:function(){this.sameObj(this.thing,this.thingMutable)?this.sameObj(this.thing,this.thingMutable):(this.setsmart(this,"thingMutable",this.thing),this.create())},"thing.properties":function(){console.log("hmm"),this.sameObj(this.thing,this.thingMutable)&&this.getsmart(this.thing,"names",[]).includes("a lopu inventory generator")&&!this.optIn("gotten")&&this.optIn("regen lopu")&&(this.popOpt("regen lopu"),console.log("woo"),this.reinit())},thingMutable:function(){var t=this,e=this;this.thingMutable&&(this.mapThings(),this.resetDefaultThing(),this.mapProperties().then(function(e){t.resetDefaultThing(),t.updateOpts()}),setTimeout(function(){e.optIn("loading",e.getsmart(e,"thingMutable.names",[]))&&e.pushOpt("waiting-hidden",e.getsmart(e,"thingMutable.names",[]))},6e3),this.entity&&this.entity.inventory&&(this.entity.inventory._id==this.thingMutable._id&&void 0!==this.thingMutable._id||this.entity.inventory.uuid==this.thingMutable.uuid&&void 0!==this.thingMutable.uuid)&&this.$store.commit("entityInventorySet",this.thingMutable))},"thingMutable.properties.mapped.options.Array of Strings":function(){this.optIn("show inventory")?(this.popOpt("no-fetch",this.childOptions),this.pushOpt("fetch",this.childOptions),this.optIn("watched-inv")||this.addSlotsToInv(),this.pushOpt("watched-inv")):this.popOpt("watched-inv")},optionsMutable:function(){},parentOptions:function(){this.optIn("no-fetch",this.parentOptionsMutable)||this.optIn("fetched")||!this.optIn("fetch",this.parentOptionsMutable)||(this.popOpt("no-fetch"),this.create())}},props:{thing:{default:function(){return{properties:{title:"my trip to wonderland",names:["a lopu"],description:"It was a hot summers night, awh awh awhoooooo",uuid:this.$uuid.v4()}}}},title:String,source:{},defaultThing:{default:function(){}},neighbours:{default:function(){return[]}},parentId:{},index:{},options:{type:Array,default:function(){return[]}},parentOptions:{type:Array,default:function(){return[]}},theme:{default:"reddit",type:String},fieldsDraft:{default:function(){}},requiredRealms:{default:function(){return[{realm:"all"}]}},limit:{type:Number,default:50},loadLimit:{type:Number,default:5},savesTo:{default:void 0},schema:{}},computed:{thingComputed:{get:function(){return this.thing||{description:"",parents:[this.parentId],names:["new"]}}},fieldsComputed:{get:function(){return this.fieldsDraft||{title:null,description:this.getsmart(this,"thingMutable.description",""),owners:[this.$store.state.entity._id],ownerAlias:this.$store.state.entity.username,realms:null,names:null,url:null,parents:this.getsmart(this,"thingMutable.parents",[])}}},value:{get:function(){var t=void 0;return this.type&&"string"==typeof this.type&&(0==this.type.indexOf("String")?t=this.thingMutable.String:0==this.type.indexOf("Thing")?t=this.thingMutable[this.type]:0==this.type.indexOf("Array")?t=this.thingMutable[this.type]:0==this.type.indexOf("Number")?t=this.thingMutable.Number:0==this.type.indexOf("Boolean")&&(t=this.thingMutable.Boolean)),t},set:function(t){if("string"==typeof t&&"string"==typeof this.type)if(0==this.type.indexOf("String"))this.$set(this.thingMutable,"String",t);else if(0==this.type.indexOf("Thing"))this.$set(this.thingMutable,this.type,t);else if(0==this.type.indexOf("Array"))this.$set(this.thingMutable,this.type,t);else if(0==this.type.indexOf("Number")){var e=parseInt(t);this.$set(this.thingMutable,"Number",e)}else 0==this.type.indexOf("Boolean")&&this.$set(this.thingMutable,"Boolean",t)}},valueString:{get:function(){var t="undefined";this.value;return this.type&&"string"==typeof this.type&&(0==this.type.indexOf("String")?t=this.getsmart(this,"thingMutable.String","undefined"):0==this.type.indexOf("Thing")?t=this.getsmart(this,"thingMutable."+this.type,"undefined").toString():0==this.type.indexOf("Array")?t=this.getsmart(this,"thingMutable."+this.type,"undefined").toString():0==this.type.indexOf("Number")?t=this.getsmart(this,"thingMutable.Number","undefined").toString():0==this.type.indexOf("Boolean")&&(t=this.getsmart(this,"thingMutable.Boolean","undefined").toString())),t}},valueShortRender:{get:function(){var t="undefined";this.value;return this.type&&"string"==typeof this.type&&(0==this.type.indexOf("String")?t=this.trunc(this.thingMutable.String)||"undefined":0==this.type.indexOf("Thing")?t="{"+(this.getsmart(this,"thingMutable."+this.type+".title",!1)||"thing")+"}":0==this.type.indexOf("Array")?t="[ "+this.getsmart(this,"thingMutable."+this.type+".length",0)+" ]":0==this.type.indexOf("Number")?t=this.getsmart(this,"thingMutable.Number","undefined").toString():0==this.type.indexOf("Boolean")&&(t=this.getsmart(this,"thingMutable.Boolean","undefined").toString())),t}},type:{get:function(){return this.thingMutable.type},set:function(t){this.$set(this.thingMutable,"type",t)}},typeString:{get:function(){return this.type}},childType:{get:function(){var t=void 0;return"string"==typeof this.type?this.optIn(0,[this.type.indexOf("Thing"),this.type.indexOf("Array")])&&(this.type.length>"Array".length||this.type.length>"Thing".length)&&(t=(t=this.type.split(" "))[t.length-1].replace(/s$/gi,"")):t=void 0,t}},thingDescriptionInputOptions:{get:function(){return{toolbar:{},placeholder:{text:"Start typing to add a description",hideOnClick:!1},targetBlank:!0}}},thingValueInputOptions:{get:function(){var t={toolbar:{},placeholder:{text:"Start typing to express your self",hideOnClick:!1},targetBlank:!0};return"string"==typeof this.getsmart(this.thingMutable,"type",void 0)&&0==this.getsmart(this.thingMutable,"type","").indexOf("Boolean")?t.placeholder.text="Enter either true or false, 0 or 1, yes or no":"string"==typeof this.getsmart(this.thingMutable,"type",void 0)&&0==this.getsmart(this.thingMutable,"type","").indexOf("Number")?t.placeholder.text='Enter any number you want, "500 million" works, so does "negative 900", as does "four times eight"':"string"==typeof this.getsmart(this.thingMutable,"type",void 0)&&0==this.getsmart(this.thingMutable,"type","").indexOf("String")&&(t.placeholder.text="Start typing to enter the text value"),t}},thingTitleInputOptions:{get:function(){return{toolbar:{},placeholder:{text:"Start typing to add a title",hideOnClick:!1},targetBlank:!0}}},editable:{get:function(){var t=this.getsmart(this,"thingMutable.owners",[]).filter(function(t){});return!(0!=t.length&&!this.optIn(this.getsmart(this,"entity._id",void 0),t))}}},components:{}},Re=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"thing"},[t._v(t._s(t.optIn("a lopu dom node",t.getsmartval(t.thing,"properties.names",[]))?t.domval(t.thing):"")),t._l(t.thing.properties,function(e,s){return t.thing.properties&&!t.optIn("a lopu dom node",t.getsmartval(t.thing,"properties.names",[]))&&t.thing.constructor==Object?[i("div",[t._v(t._s(s))]),i("div",[t._v(t._s(e))])]:t._e()})],2)},Ue=[];Re._withStripped=!0;var We=!1;var Qe=function(t){We||(i("Xqri"),i("6RdA"))},Ye=Object(p.a)(Ve,Re,Ue,!1,Qe,"data-v-96789462",null);Ye.options.__file="src/components/object.vue";Ye.exports;var Je={mixins:[I()({vue:{reactiveSetter:!0,vm:"this"}})],data:function(){return{valueMutable:this.value}},sockets:{connect:function(){}},created:function(){},mounted:function(){},methods:{},watch:{},props:{value:{}},computed:{},components:{}},Ze=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"value"},[this._v(this._s(this.valueMutable))])},Xe=[];Ze._withStripped=!0;var Ke=!1;var ti=function(t){Ke||i("xQ5D")},ei=Object(p.a)(Je,Ze,Xe,!1,ti,"data-v-49b03d11",null);ei.options.__file="src/components/value.vue";ei.exports;var ii={mixins:[I()({vue:{reactiveSetter:!0,vm:"this"},objList:"this.thingMutable.things",stringList:"this.thingMutable.properties.mapped.options.Array of Strings"})],data:function(){return{thingMutable:this.thing,entity:this.$store.state.entity,feedback:null,realms:this.$store.state.realms,thingTypes:this.$store.state.thingTypes,types:this.$store.state.types,thingNames:this.$store.state.thingNames,priceUnits:this.$store.state.priceUnits,currencies:this.$store.state.currencies,urls:["http://agora.dev/forum","http://lopu.com.au","http://agora.lopu.com.au"],err:null,alterEgos:[this.$store.state.entity.username?this.$store.state.entity.username:"anonymous","anonymous"],neighboursMutable:this.neighbours,messages:[],funCounter:0,limitMutable:5,loadLimitMutable:5,propertiesLimitMutable:50,propertiesLoadLimitMutable:5,valueLimitMutable:5,valueLoadLimitMutable:5,savesToMutable:this.savesTo,optionsMutable:[],childOptions:[],parentOptionsMutable:this.parentOptions,defaultThingMutable:this.defaultThing,thingMap:void 0,thingMapGeocoder:void 0,thingMapFeatures:{type:"FeatureCollection",features:[]},invGrid:{width:80,invWidth:void 0,padding:"2px 3px"}}},sockets:{connect:function(){},giveThing:function(t){var e=this;if("hmm"==this.thingMutable.uuid&&console.log("got thing %s",Date.now()),this.sameObj(t.thing,this.thingMutable,t))this.thingMutable=t.thing,(t.giveEvent="save")&&this.$emit("saved"),this.mapProperties().then(function(t){e.reinit(),e.popOpt("editing"),e.pushOpt("fetched")}).catch(function(t){console.error(t)}),this.setFeedback(t.feedback);else if(this.isParent(t))if(this.optIn("a lopu inventory generator",this.getsmart(this.thingMutable,"names",[])))"hmm"==this.thingMutable.uuid&&console.log("where we should be"),t.thing.tag="loading",this.setThing({option:t.thing,list:this.gosmart(this,"thingMutable.things",[]),obj:!0,key:["_id","uuid","tag"],keymatchtype:"broad",push:!0,strings:!0}).then(function(e){delete t.thing.tag}).catch(function(t){t&&console.error(t)}),this.optIn("a lopu map",this.getsmart(this.thingMutable,"names",[]))&&this.pushThingFeature(t.thing,"render");else{for(var i=0;i<t.thing.relatives.length;i++)this.optIn(t.thing._id,this.thingMutable[t.thing.relatives[i].path])||this.optIn(t.thing,this.thingMutable[t.thing.relatives[i].path],!0)||this.optIn(t.thing,this.thingMutable[t.thing.relatives[i].path],!0,"uuid")?this.setThing({option:t.thing,list:this.thingMutable[t.thing.relatives[i].path],obj:!0,key:["_id","uuid"],keymatchtype:"broad",strings:!0}):this.optIn(t.thing,this.thingMutable.things,!0),this.thingMutable._id&&this.thingMutable._id.toString()==t.thing.relatives[i].relative&&this.pushOpt(t.thing,this.thingMutable[t.thing.relatives[i].path],!0);this.entity&&this.entity.inventory&&(this.entity.inventory._id==this.thingMutable._id&&void 0!==this.thingMutable._id||this.entity.inventory.uuid==this.thingMutable.uuid&&void 0!==this.thingMutable.uuid)&&this.$store.commit("entityInventorySet",this.thingMutable)}else t.thing.title&&t.thing.title.indexOf("-comments")},giveThings:function(t){this.isParent(t)&&t.returnPath&&(this.setThings({options:t.things,list:this.thingMutable[t.returnPath],obj:!0,strings:!0}),this.mapList(this.thingMutable[t.returnPath]))},confirmThingDeletion:function(t){console.log("wtf"),console.log(this.sameObj(this.getsmart(t,"thing",void 0),this.getsmart(this,"thingMutable",void 0),t)),console.log(t),this.sameObj(this.getsmart(t,"thing",void 0),this.getsmart(this,"thingMutable",void 0),t)&&(this.getsmart(t,"feedback.success",!1)?(this.$emit("remove"),this.setsmart(this,"thingMutable",void 0)):(this.setFeedback(null),this.pushOpt({text:this.getsmart(t,"feedback.message","There was an error deleting this thing from the database"),from:"lopu"},this.messages)))}},created:function(){},mounted:function(){this.isMounted=!0;var t=this;window.onresize=function(){t.addSlotsToInv()},this.create()},methods:{create:function(){this.thingMutable&&"object"===A()(this.thingMutable)?this.reinit():"string"!=typeof this.thingMutable||this.optIn("no-fetch")||(this.getThing({thing:this.thingMutable,parentId:this.parentId,clientId:this._uid,populations:[{path:"properties"}]}),this.thingMutable={_id:this.thingMutable,names:["loading"]});var t=this;setTimeout(function(){t.optIn("loading",t.getsmart(t,"thingMutable.names",[]))},12345),this.setChildOptions()},reinit:function(){var t=this;"hmm"==this.thingMutable.uuid&&console.log("reinitting"),this.parentOptionsMutable=JSON.parse(tt()(this.parentOptions)),this.mapProperties().then(function(e){t.applySchema().then(function(e){t.mapProperties().then(function(e){t.checkPropertiesForOptions(),t.updateOpts(),t.updateThingLocation({loc:"user",overwrite:!1}).then(function(e){if(t.optIn("a lopu inventory generator",t.getsmart(t,"thingMutable.names",[]))&&!t.optIn("gotten")&&!t.getsmart(t,"thingMutable.properties.mapped.dont gen this lopu",!1)){var i=t.generateFind();if(i){for(var s=t.generateFind({piece:"count"}),n=t.generateFind({piece:"options"}),o=(t.getsmart(t,"thingMutable.things.length",0),t.gosmart(t,"thingMutable.things",[])),a=0;a<s;a++){t.pushThing({option:{names:["loading"],uuid:!1,tag:"loading"},list:o})}t.limitMutable=t.limitMutable+s,t.getThings({parentId:t.getsmart(t,"thingMutable._id",t._uid),entity:{_id:t.entity._id},returnPath:"things",find:i,count:s,findOptions:n,stream:!0}),t.pushOpt("gotten"),t.popOpt("regen lopu")}}}).catch(function(t){t&&console.error(t)}),t.optIn("show-comments")&&t.loadComments(),t.optIn("inventory",t.thingMutable.names)&&t.pushOpts(["show inventory","inventory mode"]),t.setChildOptions(),t.resetDefaultThing(),t.addSlotsToInv()}).catch(function(t){t&&console.error(t)})}).catch(function(t){t&&console.error(t)})}).catch(function(t){console.error(t)})},getThing:function(t){this.$socket.emit("getThing",t)},getThings:function(t){console.log("emitting request %s",Date.now()),this.$socket.emit("getThings",t)},addPrice:function(){this.thingMutable.contract?this.thingMutable.contract.push({thing:null,amount:null,multiplier:null,unit:null}):this.$set(this.thingMutable,"contract",[{thing:null,amount:null,multiplier:null,unit:null}])},removePrice:function(t){this.thingMutable.contract.splice(t,1)},updateDescription:function(t){this.setsmart(this,"thingMutable.description",t.api.origElements.innerHTML)},updateTitle:function(t){this.setsmart(this,"thingMutable.title",t.api.origElements.innerHTML)},updateValue:function(t){this.value=t.api.origElements.innerHTML},updateAt:function(t,e,i){console.log(t),console.log(e),console.log(i)},showOptions:function(){this.optIn("icon")||this.optIn("hiding")||this.pushOpt("show options")},showOptionsPerm:function(){this.pushOpts(["show options","focused"]),this.popOpts(["hiding"])},toggleOptions:function(){this.optIn("focused")?this.popOpts(["show options","focused"]):this.optIn("icon")||this.pushOpts(["show options","focused"])},hideOptions:function(){this.popOpts(["show options","focused"]),this.pushOpt("hiding"),setTimeout(this.popOpt("hiding"),4e3)},hideOptionsMaybe:function(){!this.optIn("focused")&&this.optIn("show options")&&this.popOpt("show options")},setFeedback:function(t){this.feedback=t||null},generateFind:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.piece,i=void 0===e?"for":e,s=t.obj,n=void 0===s?this.thingMutable:s;if("object"==(void 0===n?"undefined":A()(n))){if(!i||"for"==i){var o={};if(this.getsmart(n,"properties.mapped.a special lopu regex to match."+this.getsmart(n,"properties.mapped.a special lopu regex to match.type","String"),!1)){var a=this.getsmart(n,"properties.mapped.a special lopu regex to match."+this.getsmart(n,"properties.mapped.a special lopu regex to match.type","String"),void 0),r=a.split(" ");o.realms={$in:r},o.names={$in:r},o.text={regex:!0,value:a,options:"i"},o.description={regex:!0,value:a,options:"i"},o.title={regex:!0,value:a,options:"i"},o.orAllTheThings=!0}else o.realms=this.getsmart(n,"properties.mapped.ignore realms.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.realms to match.Array of Strings.length",0)>0?this.getsmart(n,"properties.mapped.broadly match realms.Boolean",!1)?{$in:this.getsmart(n,"properties.mapped.realms to match.Array of Strings",void 0)}:{$all:this.getsmart(n,"properties.mapped.realms to match.Array of Strings",void 0)}:void 0,o.names=this.getsmart(n,"properties.mapped.ignore names.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.names to match.Array of Strings.length",0)>0?this.getsmart(n,"properties.mapped.broadly match names.Boolean",!1)?{$in:this.getsmart(n,"properties.mapped.names to match.Array of Strings",void 0)}:{$all:this.getsmart(n,"properties.mapped.names to match.Array of Strings",void 0)}:void 0,o.owners=this.getsmart(n,"properties.mapped.ignore owners.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.owners to match.Array of Strings.length",0)>0?this.getsmart(n,"properties.mapped.broadly match owners.Boolean",!1)?{$in:this.getsmart(n,"properties.mapped.owners to match.Array of Strings",void 0)}:{$all:this.getsmart(n,"properties.mapped.owners to match.Array of Strings",void 0)}:void 0,o.text=this.getsmart(n,"properties.mapped.ignore text.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.text to match.String",!1)?this.getsmart(n,"properties.mapped.broadly match text.Boolean",!1)?{regex:!0,value:this.getsmart(n,"properties.mapped.text to match.String",void 0),options:"i"}:this.getsmart(n,"properties.mapped.text to match.String",void 0):void 0,o.description=this.getsmart(n,"properties.mapped.ignore description.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.description to match.String",!1)?this.getsmart(n,"properties.mapped.broadly match description.Boolean",!1)?{regex:!0,value:this.getsmart(n,"properties.mapped.description to match.String",void 0),options:"i"}:this.getsmart(n,"properties.mapped.description to match.String",void 0):void 0,o.title=this.getsmart(n,"properties.mapped.ignore title.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.title to match.String",!1)?this.getsmart(n,"properties.mapped.broadly match title.Boolean",!1)?{regex:!0,value:this.getsmart(n,"properties.mapped.title to match.String",void 0),options:"i"}:this.getsmart(n,"properties.mapped.title to match.String",void 0):void 0,o["geojson.geometry"]=this.getsmart(n,"properties.mapped.ignore location.Boolean",!1)?void 0:this.getsmart(n,"properties.mapped.geojson to match.geojson",!1)?{$near:{$maxDistance:this.getsmart(n,"properties.mapped.broadly match location.Boolean",!1)?1e4*this.getsmart(n,"properties.mapped.geojson search radius.Number",12):1e4,$geometry:this.getsmart(n,"geojson.geometry",void 0)}}:this.getsmart(n,"properties.mapped.use this things location.Boolean",!1)?{$near:{$maxDistance:this.getsmart(n,"properties.mapped.broadly match location.Boolean",!1)?1e3*this.getsmart(n,"properties.mapped.geojson search radius.Number",12):1e4,$geometry:this.getsmart(n,"geojson.geometry",void 0)}}:void 0;return o}if("count"==i)return this.getsmart(n,"properties.mapped.limit.Number",!1)||this.getsmart(n,"properties.mapped.count.Number",5);if("options"==i){var h={};return h.sort=this.getsmart(n,"properties.mapped.sort."+this.getsmart(n,"properties.mapped.sort.type","json"),void 0),h}}return!1},getProperty:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"title",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.gosmart(this,"thingMutable.properties",[]),s=0;s>i.length;s++)if(i[s][e]==t)return i[s]},updateRealmsList:function(t,e){this.$set(this.realms,"searched",null),this.realms.push({key:"searched",realm:t})},genDefaultThing:function(){return"slot"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)?{realms:["inventory slots"],title:"debug",names:["inventory slot"],properties:[{title:"options","Array of Strings":["inventory slot","icon"],type:"Array of Strings"}],owners:[this.entity._id],parents:[this.thingMutable.uuid],uuid:this.$uuid.v4()}:this.optIn("a lopu inventory generator",this.thingMutable.names)?{realms:["new"].concat(this.getsmart(this.thingMutable,"properties.mapped.realms to match.Array of Strings",[])),names:this.getsmart(this.thingMutable,"properties.mapped.names to match.Array of Strings",[]),description:void 0,properties:[{title:"options","Array of Strings":["editing","edited","is-default-thing",this.optIn("shallow adders")?"less padding":null],type:"Array of Strings"}],owners:[this.entity._id],parents:[this.thingMutable],uuid:this.$uuid.v4()}:{realms:["new"],description:void 0,properties:[{title:"options","Array of Strings":["editing","edited","is-default-thing",this.optIn("shallow adders")?"less padding":null],type:"Array of Strings"}],owners:[this.entity._id],parents:[this.thingMutable],uuid:this.$uuid.v4()}},resetDefaultThing:function(){this.defaultThingMutable=this.genDefaultThing()},setChildOptions:function(){this.childOptions=[this.optIn("feed")?"wide":"icon",this.optIn("addable")?"addable":null,this.optIn("slotted")?"in slot":null,this.optIn("shrink slot icons")?"shrink slot icon":null,this.optIn("feed")?null:"inventory item",this.optIn("icon")?"no-fetch":null,this.optIn("show inventory")?"fetch":null,this.optIn("dont load childrens children")?"dont load children":null,this.optIn("dont load children children children")?"dont load childrens children":null,this.optIn("show-children-comments")?"show-comments":null,this.optIn("shallow adders")?"shallow adders":null],this.childOptions=this.childOptions.filter(function(t){return t||0==t})},removeMessage:function(t){this.messages.splice(t,1)},sameObj:function(t,e,i){return!(!t||!e)&&(e&&(i&&this._uid&&this._uid==i.clientId&&(e._id&&e._id==t._id||e.uuid&&e.uuid==t.uuid)||e._id&&e._id==t._id||e.uuid&&e.uuid==t.uuid))},isParent:function(t){return void 0!==t.parentId&&(this.getsmart(this,"thingMutable.uuid",void 0)==t.parentId||this._uid==t.parentId||this.getsmart(this,"thingMutable._id",void 0)==t.parentId)||t.thing&&this.getsmart(t,"thing.relatives",[])&&this.getsmart(this,"thingMutable._id",!1)&&this.optIn({path:"parents",relative:this.getsmart(this,"thingMutable._id",{toString:function(){}}).toString()},this.getsmart(t,"thing.relatives",[]),!0,["relative","path"])},thingCleaned:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return{_id:t._id,uuid:t.uuid,title:t.title,description:t.description}},valueToAThing:function(t){if(this.getsmart(t,"constructor",void 0)!==Object){var e={type:this.childType,names:["a lopu value"]};return e[this.childType]=t,e}return this.getsmart(t,"constructor",void 0),Object,t},firstOrLast:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"thing";return!(0!=t&&!t||!e||!i)&&((0!=t||1!=e&&1!=i.length)&&(0==t?"first-"+s:t<=e&&t==i.length-1||t==e-1?"last-"+s:"mid-"+s))},osxTrunc:function(t){if("string"==typeof t){var e=t.replace(/&nbsp;/g," ");if(e.replace(/^\s+|\s+$/g,"").length>26){var i=e.replace(/&nbsp;/g," ").replace(/\s+$/g,"").substr(-8).replace(/^\s+/g,"");return e.replace(/&nbsp;/g," ").substr(0,19).replace(/\s+$/g,"")+"..."+i}return t}},trunc:function(t){if("string"==typeof t){var e=t.replace(/&nbsp;/g," ");return e.replace(/^\s+|\s+$/g,"").length>26?e.replace(/&nbsp;/g," ").substr(0,26).replace(/\s+$/g,"")+"..":t}},updateOpts:function(){var t=this;return new P.a(function(e,i){t.getsmart(t,"thingMutable.properties.mapped.options",!1)?(t.pushOpts(t.parentOptionsMutable.filter(function(e){return t.getsmart(t,"thingMutable.properties.mapped.options.Array of Strings",[]).indexOf("ignore client option "+e)<0&&(e||0==e)})),t.parentOptionsMutable=[],e(!0)):t.mapList(t.gosmart(t,"thingMutable.properties",[]),"title","options").then(function(i){if(i)e(t.updateOpts());else{var s=t.gosmart(t,"thingMutable.properties",[]);t.pushThing({option:{title:"options","Array of Strings":[],type:"Array of Strings"},list:s,obj:!0,key:"title"}),e(t.updateOpts())}}).catch(function(t){console.error(t),i(t)})})},checkPropertiesForOptions:function(){if(this.gosmart(this,"thingMutable.properties",[]).constructor==Array){var t=!0,e=!1,i=void 0;try{for(var s,n=L()(this.thingMutable.properties);!(t=(s=n.next()).done);t=!0){var o=s.value;"things render limit"==o.title&&(this.limitMutable=o[o.type||"Number"]||5),this.pushOpt(o.title)}}catch(t){e=!0,i=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw i}}}},addSlotsToInv:function(t){var e=this,i=Math.floor(this.getsmart(this,"$refs.inventory-list-container.offsetWidth",558))-2,s=93;if(this.invGrid.invWidth==i&&i<93);else if(this.optIn("slotted")){if(i%s>s/3)for(;i%s>7;)s--;else for(;i%s>7;)s++;if(this.invGrid.width=s,this.invGrid.invWidth=Math.floor(i/s)*s,this.optIn("generate slots")){var n=this.gosmart(this,"thingMutable.things",[]),o=4*Math.floor(i/s);if(o=o<this.limitMutable?this.limitMutable:o,n.length<o){for(var a=o-n.length,r=function(){var t=e.genDefaultThing("slot");e.mapList(e.setsmart(t,"properties",e.getsmart(t,"properties",[]))).then(function(e){n.push(t)}).catch(function(t){console.error(t)})},h=0;h<a;h++)r();this.limitMutable=o}else n.length>=o&&(this.limitMutable=o)}}},noValids:function(t){if(t&&t.length){for(var e=0;e<t.length;e++)if(!t[e])return!0;return!1}return!0},applySchema:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getsmart(this,"schema",void 0),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getsmart(this,"thingMutable",void 0);return new P.a(function(s,n){e&&i?"string"==typeof e?s(!1):"string"!=typeof i?e.properties?t.mapList(e.properties,"title",void 0,!0).then(function(n){n?(e.properties.forEach(function(e,s){if("string"==typeof t.getsmart(e,"title","")&&t.getsmart(e,"title","").indexOf(" schema")>=0){var n=t.getsmart(e,e.type,!1);if(n){if(n.constructor==Array)if(!0===t.getsmartvalue(e,"properties","merge",!1))for(var o=0;o<n.length;o++)t.pushThing({option:n[o],list:t.gosmartvalue(i,e.title.replace(" schema",""),[])});t.setsmart(i,e.title.replace(" schema",""),t.jsmart.parse(t.jsmart.stringify(n)))}}}),s(!0)):s(!1)}).catch(function(t){t&&console.error(t)}):s(!0):s(!1):s(!(e||!i))})},pushChildThing:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMutable.things",[]);this.pushOpt(t,e,!0,"_id"),this.mapThings(),this.mapThings("title",t.properties)},saveThing:function(){this.pushOpt(this.entity._id,this.gosmart(this,"thingMutable.owners",[])),this.savesToMutable&&(this.getsmart(this,"savesToMutable.properties.#"),this.pushOpts(this.savesToMutable,this.gosmart(this,"thingMutable.parents",[]))),this.thingMutable.clientId=this._uid;var t={thing:this.thingMutable,clientId:this._uid,entity:this.entity};this.$socket.emit("saveThing",t)},forkThing:function(){},referenceThing:function(){},deleteThing:function(t,e){if(1==t)if("object"!=A()(this.thingMutable)||this.thingMutable._id){var i={thing:this.thingMutable,clientId:this._uid,entity:this.entity};this.$socket.emit("deleteThing",i),this.setFeedback(null)}else this.$emit("remove"),this.setsmart(this,"thingMutable",void 0),this.setFeedback(null);else this.setFeedback({message:"Are you sure you want to delete this?",type:"delete"})},deleteChildThing:function(t,e){(t||0==t)&&e&&this.getsmart(this,"thingMutable."+e,!1)&&this.gosmart(this,"thingMutable."+e,[]).splice(t,1)},savedChildThing:function(t){this.optsIn(["a lopu inventory generator","a lopu map"],this.getsmart(this.thingMutable,"names",[]))&&this.renderThingsOnMap()},addNewChildThing:function(){var t=this.genDefaultThing(),e=this.gosmart(this,"thingMutable.things",[]);this.limitMutable=this.limitMutable+1,e.push(t),this.updateThingLocation({thing:t,loc:"map"})},addNewProperty:function(){var t={names:["property"],owners:[this.entity._id],parents:[this.thingMutable._id],uuid:this.$uuid.v4()};this.propertiesLimitMutable=this.propertiesLimitMutable+1,this.gosmart(this,"thingMutable.properties",[]).push(t)},addNewValue:function(){if(this.getsmart(this,"thingMutable.type",void 0)){if("String"==this.childType)var t="new string";else t={names:["a lopu value"],owners:[this.entity._id],parents:[this.thingMutable._id],uuid:this.$uuid.v4(),type:this.childType};this.valueLimitMutable=this.valueLimitMutable+1,this.gosmart(this,"thingMutable."+this.getsmart(this,"thingMutable.type",void 0),[]).push(t)}},updateType:function(t){this.type=t},mapInventory:function(t,e,i){if("object"==(void 0===t?"undefined":A()(t))&&t.things){var s=!0,n=!1,o=void 0;try{for(var a,r=L()(t.things);!(s=(a=r.next()).done);s=!0){var h=a.value;t.thing&&(e[h.thing]=h,this.mapInventory(h,e[h.thing],i++))}}catch(t){n=!0,o=t}finally{try{!s&&r.return&&r.return()}finally{if(n)throw o}}}},mapList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"title",i=this,s=arguments[2],n=arguments[3];return new P.a(function(o,a){if(e){if(t){t.mapped&&"boolean"!=typeof t.mapped||i.$set(t,"mapped",{}),0==t.length&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o());for(var r=0;r<t.length;r++)if("string"!=typeof t[r])i.$set(t.mapped,t[r][e],t[r]),r==t.length-1&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o());else if(n){var h=i.funCounter;i.funCounter=i.funCounter+1,i.getThing({thing:t[r],clientId:i._uid,funCounter:h}),i.$options.sockets.giveThing=function(n){i._uid==n.clientId&&n.funCounter==h&&(i.$set(t,r.toString(),n.thing),i.$set(t.mapped,t[r][e],t[r])),r==t.length-1&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o())}}else r==t.length-1&&(s&&i.getsmart(t,"mapped."+s,!1)||!s?o(!0):s?o(!1):o())}}else a()})},mapThings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"title",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMutable.things",[]);return this.mapList(e,t)},mapProperties:function(){return this.mapList(this.gosmart(this,"thingMutable.properties",[]),"title")},loadComments:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all");this.optIn("comments-loaded")||"all"==e&&this.populateThings({rules:{title:{regex:!0,value:"-comments"}},returnPath:"things"}).then(function(){t.compileComments()})},compileComments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this,"thingMutable.things",[]);t.mapped["all-comments"]||(t.push({title:"all-comments",things:[],parents:[this.thingMutable._id],owners:[],properties:[{title:"things render limit",Number:0,names:["a lopu client option"]},{title:"uniques","Array of Strings":["title"],type:"Array of Strings"}],uuid:this.$uuid.v4()}),this.mapList(t)),t.mapped["this lopus comments"]||(t.push({title:"this lopus comments",things:[],parents:[this.thingMutable._id],owners:[],properties:[{title:"things render limit",Number:5,names:["a lopu client option"]},{title:"uniques","Array of Strings":["title"],type:"Array of Strings"}],uuid:this.$uuid.v4()}),this.mapList(t));var e=!0,i=!1,s=void 0;try{for(var n,o=L()(t);!(e=(n=o.next()).done);e=!0){var a=n.value;a.title&&a.title.indexOf("comments")>=0&&"all-comments"!==a.title&&this.pushOpts(a.things,t.mapped["all-comments"].things)}}catch(t){i=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw s}}this.pushOpt("comments-loaded")},populateThings:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.things,s=void 0===i?this.gosmart(this,"thingMutable.things",[]):i,n=e.returnPath,o=void 0===n?"things":n,a=e.funCounter,r=void 0===a?this.funCounter:a,h=e.rules,l=void 0===h?void 0:h;return this.funCounter++,new P.a(function(e,i){t.$socket.emit("populateThings",{things:s,parentId:t.thingMutable._id||t.thingMutable.uuid||t._uid,returnPath:o,rules:l,funCounter:r,sort:"inception"}),t.$options.sockets.giveThings=function(i){t.isParent(i)&&i.funCounter==r&&t.setThings({options:i.things,list:t.gosmart(t,"thingMutable."+i.returnPath,[]),obj:!0,strings:!0}).then(function(){t.mapList(t.gosmart(t,"thingMutable."+i.returnPath,[])).then(function(){e()})})}})},populate:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.things,s=void 0===i?this.gosmart(this,"thingMutable.things",[]):i,n=e.returnPath,o=void 0===n?"things":n,a=e.funCounter,r=void 0===a?this.funCounter:a,h=e.rules,l=void 0===h?void 0:h;return this.funCounter++,new P.a(function(e,i){t.$socket.emit("populateThings",{things:s,parentId:t.thingMutable._id||t.thingMutable.uuid||t._uid,returnPath:o,rules:l,funCounter:r,sort:"inception"});t.$options.sockets.giveThings=function(s){t.isParent(s)&&s.funCounter==r?t.setThings({options:s.things,list:t.gosmart(t,"thingMutable."+s.returnPath,[]),obj:!0,strings:!0}).then(function(){e()}).catch(function(){i()}):e()}})},locationInitialized:function(t){var e=this,i=new MapboxGeocoder({accessToken:mapboxgl.accessToken});this.thingMapGeocoder=i,t.addControl(i),this.thingMap=t,t.on("load",function(){t.addSource("things",{type:"geojson",data:e.thingMapFeatures}),e.updateGeoSearchValue(),e.listenForDragEvents(t)})},listenForDragEvents:function(t){var e,i=this;t.on("move",function(){clearTimeout(e),e=setTimeout(function(){i.updateGeoSearchValue()},500)})},updateThingLocation:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.thing,s=void 0===i?this.thingMutable:i,n=e.loc,o=void 0===n?"user":n,a=e.overwrite,r=void 0===a||a;return new P.a(function(e,i){t.getsmart(s,"geojson",!1)?e(!1):"user"==o?navigator.geolocation&&(r||t.getsmart(s,"geojson",!0))?navigator.geolocation.getCurrentPosition(function(i){t.$set(s,"geojson",t.tryGeojson(i)),e(!0)},function(t){t&&console.error(t),e(!1)}):e(!1):"map"==o&&(r||t.getsmart(s,"geojson",!0))?t.optIn("locationSet")&&t.sameObj(s,t.thingMutable)?(t.popOpt("locationSet"),t.removeMarker(),e(!1)):t.updateGeoSearchValue(s).then(function(i){i?(s.geojson=i,t.pushOpt("locationSet"),t.optsIn(["a lopu inventory generator","a lopu map"],t.gosmart(t.thingMutable,"names",[]))?(t.sameObj(s,t.thingMutable)||t.pushThingFeature(s,"render"),e(!0)):(t.pushThingFeature(s,"render"),e(!0))):e(!1)}).catch(function(t){console.error(t),i(t)}):e(!1)})},thingMapboxCoords:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return[this.findCoord("lng",t),this.findCoord("lat",t)]},thingLCoords:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return[this.findCoord("lat",t),this.findCoord("lng",t)]},findCoord:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.thingMutable;return"lng"==t?this.getsmart(e,"geojson.geometry.coordinates.0",this.getsmart(e,"geojson.coords.longitude",145.1794972)):"lat"==t?this.getsmart(e,"geojson.geometry.coordinates.1",this.getsmart(e,"geojson.coords.latitude",-37.9831522)):void 0},pushThingFeature:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.getsmart(this.thingMapFeatures,"features",void 0);if(s){var n=this.thingToFeature(e);this.setThing({option:n,list:s,obj:!0,key:["properties.thing._id","properties.thing.uuid"],targets:["properties.thing","geometry"],keymatchtype:"broad",push:!0}).then(function(e){t.getsmart(t,"thingMap.getSource",!1)&&t.thingMap.getSource("things")&&t.thingMap.getSource("things").setData(t.thingMapFeatures),i&&t.renderFeatureMarker(e,s)})}},removeMarker:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMapFeatures.features",[]),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.thingMutable;if(t){var s=this.getsmart(e[t],"properties.el",void 0);s&&s.parentNode&&s.parentNode.removeChild(s)}else for(var n=0;n<e.length;n++)if(this.sameObj(this.getsmart(e[n],"properties.thing",void 0),i)){var o=e[n].properties.el;o&&o.parentNode&&o.parentNode.removeChild(o)}},renderFeatureMarker:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gosmart(this,"thingMapFeatures.features",[]);if(e&&e[t]&&this.thingMap){this.removeMarker(t,e);var i=document.createElement("div");i.className="marker";var s=document.createElement("img");i.appendChild(s);var n=this.getsmart(e[t],"properties.thing.description",this.getsmart(e[t],"properties.thing.uuid",void 0));if(n){var o=document.createTextNode(n);i.appendChild(o)}s.src="../static/svg/thingMarker.svg",e[t].properties.el=i,new mapboxgl.Marker(i,{offset:[0,-15]}).setLngLat(e[t].geometry.coordinates).addTo(this.thingMap)}},renderFeatureMarkers:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this,"thingMapFeatures.features",[]),e=0;e<t.length;e++)this.renderFeatureMarker(e,t)},thingToFeature:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return{type:"Feature",geometry:{type:"Point",coordinates:this.thingMapboxCoords(t)},properties:{thing:this.thingCleaned(t)}}},updateGeoSearchValue:function(){var t=this;arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.thingMutable;return new P.a(function(e,i){t.getMapCentreAddress().then(function(i){i&&(t.thingMapGeocoder._inputEl.value=i.place_name),e(i)}).catch(function(t){t&&console.error(t)})})},getMapCentreAddress:function(){var t=this;return new P.a(function(e,i){if(t.thingMap){var s="https://api.mapbox.com/geocoding/v5/mapbox.places/"+t.thingMap.getCenter().lng+","+t.thingMap.getCenter().lat+".json?access_token="+mapboxgl.accessToken+"&types=address";t.$http.get(s).then(function(t){e(t.body.features[0])}).catch(function(t){console.error(t),i(t)})}else i()})},tryGeojson:function(t){return this.getsmart(t,"coords",void 0)&&this.getsmart(t,"coords.latitude",void 0)&&this.getsmart(t,"coords.longitude",void 0)?{center:[this.getsmart(t,"coords.longitude",145.179286),this.getsmart(t,"coords.latitude",-37.983109)],geometry:{coordinates:[this.getsmart(t,"coords.longitude",145.179286),this.getsmart(t,"coords.latitude",-37.983109)],type:"Point"}}:t},renderThingsOnMap:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this.thingMutable,"things",[]);e&&this.convertListToFeatures(e).then(function(){t.renderFeatureMarkers()})},convertListToFeatures:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gosmart(this.thingMutable,"things",[]);return new P.a(function(i,s){if(e)for(var n=0;n<e.length;n++)t.pushThingFeature(e[n]),n==e.length-1&&i();else s()})}},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity},"$store.state.realms":function(){this.realms=this.$store.state.realms},"$store.state.thingTypes":function(){this.thingTypes=this.$store.state.thingTypes},"$store.state.thingNames":function(){this.thingNames=this.$store.state.thingNames},"$store.state.priceUnits":function(){this.priceUnits=this.$store.state.priceUnits},"$store.state.currencies":function(){this.currencies=this.$store.state.currencies},thing:function(){this.sameObj(this.thing,this.thingMutable)?this.sameObj(this.thing,this.thingMutable):(this.setsmart(this,"thingMutable",this.thing),this.create())},"thing.properties":function(){console.log("hmm"),this.sameObj(this.thing,this.thingMutable)&&this.getsmart(this.thing,"names",[]).includes("a lopu inventory generator")&&!this.optIn("gotten")&&this.optIn("regen lopu")&&(this.popOpt("regen lopu"),console.log("woo"),this.reinit())},thingMutable:function(){var t=this,e=this;this.thingMutable&&(this.mapThings(),this.resetDefaultThing(),this.mapProperties().then(function(e){t.resetDefaultThing(),t.updateOpts()}),setTimeout(function(){e.optIn("loading",e.getsmart(e,"thingMutable.names",[]))&&e.pushOpt("waiting-hidden",e.getsmart(e,"thingMutable.names",[]))},6e3),this.entity&&this.entity.inventory&&(this.entity.inventory._id==this.thingMutable._id&&void 0!==this.thingMutable._id||this.entity.inventory.uuid==this.thingMutable.uuid&&void 0!==this.thingMutable.uuid)&&this.$store.commit("entityInventorySet",this.thingMutable))},"thingMutable.properties.mapped.options.Array of Strings":function(){this.optIn("show inventory")?(this.popOpt("no-fetch",this.childOptions),this.pushOpt("fetch",this.childOptions),this.optIn("watched-inv")||this.addSlotsToInv(),this.pushOpt("watched-inv")):this.popOpt("watched-inv")},optionsMutable:function(){},parentOptions:function(){this.optIn("no-fetch",this.parentOptionsMutable)||this.optIn("fetched")||!this.optIn("fetch",this.parentOptionsMutable)||(this.popOpt("no-fetch"),this.create())}},props:{thing:{default:function(){return["a","b",{c:"d"}]}},title:String,source:{},defaultThing:{default:function(){}},neighbours:{default:function(){return[]}},parentId:{},index:{},options:{type:Array,default:function(){return[]}},parentOptions:{type:Array,default:function(){return[]}},theme:{default:"reddit",type:String},fieldsDraft:{default:function(){}},requiredRealms:{default:function(){return[{realm:"all"}]}},limit:{type:Number,default:50},loadLimit:{type:Number,default:5},savesTo:{default:void 0},schema:{}},computed:{thingComputed:{get:function(){return this.thing||{description:"",parents:[this.parentId],names:["new"]}}},fieldsComputed:{get:function(){return this.fieldsDraft||{title:null,description:this.getsmart(this,"thingMutable.description",""),owners:[this.$store.state.entity._id],ownerAlias:this.$store.state.entity.username,realms:null,names:null,url:null,parents:this.getsmart(this,"thingMutable.parents",[])}}},value:{get:function(){var t=void 0;return this.type&&"string"==typeof this.type&&(0==this.type.indexOf("String")?t=this.thingMutable.String:0==this.type.indexOf("Thing")?t=this.thingMutable[this.type]:0==this.type.indexOf("Array")?t=this.thingMutable[this.type]:0==this.type.indexOf("Number")?t=this.thingMutable.Number:0==this.type.indexOf("Boolean")&&(t=this.thingMutable.Boolean)),t},set:function(t){if("string"==typeof t&&"string"==typeof this.type)if(0==this.type.indexOf("String"))this.$set(this.thingMutable,"String",t);else if(0==this.type.indexOf("Thing"))this.$set(this.thingMutable,this.type,t);else if(0==this.type.indexOf("Array"))this.$set(this.thingMutable,this.type,t);else if(0==this.type.indexOf("Number")){var e=parseInt(t);this.$set(this.thingMutable,"Number",e)}else 0==this.type.indexOf("Boolean")&&this.$set(this.thingMutable,"Boolean",t)}},valueString:{get:function(){var t="undefined";this.value;return this.type&&"string"==typeof this.type&&(0==this.type.indexOf("String")?t=this.getsmart(this,"thingMutable.String","undefined"):0==this.type.indexOf("Thing")?t=this.getsmart(this,"thingMutable."+this.type,"undefined").toString():0==this.type.indexOf("Array")?t=this.getsmart(this,"thingMutable."+this.type,"undefined").toString():0==this.type.indexOf("Number")?t=this.getsmart(this,"thingMutable.Number","undefined").toString():0==this.type.indexOf("Boolean")&&(t=this.getsmart(this,"thingMutable.Boolean","undefined").toString())),t}},valueShortRender:{get:function(){var t="undefined";this.value;return this.type&&"string"==typeof this.type&&(0==this.type.indexOf("String")?t=this.trunc(this.thingMutable.String)||"undefined":0==this.type.indexOf("Thing")?t="{"+(this.getsmart(this,"thingMutable."+this.type+".title",!1)||"thing")+"}":0==this.type.indexOf("Array")?t="[ "+this.getsmart(this,"thingMutable."+this.type+".length",0)+" ]":0==this.type.indexOf("Number")?t=this.getsmart(this,"thingMutable.Number","undefined").toString():0==this.type.indexOf("Boolean")&&(t=this.getsmart(this,"thingMutable.Boolean","undefined").toString())),t}},type:{get:function(){return this.thingMutable.type},set:function(t){this.$set(this.thingMutable,"type",t)}},typeString:{get:function(){return this.type}},childType:{get:function(){var t=void 0;return"string"==typeof this.type?this.optIn(0,[this.type.indexOf("Thing"),this.type.indexOf("Array")])&&(this.type.length>"Array".length||this.type.length>"Thing".length)&&(t=(t=this.type.split(" "))[t.length-1].replace(/s$/gi,"")):t=void 0,t}},thingDescriptionInputOptions:{get:function(){return{toolbar:{},placeholder:{text:"Start typing to add a description",hideOnClick:!1},targetBlank:!0}}},thingValueInputOptions:{get:function(){var t={toolbar:{},placeholder:{text:"Start typing to express your self",hideOnClick:!1},targetBlank:!0};return"string"==typeof this.getsmart(this.thingMutable,"type",void 0)&&0==this.getsmart(this.thingMutable,"type","").indexOf("Boolean")?t.placeholder.text="Enter either true or false, 0 or 1, yes or no":"string"==typeof this.getsmart(this.thingMutable,"type",void 0)&&0==this.getsmart(this.thingMutable,"type","").indexOf("Number")?t.placeholder.text='Enter any number you want, "500 million" works, so does "negative 900", as does "four times eight"':"string"==typeof this.getsmart(this.thingMutable,"type",void 0)&&0==this.getsmart(this.thingMutable,"type","").indexOf("String")&&(t.placeholder.text="Start typing to enter the text value"),t}},thingTitleInputOptions:{get:function(){return{toolbar:{},placeholder:{text:"Start typing to add a title",hideOnClick:!1},targetBlank:!0}}},editable:{get:function(){var t=this.getsmart(this,"thingMutable.owners",[]).filter(function(t){});return!(0!=t.length&&!this.optIn(this.getsmart(this,"entity._id",void 0),t))}}},components:{}},si=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"thing"},[t._v(t._s(t.optIn("a lopu dom node",t.getsmartval(t.thing,"properties.names",[]))?t.domval(t.thing):"")),t._l(t.thing,function(t){return[i("value",{attrs:{value:t}})]})],2)},ni=[];si._withStripped=!0;var oi=!1;var ai=function(t){oi||(i("2ean"),i("N8CD"))},ri=Object(p.a)(ii,si,ni,!1,ai,"data-v-226569f9",null);ri.options.__file="src/components/array.vue";ri.exports;var hi={name:"planetExpress-comp",mixins:[I()({vue:{reactiveSetter:!0,vm:"this"}})],data:function(){return{uuid:this.$uuid.v4(),currentMap:{names:["courier map"],properties:[{title:"options",type:"Array of Strings","Array of Strings":["show map","no options","hide description"]}]},addresses:this.$store.getters.latestCached,mapboxglAccessToken:"pk.eyJ1IjoibG9wdSIsImEiOiJjamFydTVhc3QxNjRtMzNwaHEzNmJ1bW0zIn0.Wm7f-1eyd7K5AT3WN7fRDw",funCounter:1,interactionStarted:this.$store.state.interactionStarted}},sockets:{connect:function(){},giveUniqueName:function(t){}},created:function(){var t=this;0==this.addresses.length&&(this.addAddress({addressType:"addresses"}),this.addAddress({addressType:"addresses"})),navigator.geolocation&&!this.pickupAddress&&navigator.geolocation.getCurrentPosition(function(e){t.getAddressFromCoords(e.coords.longitude,e.coords.latitude).then(function(e){t.setsmart(t,"addresses.0.address",e),t.$store.commit("interactionStarted",!0)}).catch(function(t){console.error(t)})})},methods:{cacheCurrentAddresses:function(){this.$store.commit("addCachedState",this.addresses)},addAddress:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.address,i=void 0===e?{address:void 0,goods:{},uuid:this.$uuid.v4()}:e,s=t.actionSource;i&&((this.interactionStarted||"user"!==s)&&(this.pushThing({option:i,list:this.gosmart(this,"addresses",[]),obj:!0,keys:["uuid","address"]}),this.cacheCurrentAddresses()),"user"==s&&this.$store.commit("interactionStarted",!0))},removeAddress:function(t,e,i){var s=this;t&&(e||0==e)&&(void 0!==t.address?t.address=void 0:this.addresses.length<=1&&0==this.getsmart(t,"goods.pickup.length",0)&&0==this.getsmart(t,"goods.dropoff.length",0)&&void 0==t.address?this.$q.dialog({title:"Message",message:"Sorry but you can't remove the last empty address",ok:"got it"}):this.$q.dialog({title:"Warning",message:"This will remove the whole stop including all pickups and dropoffs",ok:"got it",cancel:"no no no no"}).then(function(){s.addresses.splice(e,1),s.$q.notify({message:"easy",timeout:1e3})}).catch(function(){s.$q.notify({message:"that was lucky ;)",timeout:1e3})}),this.$store.commit("interactionStarted",!0),this.cacheCurrentAddresses())},addGood:function(t,e,i){var s=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.funCounter;if(!t){this.funCounter++;var o={name:t,address:e,addressType:i,funCounter:n};this.$socket.emit("getUniqueName",o),this.$options.sockets.giveUniqueName=function(t){if(t.funCounter==n){var i={name:t.name,uuid:t.uuid};s.setsmart(i,t.addressType,e),console.log("adding good"),console.log("data"),console.log(t),console.log("address"),console.log(e),s.setThing({option:i,list:s.gosmart(e,"goods."+t.addressType,[]),obj:"debug",keys:["uuid"],push:!0}),s.cacheCurrentAddresses()}}}},removeGood:function(t,e,i){t&&e&&i&&(console.log("removing"),this.popThing({option:t,list:this.gosmart(e,"goods."+i,[]),keys:["uuid","_id"],keymatchtype:"broad"}),this.cacheCurrentAddresses())},tryGeojson:function(t){return this.getsmart(t,"coords",void 0)&&this.getsmart(t,"coords.latitude",void 0)&&this.getsmart(t,"coords.longitude",void 0)?{center:[this.getsmart(t,"coords.longitude",145.179286),this.getsmart(t,"coords.latitude",-37.983109)],geometry:{coordinates:[this.getsmart(t,"coords.longitude",145.179286),this.getsmart(t,"coords.latitude",-37.983109)],type:"Point"}}:t},getAddressFromCoords:function(t,e){var i=this;return new P.a(function(s,n){var o="https://api.mapbox.com/geocoding/v5/mapbox.places/"+t+","+e+".json?access_token="+i.mapboxglAccessToken+"&types=address";i.$http.get(o).then(function(t){s(t.body.features[0].place_name)}).catch(function(t){console.error(t),n(t)})})},autoCompleteAddress:function(t){var e=this;return new P.a(function(i,s){var n="https://api.mapbox.com/geocoding/v5/mapbox.places/"+t+".json?access_token="+e.mapboxglAccessToken+"&types=address";e.$http.get(n).then(function(t){i(t.body.features)}).catch(function(t){console.error(t),s(t)})})},searchAddress:function(t,e){this.autoCompleteAddress(t).then(function(t){for(var i=[],s=0;s<t.length;s++)i.push({label:t[s].place_name});e(i)}).catch(function(t){console.error(t)})},selectAddress:function(t,e,i,s){t&&(e||0==e)&&i&&(this.setsmart(this,i+"."+e+".address",t.label),this.interactionStarted||this.$store.commit("interactionStarted",!0))}},computed:{},props:{siteTitle:{}},components:{thing:rt},watch:{addresses:function(){0==this.addresses.length&&this.addAddress(),this.cacheCurrentAddresses()}},route:{canActivate:function(){return!0}}},li=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",[i("div",{staticClass:"planetExpress fit"},[i("div",{staticClass:"splash-container"},[i("div",{staticClass:"splash-positioner"},[i("div",{staticClass:"splash"},[i("div",{staticClass:"particles-container"},[i("div",{staticClass:"particles-positioner"},[i("div",{staticClass:"particles"},[i("vue-particles",{staticClass:"vue-particles",attrs:{moveSpeed:2.5,shapeType:"star",color:"#FFF",opacity:.7,particlesNumber:35,particleSize:4,lineLinked:!1}})],1)])]),i("div",{staticClass:"particles-container"},[i("div",{staticClass:"particles-positioner"},[i("div",{staticClass:"particles"},[i("vue-particles",{staticClass:"vue-particles",attrs:{moveSpeed:2,shapeType:"image",image:{src:"/assets/pixel-ship.png"},particlesNumber:3,particleSize:30}})],1)])]),i("div",{staticClass:"search-container"},[i("div",{staticClass:"search-positioner"},[i("div",{staticClass:"search"},[i("div",{staticClass:"addresses-container"},[i("div",{staticClass:"addresses-positioner"},[i("div",{staticClass:"addresses"},[t._l(t.addresses,function(e,s){return i("div",{staticClass:"address-container"},[0==s||t.interactionStarted?i("div",{staticClass:"address-positioner"},[i("div",{staticClass:"address"},[i("q-chip",{staticClass:"z-top q-chip-delete q-chip-address-delete",attrs:{floating:!0,color:"negative",small:"small"},on:{click:function(i){t.removeAddress(e,s)}}},[i("q-icon",{attrs:{name:"close",size:".9rem"}})],1),i("q-search",{staticClass:"bg-primary bg-white q-if-inverted",attrs:{placeholder:0==s?"What's your first address?":"Where else?  We'll reorganize for efficiency","float-label":0==s?"First Address?":"Next?"},model:{value:e.address,callback:function(i){t.$set(e,"address",i)},expression:"address.address"}},[i("q-autocomplete",{on:{search:t.searchAddress,selected:function(e){return t.selectAddress(e,s,"addresses")}}})],1),i("div",{staticClass:"all-goods-container"},[i("div",{staticClass:"all-goods-positioner"},[i("div",{staticClass:"all-goods"},t._l(["pickup","dropoff"],function(s){return i("div",{staticClass:"goods-container"},[i("div",{staticClass:"goods-positioner"},[i("draggable",{staticClass:"goods",attrs:{options:{group:{name:"goods",pull:"clone"}}},on:{end:t.cacheCurrentAddresses},model:{value:e.goods[s],callback:function(i){t.$set(e.goods,s,i)},expression:"address.goods[actionType]"}},[t._l(t.gosmart(e,"goods."+s,[]),function(n){return i("div",{staticClass:"good"},[i("img",{attrs:{src:"assets/box.png"}}),i("q-chip",{staticClass:"z-top q-chip-delete q-chip-good-delete",attrs:{floating:!0,color:"negative",small:"small"},on:{click:function(i){t.removeGood(n,e,s)}}},[i("q-icon",{attrs:{name:"close",size:".9rem"}})],1),i("div",{staticClass:"good-name-container"},[i("div",{staticClass:"good-name-positioner"},[i("div",{staticClass:"good-name"},[t._v(t._s(n.name))])])])],1)}),t.gosmart(e,"goods."+s,[]).length<1?i("div",{staticClass:"good placeholder",attrs:{slot:"footer"},slot:"footer"},[i("img",{style:{opacity:.5},attrs:{src:"assets/box.png"}})]):t._e(),i("div",{staticClass:"add-good",attrs:{slot:"footer"},on:{click:function(i){t.addGood(!1,e,s)}},slot:"footer"},[i("q-btn",{staticClass:"shadow-3 text-primary",attrs:{size:"md",color:"white",label:"add "+s+" box"}})],1)],2)],1)])}))])])],1)]):t._e()])}),i("div",{staticClass:"additional-actions-container"},[i("div",{staticClass:"additional-actions-positioner"},[i("div",{staticClass:"additional-actions"},[i("div",{staticClass:"addition-action-container"},[i("div",{staticClass:"additional-action-positioner"},[i("div",{staticClass:"addition-action"},[i("q-btn",{staticClass:"add-address-btn",attrs:{color:"secondary",size:"sm",push:"push"},on:{click:function(e){t.addAddress({addressType:"addresses",actionSource:"user"})}}},[t._v("Add another stop")])],1)])]),i("div",{staticClass:"addition-action-container"},[i("div",{staticClass:"additional-action-positioner"},[i("div",{staticClass:"addition-action q-pt-md"},[i("q-btn",{staticClass:"full-width",attrs:{color:"secondary","text-color":"white",size:"md",push:"push"}},[t._v("Lets go!                         ")])],1)])])])])])],2)])])])])])])])])])])},pi=[];li._withStripped=!0;var ui=!1;var ci=function(t){ui||(i("fA3p"),i("NhDD"))},di=Object(p.a)(hi,li,pi,!1,ci,null,null);di.options.__file="src/components/planetExpress.vue";var gi=di.exports,mi=function(){var t=this.$createElement;this._self._c;return this._m(0)},vi=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"test1"},[e("div",{staticClass:"text"},[this._v("woo hoo")])])}];mi._withStripped=!0;var fi=!1;var yi=function(t){fi||i("3In9")},bi=Object(p.a)({name:"test1-comp",data:function(){return{uuid:this._uid}},sockets:{connect:function(){}},created:function(){},methods:{},props:{siteTitle:{}},components:{},watch:{},route:{canActivate:function(){return!0}}},mi,vi,!1,yi,"data-v-2e66127f",null);bi.options.__file="src/components/test1.vue";bi.exports;var Mi=[{path:"/(|home)",name:"planetExpress",component:gi},{path:"*",component:function(){return i.e(0).then(i.bind(null,"c5Mg"))}}];o.a.use(R.a);var wi=new R.a({mode:"history",base:"/",scrollBehavior:function(){return{y:0}},routes:Mi}),Ci=i("424j"),Ii=i("iFDT"),_i=i.n(Ii);o.a.use(Me.a);var Ti=new Me.a.Store({state:{isAuthenticated:!1,entity:{type:"temporary",identity:"anonymous",auth:!1,username:void 0},authLogs:[],entityMessage:"welcome, <a href='/self'>"+(this.user?this.user.username:"anonymous")+"</a>",realms:["all","public","free","philosophy"],pageHistory:[],thingTypes:["object","service","inventory","question","answer","moment"],types:["Array","String","Number","Boolean","Thing","Array of Arrays","Array of Booleans","Array of Numbers","Array of Things","Array of Strings","Thing of Arrays","Thing of Booleans","Thing of Numbers","Thing of Things","Thing of Strings"],thingNames:["fork","flashlight","book","food","vegan lesagne","sour strap","wallet","blanket","mattress"],priceUnits:["purchase","unit","use","click","second","minute","hour","day","cm","metre","km","mg","g","kg","tonne"],currencies:["AUD","USD","EUR","REN","YEN","RUP"],sideBarOptions:["closed"],ico:{sandboxThing:{title:"A lopu sandbox thing",description:"change as much as you want, the change's will still be here when you return",names:["a lopu ico sandbox thing","thing"]},sandboxThingSchema:{title:"A lopu sandbox thing",description:"change as much as you want, the change's will still be here when you return",names:["a lopu ico sandbox thing","thing"]}},test:{woo:Boolean,woo1:Array,woo2:[Array],woo3:{Array:Array},woo4:{hmm:Boolean,hmm1:Array,hmm2:[Object],hmm3:{Array:Array}}},cached:[[]],interactionStarted:!1},getters:{isAuthenticated:function(){},entityGetter:function(t){return t.entity},getUsername:function(t){return t.entity.username},latestCached:function(t){if(t.cached.length){var e=t.cached[t.cached.length-1];return e&&e.constructor==Array?e:[]}return t.cached.push([]),t.cached[t.cached.length-1]}},setters:{},mutations:{interactionStarted:function(t,e){t.interactionStarted=e},addCachedState:function(t,e){console.log("caching payload"),console.log(e),t.cached.length>=8&&(t.cached=t.cached.slice(t.cached.length-8,t.cached.length)),e&&e.constructor==Array&&t.cached.push(e)},isAuthenticated:function(t,e){t.isAuthenticated=e.isAuthenticated},entitySet:function(t,e){t.entity=e},navSet:function(t,e){t.nav=e},sandboxThingSet:function(t,e){t.ico.sandboxThing=e},entityInventorySet:function(t,e){t.entity.inventory=e},newAuthLog:function(t,e){t.authLogs.push(e)},entityMessageUpdate:function(t,e){t.userMessage=e},SetRealms:function(t,e){t.realms=e},SetThingTypes:function(t,e){t.thingTypes=e},addPage:function(t,e){"string"==typeof e&&t.pageHistory.push(e)},resetSandboxThing:function(t,e){if(e){var i=_i.a.parse(_i.a.stringify(t.ico.sandboxThingSchema));t.ico.sandboxThing=i}}},actions:{login:function(t,e){}},plugins:[Object(Ci.a)()]}),Oi=i("TXmL"),Si={en:{failed:"Action failed",success:"Action was successful"}},xi=i("mtWM"),ki=i.n(xi),$i=i("iFDT");window.mapboxgl=i("1e2d");var ji=i("dqTT"),Ai=i.n(ji),Ni=(i("D/PP"),i("D4uH")),Li=i("kwPQ"),qi=i.n(Li),Pi=i("DAYN"),Di=i.n(Pi),Fi=i("DmT9"),Bi=i.n(Fi),Ei=i("hMcO"),Gi=i.n(Ei),zi=i("p3uV"),Hi=Bi()("https://alopuserver.src",{parser:zi}),Vi=i("T1ft"),Ri=i.n(Vi),Ui=i("8+8L"),Wi=i("66dk"),Qi=i.n(Wi),Yi=i("fzx2");i("tPmd"),i("NSaL");var Ji=i("mM94");o.a.config.productionTip=!1;var Zi=n()({el:"#q-app",router:wi,store:Ti},V),Xi=[];Xi.push(function(t){var e=t.app;t.Vue.use(Oi.a),e.i18n=new Oi.a({locale:"en",fallbackLocale:"en",messages:Si})}),Xi.push(function(t){t.Vue.prototype.$axios=ki.a}),Xi.push(function(t){t.app,t.router;t.Vue.mixin({data:function(){return{jsmart:$i}}})}),Xi.push(function(t){t.app,t.router,t.Vue}),Xi.push(function(t){t.app,t.router;t.Vue.component("mapbox",Ai.a)}),Xi.push(function(t){t.app,t.router;t.Vue.component("icon",Ni.a)}),Xi.push(function(t){t.app,t.router;t.Vue.component("VueImgInputer",qi.a)}),Xi.push(function(t){t.app,t.router;t.Vue.component("draggable",Di.a)}),Xi.push(function(t){t.app,t.router;t.Vue.use(Gi.a,Hi)}),Xi.push(function(t){t.app,t.router;t.Vue.component("v-select",Ri.a)}),Xi.push(function(t){t.app,t.router;t.Vue.use(Ui.a)}),Xi.push(function(t){t.app,t.router;t.Vue.component("medium-editor",Qi.a)}),Xi.push(function(t){t.app,t.router;t.Vue.use(Yi.a)}),Xi.push(function(t){t.app,t.router;var e=t.Vue,i=new e;e.mixin({data:function(){return{eventHub:i}}})}),Xi.push(function(t){t.app,t.router,t.Vue}),Xi.push(function(t){t.app,t.router;t.Vue.use(Ji.a)}),Xi.forEach(function(t){return t({app:Zi,router:wi,store:Ti,Vue:o.a})}),new o.a(Zi)},t9i0:function(t,e){},tPmd:function(t,e){},vJsI:function(t,e){},xQ5D:function(t,e){},xjXE:function(t,e){},zQNB:function(t,e){}},[0]);